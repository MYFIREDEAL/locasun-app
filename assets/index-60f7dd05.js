function vO(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function _a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var QC={exports:{}},im={},ZC={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var au=Symbol.for("react.element"),xO=Symbol.for("react.portal"),yO=Symbol.for("react.fragment"),bO=Symbol.for("react.strict_mode"),wO=Symbol.for("react.profiler"),jO=Symbol.for("react.provider"),NO=Symbol.for("react.context"),CO=Symbol.for("react.forward_ref"),SO=Symbol.for("react.suspense"),PO=Symbol.for("react.memo"),EO=Symbol.for("react.lazy"),Xb=Symbol.iterator;function DO(e){return e===null||typeof e!="object"?null:(e=Xb&&e[Xb]||e["@@iterator"],typeof e=="function"?e:null)}var eS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tS=Object.assign,nS={};function ul(e,t,n){this.props=e,this.context=t,this.refs=nS,this.updater=n||eS}ul.prototype.isReactComponent={};ul.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ul.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rS(){}rS.prototype=ul.prototype;function Ox(e,t,n){this.props=e,this.context=t,this.refs=nS,this.updater=n||eS}var $x=Ox.prototype=new rS;$x.constructor=Ox;tS($x,ul.prototype);$x.isPureReactComponent=!0;var Jb=Array.isArray,sS=Object.prototype.hasOwnProperty,_x={current:null},oS={key:!0,ref:!0,__self:!0,__source:!0};function aS(e,t,n){var r,s={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)sS.call(t,r)&&!oS.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:au,type:e,key:a,ref:i,props:s,_owner:_x.current}}function TO(e,t){return{$$typeof:au,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lx(e){return typeof e=="object"&&e!==null&&e.$$typeof===au}function AO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qb=/\/+/g;function Qp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AO(""+e.key):t.toString(36)}function Ed(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case au:case xO:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Qp(i,0):r,Jb(s)?(n="",e!=null&&(n=e.replace(Qb,"$&/")+"/"),Ed(s,t,n,"",function(u){return u})):s!=null&&(Lx(s)&&(s=TO(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Qb,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Jb(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Qp(a,l);i+=Ed(a,t,n,c,s)}else if(c=DO(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Qp(a,l++),i+=Ed(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Vu(e,t,n){if(e==null)return e;var r=[],s=0;return Ed(e,r,"","",function(a){return t.call(n,a,s++)}),r}function kO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hn={current:null},Dd={transition:null},RO={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:Dd,ReactCurrentOwner:_x};function iS(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Vu,forEach:function(e,t,n){Vu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vu(e,function(){t++}),t},toArray:function(e){return Vu(e,function(t){return t})||[]},only:function(e){if(!Lx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=ul;Te.Fragment=yO;Te.Profiler=wO;Te.PureComponent=Ox;Te.StrictMode=bO;Te.Suspense=SO;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RO;Te.act=iS;Te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=tS({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=_x.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)sS.call(t,c)&&!oS.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:au,type:e.type,key:s,ref:a,props:r,_owner:i}};Te.createContext=function(e){return e={$$typeof:NO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jO,_context:e},e.Consumer=e};Te.createElement=aS;Te.createFactory=function(e){var t=aS.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:CO,render:e}};Te.isValidElement=Lx;Te.lazy=function(e){return{$$typeof:EO,_payload:{_status:-1,_result:e},_init:kO}};Te.memo=function(e,t){return{$$typeof:PO,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=Dd.transition;Dd.transition={};try{e()}finally{Dd.transition=t}};Te.unstable_act=iS;Te.useCallback=function(e,t){return hn.current.useCallback(e,t)};Te.useContext=function(e){return hn.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return hn.current.useDeferredValue(e)};Te.useEffect=function(e,t){return hn.current.useEffect(e,t)};Te.useId=function(){return hn.current.useId()};Te.useImperativeHandle=function(e,t,n){return hn.current.useImperativeHandle(e,t,n)};Te.useInsertionEffect=function(e,t){return hn.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return hn.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return hn.current.useMemo(e,t)};Te.useReducer=function(e,t,n){return hn.current.useReducer(e,t,n)};Te.useRef=function(e){return hn.current.useRef(e)};Te.useState=function(e){return hn.current.useState(e)};Te.useSyncExternalStore=function(e,t,n){return hn.current.useSyncExternalStore(e,t,n)};Te.useTransition=function(){return hn.current.useTransition()};Te.version="18.3.1";ZC.exports=Te;var m=ZC.exports;const G=_a(m),iu=vO({__proto__:null,default:G},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MO=m,IO=Symbol.for("react.element"),OO=Symbol.for("react.fragment"),$O=Object.prototype.hasOwnProperty,_O=MO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LO={key:!0,ref:!0,__self:!0,__source:!0};function lS(e,t,n){var r,s={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)$O.call(t,r)&&!LO.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:IO,type:e,key:a,ref:i,props:s,_owner:_O.current}}im.Fragment=OO;im.jsx=lS;im.jsxs=lS;QC.exports=im;var o=QC.exports,Mg={},cS={exports:{}},Qn={},uS={exports:{}},dS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,_){var O=T.length;T.push(_);e:for(;0<O;){var M=O-1>>>1,F=T[M];if(0<s(F,_))T[M]=_,T[O]=F,O=M;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var _=T[0],O=T.pop();if(O!==_){T[0]=O;e:for(var M=0,F=T.length,W=F>>>1;M<W;){var J=2*(M+1)-1,ie=T[J],H=J+1,U=T[H];if(0>s(ie,O))H<F&&0>s(U,ie)?(T[M]=U,T[H]=O,M=H):(T[M]=ie,T[J]=O,M=J);else if(H<F&&0>s(U,O))T[M]=U,T[H]=O,M=H;else break e}}return _}function s(T,_){var O=T.sortIndex-_.sortIndex;return O!==0?O:T.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,p=3,h=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var _=n(u);_!==null;){if(_.callback===null)r(u);else if(_.startTime<=T)r(u),_.sortIndex=_.expirationTime,t(c,_);else break;_=n(u)}}function j(T){if(v=!1,w(T),!g)if(n(c)!==null)g=!0,V(N);else{var _=n(u);_!==null&&k(j,_.startTime-T)}}function N(T,_){g=!1,v&&(v=!1,x(P),P=-1),h=!0;var O=p;try{for(w(_),f=n(c);f!==null&&(!(f.expirationTime>_)||T&&!D());){var M=f.callback;if(typeof M=="function"){f.callback=null,p=f.priorityLevel;var F=M(f.expirationTime<=_);_=e.unstable_now(),typeof F=="function"?f.callback=F:f===n(c)&&r(c),w(_)}else r(c);f=n(c)}if(f!==null)var W=!0;else{var J=n(u);J!==null&&k(j,J.startTime-_),W=!1}return W}finally{f=null,p=O,h=!1}}var C=!1,S=null,P=-1,R=5,E=-1;function D(){return!(e.unstable_now()-E<R)}function A(){if(S!==null){var T=e.unstable_now();E=T;var _=!0;try{_=S(!0,T)}finally{_?$():(C=!1,S=null)}}else C=!1}var $;if(typeof y=="function")$=function(){y(A)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,z=I.port2;I.port1.onmessage=A,$=function(){z.postMessage(null)}}else $=function(){b(A,0)};function V(T){S=T,C||(C=!0,$())}function k(T,_){P=b(function(){T(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,V(N))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var _=3;break;default:_=p}var O=p;p=_;try{return T()}finally{p=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,_){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var O=p;p=T;try{return _()}finally{p=O}},e.unstable_scheduleCallback=function(T,_,O){var M=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?M+O:M):O=M,T){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=O+F,T={id:d++,callback:_,priorityLevel:T,startTime:O,expirationTime:F,sortIndex:-1},O>M?(T.sortIndex=O,t(u,T),n(c)===null&&T===n(u)&&(v?(x(P),P=-1):v=!0,k(j,O-M))):(T.sortIndex=F,t(c,T),g||h||(g=!0,V(N))),T},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(T){var _=p;return function(){var O=p;p=_;try{return T.apply(this,arguments)}finally{p=O}}}})(dS);uS.exports=dS;var FO=uS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BO=m,qn=FO;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fS=new Set,hc={};function La(e,t){Wi(e,t),Wi(e+"Capture",t)}function Wi(e,t){for(hc[e]=t,e=0;e<t.length;e++)fS.add(t[e])}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ig=Object.prototype.hasOwnProperty,VO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zb={},ew={};function zO(e){return Ig.call(ew,e)?!0:Ig.call(Zb,e)?!1:VO.test(e)?ew[e]=!0:(Zb[e]=!0,!1)}function UO(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function WO(e,t,n,r){if(t===null||typeof t>"u"||UO(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gn(e,t,n,r,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yt[e]=new gn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yt[t]=new gn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yt[e]=new gn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yt[e]=new gn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yt[e]=new gn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yt[e]=new gn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yt[e]=new gn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yt[e]=new gn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yt[e]=new gn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fx=/[\-:]([a-z])/g;function Bx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fx,Bx);Yt[t]=new gn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fx,Bx);Yt[t]=new gn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fx,Bx);Yt[t]=new gn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yt[e]=new gn(e,1,!1,e.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yt[e]=new gn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vx(e,t,n,r){var s=Yt.hasOwnProperty(t)?Yt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(WO(t,n,s,r)&&(n=null),r||s===null?zO(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ys=BO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zu=Symbol.for("react.element"),fi=Symbol.for("react.portal"),mi=Symbol.for("react.fragment"),zx=Symbol.for("react.strict_mode"),Og=Symbol.for("react.profiler"),mS=Symbol.for("react.provider"),pS=Symbol.for("react.context"),Ux=Symbol.for("react.forward_ref"),$g=Symbol.for("react.suspense"),_g=Symbol.for("react.suspense_list"),Wx=Symbol.for("react.memo"),uo=Symbol.for("react.lazy"),hS=Symbol.for("react.offscreen"),tw=Symbol.iterator;function Sl(e){return e===null||typeof e!="object"?null:(e=tw&&e[tw]||e["@@iterator"],typeof e=="function"?e:null)}var ft=Object.assign,Zp;function Wl(e){if(Zp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Zp=t&&t[1]||""}return`
`+Zp+e}var eh=!1;function th(e,t){if(!e||eh)return"";eh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{eh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Wl(e):""}function HO(e){switch(e.tag){case 5:return Wl(e.type);case 16:return Wl("Lazy");case 13:return Wl("Suspense");case 19:return Wl("SuspenseList");case 0:case 2:case 15:return e=th(e.type,!1),e;case 11:return e=th(e.type.render,!1),e;case 1:return e=th(e.type,!0),e;default:return""}}function Lg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mi:return"Fragment";case fi:return"Portal";case Og:return"Profiler";case zx:return"StrictMode";case $g:return"Suspense";case _g:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pS:return(e.displayName||"Context")+".Consumer";case mS:return(e._context.displayName||"Context")+".Provider";case Ux:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wx:return t=e.displayName||null,t!==null?t:Lg(e.type)||"Memo";case uo:t=e._payload,e=e._init;try{return Lg(e(t))}catch{}}return null}function GO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lg(t);case 8:return t===zx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Oo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YO(e){var t=gS(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Uu(e){e._valueTracker||(e._valueTracker=YO(e))}function vS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=gS(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fg(e,t){var n=t.checked;return ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function nw(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Oo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xS(e,t){t=t.checked,t!=null&&Vx(e,"checked",t,!1)}function Bg(e,t){xS(e,t);var n=Oo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vg(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vg(e,t.type,Oo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rw(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vg(e,t,n){(t!=="number"||Xd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Hl=Array.isArray;function Di(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Oo(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function zg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Q(92));if(Hl(n)){if(1<n.length)throw Error(Q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Oo(n)}}function yS(e,t){var n=Oo(t.value),r=Oo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ow(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ug(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wu,wS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wu=Wu||document.createElement("div"),Wu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qO=["Webkit","ms","Moz","O"];Object.keys(Jl).forEach(function(e){qO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jl[t]=Jl[e]})});function jS(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Jl.hasOwnProperty(e)&&Jl[e]?(""+t).trim():t+"px"}function NS(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=jS(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var KO=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wg(e,t){if(t){if(KO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function Hg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gg=null;function Hx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yg=null,Ti=null,Ai=null;function aw(e){if(e=uu(e)){if(typeof Yg!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=fm(t),Yg(e.stateNode,e.type,t))}}function CS(e){Ti?Ai?Ai.push(e):Ai=[e]:Ti=e}function SS(){if(Ti){var e=Ti,t=Ai;if(Ai=Ti=null,aw(e),t)for(e=0;e<t.length;e++)aw(t[e])}}function PS(e,t){return e(t)}function ES(){}var nh=!1;function DS(e,t,n){if(nh)return e(t,n);nh=!0;try{return PS(e,t,n)}finally{nh=!1,(Ti!==null||Ai!==null)&&(ES(),SS())}}function vc(e,t){var n=e.stateNode;if(n===null)return null;var r=fm(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Q(231,t,typeof n));return n}var qg=!1;if($s)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){qg=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{qg=!1}function XO(e,t,n,r,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Ql=!1,Jd=null,Qd=!1,Kg=null,JO={onError:function(e){Ql=!0,Jd=e}};function QO(e,t,n,r,s,a,i,l,c){Ql=!1,Jd=null,XO.apply(JO,arguments)}function ZO(e,t,n,r,s,a,i,l,c){if(QO.apply(this,arguments),Ql){if(Ql){var u=Jd;Ql=!1,Jd=null}else throw Error(Q(198));Qd||(Qd=!0,Kg=u)}}function Fa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function TS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function iw(e){if(Fa(e)!==e)throw Error(Q(188))}function e$(e){var t=e.alternate;if(!t){if(t=Fa(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return iw(s),e;if(a===r)return iw(s),t;a=a.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?e:t}function AS(e){return e=e$(e),e!==null?kS(e):null}function kS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kS(e);if(t!==null)return t;e=e.sibling}return null}var RS=qn.unstable_scheduleCallback,lw=qn.unstable_cancelCallback,t$=qn.unstable_shouldYield,n$=qn.unstable_requestPaint,xt=qn.unstable_now,r$=qn.unstable_getCurrentPriorityLevel,Gx=qn.unstable_ImmediatePriority,MS=qn.unstable_UserBlockingPriority,Zd=qn.unstable_NormalPriority,s$=qn.unstable_LowPriority,IS=qn.unstable_IdlePriority,lm=null,os=null;function o$(e){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(lm,e,void 0,(e.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:l$,a$=Math.log,i$=Math.LN2;function l$(e){return e>>>=0,e===0?32:31-(a$(e)/i$|0)|0}var Hu=64,Gu=4194304;function Gl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ef(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Gl(l):(a&=i,a!==0&&(r=Gl(a)))}else i=n&~s,i!==0?r=Gl(i):a!==0&&(r=Gl(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Dr(t),s=1<<n,r|=e[n],t&=~s;return r}function c$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u$(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Dr(a),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=c$(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Xg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function OS(){var e=Hu;return Hu<<=1,!(Hu&4194240)&&(Hu=64),e}function rh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dr(t),e[t]=n}function d$(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Dr(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Yx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Dr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ge=0;function $S(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _S,qx,LS,FS,BS,Jg=!1,Yu=[],wo=null,jo=null,No=null,xc=new Map,yc=new Map,go=[],f$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cw(e,t){switch(e){case"focusin":case"focusout":wo=null;break;case"dragenter":case"dragleave":jo=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":xc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(t.pointerId)}}function El(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=uu(t),t!==null&&qx(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function m$(e,t,n,r,s){switch(t){case"focusin":return wo=El(wo,e,t,n,r,s),!0;case"dragenter":return jo=El(jo,e,t,n,r,s),!0;case"mouseover":return No=El(No,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return xc.set(a,El(xc.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,yc.set(a,El(yc.get(a)||null,e,t,n,r,s)),!0}return!1}function VS(e){var t=ma(e.target);if(t!==null){var n=Fa(t);if(n!==null){if(t=n.tag,t===13){if(t=TS(n),t!==null){e.blockedOn=t,BS(e.priority,function(){LS(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Td(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Gg=r,n.target.dispatchEvent(r),Gg=null}else return t=uu(n),t!==null&&qx(t),e.blockedOn=n,!1;t.shift()}return!0}function uw(e,t,n){Td(e)&&n.delete(t)}function p$(){Jg=!1,wo!==null&&Td(wo)&&(wo=null),jo!==null&&Td(jo)&&(jo=null),No!==null&&Td(No)&&(No=null),xc.forEach(uw),yc.forEach(uw)}function Dl(e,t){e.blockedOn===t&&(e.blockedOn=null,Jg||(Jg=!0,qn.unstable_scheduleCallback(qn.unstable_NormalPriority,p$)))}function bc(e){function t(s){return Dl(s,e)}if(0<Yu.length){Dl(Yu[0],e);for(var n=1;n<Yu.length;n++){var r=Yu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wo!==null&&Dl(wo,e),jo!==null&&Dl(jo,e),No!==null&&Dl(No,e),xc.forEach(t),yc.forEach(t),n=0;n<go.length;n++)r=go[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<go.length&&(n=go[0],n.blockedOn===null);)VS(n),n.blockedOn===null&&go.shift()}var ki=Ys.ReactCurrentBatchConfig,tf=!0;function h$(e,t,n,r){var s=Ge,a=ki.transition;ki.transition=null;try{Ge=1,Kx(e,t,n,r)}finally{Ge=s,ki.transition=a}}function g$(e,t,n,r){var s=Ge,a=ki.transition;ki.transition=null;try{Ge=4,Kx(e,t,n,r)}finally{Ge=s,ki.transition=a}}function Kx(e,t,n,r){if(tf){var s=Qg(e,t,n,r);if(s===null)mh(e,t,r,nf,n),cw(e,r);else if(m$(s,e,t,n,r))r.stopPropagation();else if(cw(e,r),t&4&&-1<f$.indexOf(e)){for(;s!==null;){var a=uu(s);if(a!==null&&_S(a),a=Qg(e,t,n,r),a===null&&mh(e,t,r,nf,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else mh(e,t,r,null,n)}}var nf=null;function Qg(e,t,n,r){if(nf=null,e=Hx(r),e=ma(e),e!==null)if(t=Fa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=TS(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nf=e,null}function zS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(r$()){case Gx:return 1;case MS:return 4;case Zd:case s$:return 16;case IS:return 536870912;default:return 16}default:return 16}}var xo=null,Xx=null,Ad=null;function US(){if(Ad)return Ad;var e,t=Xx,n=t.length,r,s="value"in xo?xo.value:xo.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[a-r];r++);return Ad=s.slice(e,1<r?1-r:void 0)}function kd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qu(){return!0}function dw(){return!1}function Zn(e){function t(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?qu:dw,this.isPropagationStopped=dw,this}return ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qu)},persist:function(){},isPersistent:qu}),t}var dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jx=Zn(dl),cu=ft({},dl,{view:0,detail:0}),v$=Zn(cu),sh,oh,Tl,cm=ft({},cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tl&&(Tl&&e.type==="mousemove"?(sh=e.screenX-Tl.screenX,oh=e.screenY-Tl.screenY):oh=sh=0,Tl=e),sh)},movementY:function(e){return"movementY"in e?e.movementY:oh}}),fw=Zn(cm),x$=ft({},cm,{dataTransfer:0}),y$=Zn(x$),b$=ft({},cu,{relatedTarget:0}),ah=Zn(b$),w$=ft({},dl,{animationName:0,elapsedTime:0,pseudoElement:0}),j$=Zn(w$),N$=ft({},dl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),C$=Zn(N$),S$=ft({},dl,{data:0}),mw=Zn(S$),P$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=D$[e])?!!t[e]:!1}function Qx(){return T$}var A$=ft({},cu,{key:function(e){if(e.key){var t=P$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?E$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qx,charCode:function(e){return e.type==="keypress"?kd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),k$=Zn(A$),R$=ft({},cm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pw=Zn(R$),M$=ft({},cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qx}),I$=Zn(M$),O$=ft({},dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),$$=Zn(O$),_$=ft({},cm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),L$=Zn(_$),F$=[9,13,27,32],Zx=$s&&"CompositionEvent"in window,Zl=null;$s&&"documentMode"in document&&(Zl=document.documentMode);var B$=$s&&"TextEvent"in window&&!Zl,WS=$s&&(!Zx||Zl&&8<Zl&&11>=Zl),hw=String.fromCharCode(32),gw=!1;function HS(e,t){switch(e){case"keyup":return F$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pi=!1;function V$(e,t){switch(e){case"compositionend":return GS(t);case"keypress":return t.which!==32?null:(gw=!0,hw);case"textInput":return e=t.data,e===hw&&gw?null:e;default:return null}}function z$(e,t){if(pi)return e==="compositionend"||!Zx&&HS(e,t)?(e=US(),Ad=Xx=xo=null,pi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return WS&&t.locale!=="ko"?null:t.data;default:return null}}var U$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!U$[e.type]:t==="textarea"}function YS(e,t,n,r){CS(r),t=rf(t,"onChange"),0<t.length&&(n=new Jx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ec=null,wc=null;function W$(e){sP(e,0)}function um(e){var t=vi(e);if(vS(t))return e}function H$(e,t){if(e==="change")return t}var qS=!1;if($s){var ih;if($s){var lh="oninput"in document;if(!lh){var xw=document.createElement("div");xw.setAttribute("oninput","return;"),lh=typeof xw.oninput=="function"}ih=lh}else ih=!1;qS=ih&&(!document.documentMode||9<document.documentMode)}function yw(){ec&&(ec.detachEvent("onpropertychange",KS),wc=ec=null)}function KS(e){if(e.propertyName==="value"&&um(wc)){var t=[];YS(t,wc,e,Hx(e)),DS(W$,t)}}function G$(e,t,n){e==="focusin"?(yw(),ec=t,wc=n,ec.attachEvent("onpropertychange",KS)):e==="focusout"&&yw()}function Y$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return um(wc)}function q$(e,t){if(e==="click")return um(t)}function K$(e,t){if(e==="input"||e==="change")return um(t)}function X$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kr=typeof Object.is=="function"?Object.is:X$;function jc(e,t){if(kr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ig.call(t,s)||!kr(e[s],t[s]))return!1}return!0}function bw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ww(e,t){var n=bw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bw(n)}}function XS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?XS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function JS(){for(var e=window,t=Xd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xd(e.document)}return t}function e0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function J$(e){var t=JS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&XS(n.ownerDocument.documentElement,n)){if(r!==null&&e0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=ww(n,a);var i=ww(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Q$=$s&&"documentMode"in document&&11>=document.documentMode,hi=null,Zg=null,tc=null,ev=!1;function jw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ev||hi==null||hi!==Xd(r)||(r=hi,"selectionStart"in r&&e0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tc&&jc(tc,r)||(tc=r,r=rf(Zg,"onSelect"),0<r.length&&(t=new Jx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hi)))}function Ku(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gi={animationend:Ku("Animation","AnimationEnd"),animationiteration:Ku("Animation","AnimationIteration"),animationstart:Ku("Animation","AnimationStart"),transitionend:Ku("Transition","TransitionEnd")},ch={},QS={};$s&&(QS=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function dm(e){if(ch[e])return ch[e];if(!gi[e])return e;var t=gi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in QS)return ch[e]=t[n];return e}var ZS=dm("animationend"),eP=dm("animationiteration"),tP=dm("animationstart"),nP=dm("transitionend"),rP=new Map,Nw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ko(e,t){rP.set(e,t),La(t,[e])}for(var uh=0;uh<Nw.length;uh++){var dh=Nw[uh],Z$=dh.toLowerCase(),e4=dh[0].toUpperCase()+dh.slice(1);Ko(Z$,"on"+e4)}Ko(ZS,"onAnimationEnd");Ko(eP,"onAnimationIteration");Ko(tP,"onAnimationStart");Ko("dblclick","onDoubleClick");Ko("focusin","onFocus");Ko("focusout","onBlur");Ko(nP,"onTransitionEnd");Wi("onMouseEnter",["mouseout","mouseover"]);Wi("onMouseLeave",["mouseout","mouseover"]);Wi("onPointerEnter",["pointerout","pointerover"]);Wi("onPointerLeave",["pointerout","pointerover"]);La("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));La("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));La("onBeforeInput",["compositionend","keypress","textInput","paste"]);La("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));La("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));La("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yl));function Cw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ZO(r,t,void 0,e),e.currentTarget=null}function sP(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Cw(s,l,u),a=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Cw(s,l,u),a=c}}}if(Qd)throw e=Kg,Qd=!1,Kg=null,e}function st(e,t){var n=t[ov];n===void 0&&(n=t[ov]=new Set);var r=e+"__bubble";n.has(r)||(oP(t,e,2,!1),n.add(r))}function fh(e,t,n){var r=0;t&&(r|=4),oP(n,e,r,t)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Nc(e){if(!e[Xu]){e[Xu]=!0,fS.forEach(function(n){n!=="selectionchange"&&(t4.has(n)||fh(n,!1,e),fh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xu]||(t[Xu]=!0,fh("selectionchange",!1,t))}}function oP(e,t,n,r){switch(zS(t)){case 1:var s=h$;break;case 4:s=g$;break;default:s=Kx}n=s.bind(null,t,n,e),s=void 0,!qg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function mh(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=ma(l),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}l=l.parentNode}}r=r.return}DS(function(){var u=a,d=Hx(n),f=[];e:{var p=rP.get(e);if(p!==void 0){var h=Jx,g=e;switch(e){case"keypress":if(kd(n)===0)break e;case"keydown":case"keyup":h=k$;break;case"focusin":g="focus",h=ah;break;case"focusout":g="blur",h=ah;break;case"beforeblur":case"afterblur":h=ah;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=fw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=y$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=I$;break;case ZS:case eP:case tP:h=j$;break;case nP:h=$$;break;case"scroll":h=v$;break;case"wheel":h=L$;break;case"copy":case"cut":case"paste":h=C$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=pw}var v=(t&4)!==0,b=!v&&e==="scroll",x=v?p!==null?p+"Capture":null:p;v=[];for(var y=u,w;y!==null;){w=y;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,x!==null&&(j=vc(y,x),j!=null&&v.push(Cc(y,j,w)))),b)break;y=y.return}0<v.length&&(p=new h(p,g,null,n,d),f.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==Gg&&(g=n.relatedTarget||n.fromElement)&&(ma(g)||g[_s]))break e;if((h||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=u,g=g?ma(g):null,g!==null&&(b=Fa(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(v=fw,j="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=pw,j="onPointerLeave",x="onPointerEnter",y="pointer"),b=h==null?p:vi(h),w=g==null?p:vi(g),p=new v(j,y+"leave",h,n,d),p.target=b,p.relatedTarget=w,j=null,ma(d)===u&&(v=new v(x,y+"enter",g,n,d),v.target=w,v.relatedTarget=b,j=v),b=j,h&&g)t:{for(v=h,x=g,y=0,w=v;w;w=ei(w))y++;for(w=0,j=x;j;j=ei(j))w++;for(;0<y-w;)v=ei(v),y--;for(;0<w-y;)x=ei(x),w--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=ei(v),x=ei(x)}v=null}else v=null;h!==null&&Sw(f,p,h,v,!1),g!==null&&b!==null&&Sw(f,b,g,v,!0)}}e:{if(p=u?vi(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var N=H$;else if(vw(p))if(qS)N=K$;else{N=Y$;var C=G$}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=q$);if(N&&(N=N(e,u))){YS(f,N,n,d);break e}C&&C(e,p,u),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Vg(p,"number",p.value)}switch(C=u?vi(u):window,e){case"focusin":(vw(C)||C.contentEditable==="true")&&(hi=C,Zg=u,tc=null);break;case"focusout":tc=Zg=hi=null;break;case"mousedown":ev=!0;break;case"contextmenu":case"mouseup":case"dragend":ev=!1,jw(f,n,d);break;case"selectionchange":if(Q$)break;case"keydown":case"keyup":jw(f,n,d)}var S;if(Zx)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else pi?HS(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(WS&&n.locale!=="ko"&&(pi||P!=="onCompositionStart"?P==="onCompositionEnd"&&pi&&(S=US()):(xo=d,Xx="value"in xo?xo.value:xo.textContent,pi=!0)),C=rf(u,P),0<C.length&&(P=new mw(P,e,null,n,d),f.push({event:P,listeners:C}),S?P.data=S:(S=GS(n),S!==null&&(P.data=S)))),(S=B$?V$(e,n):z$(e,n))&&(u=rf(u,"onBeforeInput"),0<u.length&&(d=new mw("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}sP(f,t)})}function Cc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rf(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=vc(e,n),a!=null&&r.unshift(Cc(e,a,s)),a=vc(e,t),a!=null&&r.push(Cc(e,a,s))),e=e.return}return r}function ei(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sw(e,t,n,r,s){for(var a=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=vc(n,a),c!=null&&i.unshift(Cc(n,c,l))):s||(c=vc(n,a),c!=null&&i.push(Cc(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var n4=/\r\n?/g,r4=/\u0000|\uFFFD/g;function Pw(e){return(typeof e=="string"?e:""+e).replace(n4,`
`).replace(r4,"")}function Ju(e,t,n){if(t=Pw(t),Pw(e)!==t&&n)throw Error(Q(425))}function sf(){}var tv=null,nv=null;function rv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sv=typeof setTimeout=="function"?setTimeout:void 0,s4=typeof clearTimeout=="function"?clearTimeout:void 0,Ew=typeof Promise=="function"?Promise:void 0,o4=typeof queueMicrotask=="function"?queueMicrotask:typeof Ew<"u"?function(e){return Ew.resolve(null).then(e).catch(a4)}:sv;function a4(e){setTimeout(function(){throw e})}function ph(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),bc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);bc(t)}function Co(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fl=Math.random().toString(36).slice(2),Yr="__reactFiber$"+fl,Sc="__reactProps$"+fl,_s="__reactContainer$"+fl,ov="__reactEvents$"+fl,i4="__reactListeners$"+fl,l4="__reactHandles$"+fl;function ma(e){var t=e[Yr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_s]||n[Yr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dw(e);e!==null;){if(n=e[Yr])return n;e=Dw(e)}return t}e=n,n=e.parentNode}return null}function uu(e){return e=e[Yr]||e[_s],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function fm(e){return e[Sc]||null}var av=[],xi=-1;function Xo(e){return{current:e}}function ot(e){0>xi||(e.current=av[xi],av[xi]=null,xi--)}function Ze(e,t){xi++,av[xi]=e.current,e.current=t}var $o={},rn=Xo($o),En=Xo(!1),Na=$o;function Hi(e,t){var n=e.type.contextTypes;if(!n)return $o;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Dn(e){return e=e.childContextTypes,e!=null}function of(){ot(En),ot(rn)}function Tw(e,t,n){if(rn.current!==$o)throw Error(Q(168));Ze(rn,t),Ze(En,n)}function aP(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Q(108,GO(e)||"Unknown",s));return ft({},n,r)}function af(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$o,Na=rn.current,Ze(rn,e),Ze(En,En.current),!0}function Aw(e,t,n){var r=e.stateNode;if(!r)throw Error(Q(169));n?(e=aP(e,t,Na),r.__reactInternalMemoizedMergedChildContext=e,ot(En),ot(rn),Ze(rn,e)):ot(En),Ze(En,n)}var Ss=null,mm=!1,hh=!1;function iP(e){Ss===null?Ss=[e]:Ss.push(e)}function c4(e){mm=!0,iP(e)}function Jo(){if(!hh&&Ss!==null){hh=!0;var e=0,t=Ge;try{var n=Ss;for(Ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ss=null,mm=!1}catch(s){throw Ss!==null&&(Ss=Ss.slice(e+1)),RS(Gx,Jo),s}finally{Ge=t,hh=!1}}return null}var yi=[],bi=0,lf=null,cf=0,ar=[],ir=0,Ca=null,Ds=1,Ts="";function oa(e,t){yi[bi++]=cf,yi[bi++]=lf,lf=e,cf=t}function lP(e,t,n){ar[ir++]=Ds,ar[ir++]=Ts,ar[ir++]=Ca,Ca=e;var r=Ds;e=Ts;var s=32-Dr(r)-1;r&=~(1<<s),n+=1;var a=32-Dr(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Ds=1<<32-Dr(t)+s|n<<s|r,Ts=a+e}else Ds=1<<a|n<<s|r,Ts=e}function t0(e){e.return!==null&&(oa(e,1),lP(e,1,0))}function n0(e){for(;e===lf;)lf=yi[--bi],yi[bi]=null,cf=yi[--bi],yi[bi]=null;for(;e===Ca;)Ca=ar[--ir],ar[ir]=null,Ts=ar[--ir],ar[ir]=null,Ds=ar[--ir],ar[ir]=null}var Un=null,Vn=null,lt=!1,Sr=null;function cP(e,t){var n=cr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Un=e,Vn=Co(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Un=e,Vn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ca!==null?{id:Ds,overflow:Ts}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=cr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Un=e,Vn=null,!0):!1;default:return!1}}function iv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lv(e){if(lt){var t=Vn;if(t){var n=t;if(!kw(e,t)){if(iv(e))throw Error(Q(418));t=Co(n.nextSibling);var r=Un;t&&kw(e,t)?cP(r,n):(e.flags=e.flags&-4097|2,lt=!1,Un=e)}}else{if(iv(e))throw Error(Q(418));e.flags=e.flags&-4097|2,lt=!1,Un=e}}}function Rw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Un=e}function Qu(e){if(e!==Un)return!1;if(!lt)return Rw(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rv(e.type,e.memoizedProps)),t&&(t=Vn)){if(iv(e))throw uP(),Error(Q(418));for(;t;)cP(e,t),t=Co(t.nextSibling)}if(Rw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Vn=Co(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Vn=null}}else Vn=Un?Co(e.stateNode.nextSibling):null;return!0}function uP(){for(var e=Vn;e;)e=Co(e.nextSibling)}function Gi(){Vn=Un=null,lt=!1}function r0(e){Sr===null?Sr=[e]:Sr.push(e)}var u4=Ys.ReactCurrentBatchConfig;function Al(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,e))}return e}function Zu(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mw(e){var t=e._init;return t(e._payload)}function dP(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=Do(x,y),x.index=0,x.sibling=null,x}function a(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,w,j){return y===null||y.tag!==6?(y=jh(w,x.mode,j),y.return=x,y):(y=s(y,w),y.return=x,y)}function c(x,y,w,j){var N=w.type;return N===mi?d(x,y,w.props.children,j,w.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===uo&&Mw(N)===y.type)?(j=s(y,w.props),j.ref=Al(x,y,w),j.return=x,j):(j=Ld(w.type,w.key,w.props,null,x.mode,j),j.ref=Al(x,y,w),j.return=x,j)}function u(x,y,w,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Nh(w,x.mode,j),y.return=x,y):(y=s(y,w.children||[]),y.return=x,y)}function d(x,y,w,j,N){return y===null||y.tag!==7?(y=ba(w,x.mode,j,N),y.return=x,y):(y=s(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=jh(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case zu:return w=Ld(y.type,y.key,y.props,null,x.mode,w),w.ref=Al(x,null,y),w.return=x,w;case fi:return y=Nh(y,x.mode,w),y.return=x,y;case uo:var j=y._init;return f(x,j(y._payload),w)}if(Hl(y)||Sl(y))return y=ba(y,x.mode,w,null),y.return=x,y;Zu(x,y)}return null}function p(x,y,w,j){var N=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(x,y,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zu:return w.key===N?c(x,y,w,j):null;case fi:return w.key===N?u(x,y,w,j):null;case uo:return N=w._init,p(x,y,N(w._payload),j)}if(Hl(w)||Sl(w))return N!==null?null:d(x,y,w,j,null);Zu(x,w)}return null}function h(x,y,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(w)||null,l(y,x,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case zu:return x=x.get(j.key===null?w:j.key)||null,c(y,x,j,N);case fi:return x=x.get(j.key===null?w:j.key)||null,u(y,x,j,N);case uo:var C=j._init;return h(x,y,w,C(j._payload),N)}if(Hl(j)||Sl(j))return x=x.get(w)||null,d(y,x,j,N,null);Zu(y,j)}return null}function g(x,y,w,j){for(var N=null,C=null,S=y,P=y=0,R=null;S!==null&&P<w.length;P++){S.index>P?(R=S,S=null):R=S.sibling;var E=p(x,S,w[P],j);if(E===null){S===null&&(S=R);break}e&&S&&E.alternate===null&&t(x,S),y=a(E,y,P),C===null?N=E:C.sibling=E,C=E,S=R}if(P===w.length)return n(x,S),lt&&oa(x,P),N;if(S===null){for(;P<w.length;P++)S=f(x,w[P],j),S!==null&&(y=a(S,y,P),C===null?N=S:C.sibling=S,C=S);return lt&&oa(x,P),N}for(S=r(x,S);P<w.length;P++)R=h(S,x,P,w[P],j),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?P:R.key),y=a(R,y,P),C===null?N=R:C.sibling=R,C=R);return e&&S.forEach(function(D){return t(x,D)}),lt&&oa(x,P),N}function v(x,y,w,j){var N=Sl(w);if(typeof N!="function")throw Error(Q(150));if(w=N.call(w),w==null)throw Error(Q(151));for(var C=N=null,S=y,P=y=0,R=null,E=w.next();S!==null&&!E.done;P++,E=w.next()){S.index>P?(R=S,S=null):R=S.sibling;var D=p(x,S,E.value,j);if(D===null){S===null&&(S=R);break}e&&S&&D.alternate===null&&t(x,S),y=a(D,y,P),C===null?N=D:C.sibling=D,C=D,S=R}if(E.done)return n(x,S),lt&&oa(x,P),N;if(S===null){for(;!E.done;P++,E=w.next())E=f(x,E.value,j),E!==null&&(y=a(E,y,P),C===null?N=E:C.sibling=E,C=E);return lt&&oa(x,P),N}for(S=r(x,S);!E.done;P++,E=w.next())E=h(S,x,P,E.value,j),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?P:E.key),y=a(E,y,P),C===null?N=E:C.sibling=E,C=E);return e&&S.forEach(function(A){return t(x,A)}),lt&&oa(x,P),N}function b(x,y,w,j){if(typeof w=="object"&&w!==null&&w.type===mi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case zu:e:{for(var N=w.key,C=y;C!==null;){if(C.key===N){if(N=w.type,N===mi){if(C.tag===7){n(x,C.sibling),y=s(C,w.props.children),y.return=x,x=y;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===uo&&Mw(N)===C.type){n(x,C.sibling),y=s(C,w.props),y.ref=Al(x,C,w),y.return=x,x=y;break e}n(x,C);break}else t(x,C);C=C.sibling}w.type===mi?(y=ba(w.props.children,x.mode,j,w.key),y.return=x,x=y):(j=Ld(w.type,w.key,w.props,null,x.mode,j),j.ref=Al(x,y,w),j.return=x,x=j)}return i(x);case fi:e:{for(C=w.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(x,y.sibling),y=s(y,w.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=Nh(w,x.mode,j),y.return=x,x=y}return i(x);case uo:return C=w._init,b(x,y,C(w._payload),j)}if(Hl(w))return g(x,y,w,j);if(Sl(w))return v(x,y,w,j);Zu(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(x,y.sibling),y=s(y,w),y.return=x,x=y):(n(x,y),y=jh(w,x.mode,j),y.return=x,x=y),i(x)):n(x,y)}return b}var Yi=dP(!0),fP=dP(!1),uf=Xo(null),df=null,wi=null,s0=null;function o0(){s0=wi=df=null}function a0(e){var t=uf.current;ot(uf),e._currentValue=t}function cv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ri(e,t){df=e,s0=wi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pn=!0),e.firstContext=null)}function pr(e){var t=e._currentValue;if(s0!==e)if(e={context:e,memoizedValue:t,next:null},wi===null){if(df===null)throw Error(Q(308));wi=e,df.dependencies={lanes:0,firstContext:e}}else wi=wi.next=e;return t}var pa=null;function i0(e){pa===null?pa=[e]:pa.push(e)}function mP(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,i0(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ls(e,r)}function Ls(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fo=!1;function l0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function So(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ls(e,n)}return s=r.interleaved,s===null?(t.next=t,i0(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ls(e,n)}function Rd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yx(e,n)}}function Iw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ff(e,t,n,r){var s=e.updateQueue;fo=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,d=u=c=null,l=a;do{var p=l.lane,h=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,v=l;switch(p=t,h=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(h,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(h,f,p):g,p==null)break e;f=ft({},f,p);break e;case 2:fo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else h={eventTime:h,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,i|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Pa|=i,e.lanes=i,e.memoizedState=f}}function Ow(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var du={},as=Xo(du),Pc=Xo(du),Ec=Xo(du);function ha(e){if(e===du)throw Error(Q(174));return e}function c0(e,t){switch(Ze(Ec,t),Ze(Pc,e),Ze(as,du),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ug(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ug(t,e)}ot(as),Ze(as,t)}function qi(){ot(as),ot(Pc),ot(Ec)}function hP(e){ha(Ec.current);var t=ha(as.current),n=Ug(t,e.type);t!==n&&(Ze(Pc,e),Ze(as,n))}function u0(e){Pc.current===e&&(ot(as),ot(Pc))}var ct=Xo(0);function mf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gh=[];function d0(){for(var e=0;e<gh.length;e++)gh[e]._workInProgressVersionPrimary=null;gh.length=0}var Md=Ys.ReactCurrentDispatcher,vh=Ys.ReactCurrentBatchConfig,Sa=0,dt=null,St=null,Mt=null,pf=!1,nc=!1,Dc=0,d4=0;function Kt(){throw Error(Q(321))}function f0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kr(e[n],t[n]))return!1;return!0}function m0(e,t,n,r,s,a){if(Sa=a,dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Md.current=e===null||e.memoizedState===null?h4:g4,e=n(r,s),nc){a=0;do{if(nc=!1,Dc=0,25<=a)throw Error(Q(301));a+=1,Mt=St=null,t.updateQueue=null,Md.current=v4,e=n(r,s)}while(nc)}if(Md.current=hf,t=St!==null&&St.next!==null,Sa=0,Mt=St=dt=null,pf=!1,t)throw Error(Q(300));return e}function p0(){var e=Dc!==0;return Dc=0,e}function Gr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?dt.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function hr(){if(St===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var t=Mt===null?dt.memoizedState:Mt.next;if(t!==null)Mt=t,St=e;else{if(e===null)throw Error(Q(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Mt===null?dt.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function Tc(e,t){return typeof t=="function"?t(e):t}function xh(e){var t=hr(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=St,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((Sa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,dt.lanes|=d,Pa|=d}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=l,kr(r,t.memoizedState)||(Pn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,dt.lanes|=a,Pa|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yh(e){var t=hr(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);kr(a,t.memoizedState)||(Pn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function gP(){}function vP(e,t){var n=dt,r=hr(),s=t(),a=!kr(r.memoizedState,s);if(a&&(r.memoizedState=s,Pn=!0),r=r.queue,h0(bP.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,Ac(9,yP.bind(null,n,r,s,t),void 0,null),_t===null)throw Error(Q(349));Sa&30||xP(n,t,s)}return s}function xP(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yP(e,t,n,r){t.value=n,t.getSnapshot=r,wP(t)&&jP(e)}function bP(e,t,n){return n(function(){wP(t)&&jP(e)})}function wP(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kr(e,n)}catch{return!0}}function jP(e){var t=Ls(e,1);t!==null&&Tr(t,e,1,-1)}function $w(e){var t=Gr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:e},t.queue=e,e=e.dispatch=p4.bind(null,dt,e),[t.memoizedState,e]}function Ac(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function NP(){return hr().memoizedState}function Id(e,t,n,r){var s=Gr();dt.flags|=e,s.memoizedState=Ac(1|t,n,void 0,r===void 0?null:r)}function pm(e,t,n,r){var s=hr();r=r===void 0?null:r;var a=void 0;if(St!==null){var i=St.memoizedState;if(a=i.destroy,r!==null&&f0(r,i.deps)){s.memoizedState=Ac(t,n,a,r);return}}dt.flags|=e,s.memoizedState=Ac(1|t,n,a,r)}function _w(e,t){return Id(8390656,8,e,t)}function h0(e,t){return pm(2048,8,e,t)}function CP(e,t){return pm(4,2,e,t)}function SP(e,t){return pm(4,4,e,t)}function PP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function EP(e,t,n){return n=n!=null?n.concat([e]):null,pm(4,4,PP.bind(null,t,e),n)}function g0(){}function DP(e,t){var n=hr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&f0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function TP(e,t){var n=hr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&f0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function AP(e,t,n){return Sa&21?(kr(n,t)||(n=OS(),dt.lanes|=n,Pa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pn=!0),e.memoizedState=n)}function f4(e,t){var n=Ge;Ge=n!==0&&4>n?n:4,e(!0);var r=vh.transition;vh.transition={};try{e(!1),t()}finally{Ge=n,vh.transition=r}}function kP(){return hr().memoizedState}function m4(e,t,n){var r=Eo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},RP(e))MP(t,n);else if(n=mP(e,t,n,r),n!==null){var s=dn();Tr(n,e,r,s),IP(n,t,r)}}function p4(e,t,n){var r=Eo(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(RP(e))MP(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,n);if(s.hasEagerState=!0,s.eagerState=l,kr(l,i)){var c=t.interleaved;c===null?(s.next=s,i0(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=mP(e,t,s,r),n!==null&&(s=dn(),Tr(n,e,r,s),IP(n,t,r))}}function RP(e){var t=e.alternate;return e===dt||t!==null&&t===dt}function MP(e,t){nc=pf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function IP(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yx(e,n)}}var hf={readContext:pr,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},h4={readContext:pr,useCallback:function(e,t){return Gr().memoizedState=[e,t===void 0?null:t],e},useContext:pr,useEffect:_w,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Id(4194308,4,PP.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Id(4194308,4,e,t)},useInsertionEffect:function(e,t){return Id(4,2,e,t)},useMemo:function(e,t){var n=Gr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Gr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=m4.bind(null,dt,e),[r.memoizedState,e]},useRef:function(e){var t=Gr();return e={current:e},t.memoizedState=e},useState:$w,useDebugValue:g0,useDeferredValue:function(e){return Gr().memoizedState=e},useTransition:function(){var e=$w(!1),t=e[0];return e=f4.bind(null,e[1]),Gr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=dt,s=Gr();if(lt){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=t(),_t===null)throw Error(Q(349));Sa&30||xP(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,_w(bP.bind(null,r,a,e),[e]),r.flags|=2048,Ac(9,yP.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Gr(),t=_t.identifierPrefix;if(lt){var n=Ts,r=Ds;n=(r&~(1<<32-Dr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Dc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=d4++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},g4={readContext:pr,useCallback:DP,useContext:pr,useEffect:h0,useImperativeHandle:EP,useInsertionEffect:CP,useLayoutEffect:SP,useMemo:TP,useReducer:xh,useRef:NP,useState:function(){return xh(Tc)},useDebugValue:g0,useDeferredValue:function(e){var t=hr();return AP(t,St.memoizedState,e)},useTransition:function(){var e=xh(Tc)[0],t=hr().memoizedState;return[e,t]},useMutableSource:gP,useSyncExternalStore:vP,useId:kP,unstable_isNewReconciler:!1},v4={readContext:pr,useCallback:DP,useContext:pr,useEffect:h0,useImperativeHandle:EP,useInsertionEffect:CP,useLayoutEffect:SP,useMemo:TP,useReducer:yh,useRef:NP,useState:function(){return yh(Tc)},useDebugValue:g0,useDeferredValue:function(e){var t=hr();return St===null?t.memoizedState=e:AP(t,St.memoizedState,e)},useTransition:function(){var e=yh(Tc)[0],t=hr().memoizedState;return[e,t]},useMutableSource:gP,useSyncExternalStore:vP,useId:kP,unstable_isNewReconciler:!1};function Nr(e,t){if(e&&e.defaultProps){t=ft({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function uv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ft({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hm={isMounted:function(e){return(e=e._reactInternals)?Fa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dn(),s=Eo(e),a=Rs(r,s);a.payload=t,n!=null&&(a.callback=n),t=So(e,a,s),t!==null&&(Tr(t,e,s,r),Rd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dn(),s=Eo(e),a=Rs(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=So(e,a,s),t!==null&&(Tr(t,e,s,r),Rd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dn(),r=Eo(e),s=Rs(n,r);s.tag=2,t!=null&&(s.callback=t),t=So(e,s,r),t!==null&&(Tr(t,e,r,n),Rd(t,e,r))}};function Lw(e,t,n,r,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!jc(n,r)||!jc(s,a):!0}function OP(e,t,n){var r=!1,s=$o,a=t.contextType;return typeof a=="object"&&a!==null?a=pr(a):(s=Dn(t)?Na:rn.current,r=t.contextTypes,a=(r=r!=null)?Hi(e,s):$o),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hm,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Fw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hm.enqueueReplaceState(t,t.state,null)}function dv(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},l0(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=pr(a):(a=Dn(t)?Na:rn.current,s.context=Hi(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(uv(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&hm.enqueueReplaceState(s,s.state,null),ff(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ki(e,t){try{var n="",r=t;do n+=HO(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function bh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function fv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var x4=typeof WeakMap=="function"?WeakMap:Map;function $P(e,t,n){n=Rs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vf||(vf=!0,jv=r),fv(e,t)},n}function _P(e,t,n){n=Rs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){fv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){fv(e,t),typeof r!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Bw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new x4;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=R4.bind(null,e,t,n),t.then(e,e))}function Vw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zw(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Rs(-1,1),t.tag=2,So(n,t,1))),n.lanes|=1),e)}var y4=Ys.ReactCurrentOwner,Pn=!1;function cn(e,t,n,r){t.child=e===null?fP(t,null,n,r):Yi(t,e.child,n,r)}function Uw(e,t,n,r,s){n=n.render;var a=t.ref;return Ri(t,s),r=m0(e,t,n,r,a,s),n=p0(),e!==null&&!Pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fs(e,t,s)):(lt&&n&&t0(t),t.flags|=1,cn(e,t,r,s),t.child)}function Ww(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!C0(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,LP(e,t,a,r,s)):(e=Ld(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:jc,n(i,r)&&e.ref===t.ref)return Fs(e,t,s)}return t.flags|=1,e=Do(a,r),e.ref=t.ref,e.return=t,t.child=e}function LP(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(jc(a,r)&&e.ref===t.ref)if(Pn=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Pn=!0);else return t.lanes=e.lanes,Fs(e,t,s)}return mv(e,t,n,r,s)}function FP(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Ni,Fn),Fn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ze(Ni,Fn),Fn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ze(Ni,Fn),Fn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ze(Ni,Fn),Fn|=r;return cn(e,t,s,n),t.child}function BP(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mv(e,t,n,r,s){var a=Dn(n)?Na:rn.current;return a=Hi(t,a),Ri(t,s),n=m0(e,t,n,r,a,s),r=p0(),e!==null&&!Pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fs(e,t,s)):(lt&&r&&t0(t),t.flags|=1,cn(e,t,n,s),t.child)}function Hw(e,t,n,r,s){if(Dn(n)){var a=!0;af(t)}else a=!1;if(Ri(t,s),t.stateNode===null)Od(e,t),OP(t,n,r),dv(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=pr(u):(u=Dn(n)?Na:rn.current,u=Hi(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Fw(t,i,r,u),fo=!1;var p=t.memoizedState;i.state=p,ff(t,r,i,s),c=t.memoizedState,l!==r||p!==c||En.current||fo?(typeof d=="function"&&(uv(t,n,d,r),c=t.memoizedState),(l=fo||Lw(t,n,l,r,p,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,pP(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Nr(t.type,l),i.props=u,f=t.pendingProps,p=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=pr(c):(c=Dn(n)?Na:rn.current,c=Hi(t,c));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||p!==c)&&Fw(t,i,r,c),fo=!1,p=t.memoizedState,i.state=p,ff(t,r,i,s);var g=t.memoizedState;l!==f||p!==g||En.current||fo?(typeof h=="function"&&(uv(t,n,h,r),g=t.memoizedState),(u=fo||Lw(t,n,u,r,p,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),i.props=r,i.state=g,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return pv(e,t,n,r,a,s)}function pv(e,t,n,r,s,a){BP(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Aw(t,n,!1),Fs(e,t,a);r=t.stateNode,y4.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Yi(t,e.child,null,a),t.child=Yi(t,null,l,a)):cn(e,t,l,a),t.memoizedState=r.state,s&&Aw(t,n,!0),t.child}function VP(e){var t=e.stateNode;t.pendingContext?Tw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tw(e,t.context,!1),c0(e,t.containerInfo)}function Gw(e,t,n,r,s){return Gi(),r0(s),t.flags|=256,cn(e,t,n,r),t.child}var hv={dehydrated:null,treeContext:null,retryLane:0};function gv(e){return{baseLanes:e,cachePool:null,transitions:null}}function zP(e,t,n){var r=t.pendingProps,s=ct.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ze(ct,s&1),e===null)return lv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=xm(i,r,0,null),e=ba(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=gv(n),t.memoizedState=hv,e):v0(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return b4(e,t,i,r,l,s,n);if(a){a=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Do(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Do(l,a):(a=ba(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?gv(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=hv,r}return a=e.child,e=a.sibling,r=Do(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function v0(e,t){return t=xm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ed(e,t,n,r){return r!==null&&r0(r),Yi(t,e.child,null,n),e=v0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function b4(e,t,n,r,s,a,i){if(n)return t.flags&256?(t.flags&=-257,r=bh(Error(Q(422))),ed(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=xm({mode:"visible",children:r.children},s,0,null),a=ba(a,s,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Yi(t,e.child,null,i),t.child.memoizedState=gv(i),t.memoizedState=hv,a);if(!(t.mode&1))return ed(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(Q(419)),r=bh(a,r,void 0),ed(e,t,i,r)}if(l=(i&e.childLanes)!==0,Pn||l){if(r=_t,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ls(e,s),Tr(r,e,s,-1))}return N0(),r=bh(Error(Q(421))),ed(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=M4.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Vn=Co(s.nextSibling),Un=t,lt=!0,Sr=null,e!==null&&(ar[ir++]=Ds,ar[ir++]=Ts,ar[ir++]=Ca,Ds=e.id,Ts=e.overflow,Ca=t),t=v0(t,r.children),t.flags|=4096,t)}function Yw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cv(e.return,t,n)}function wh(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function UP(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(cn(e,t,r.children,n),r=ct.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yw(e,n,t);else if(e.tag===19)Yw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ze(ct,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&mf(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),wh(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&mf(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}wh(t,!0,n,null,a);break;case"together":wh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Od(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,n=Do(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Do(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function w4(e,t,n){switch(t.tag){case 3:VP(t),Gi();break;case 5:hP(t);break;case 1:Dn(t.type)&&af(t);break;case 4:c0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ze(uf,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ct,ct.current&1),t.flags|=128,null):n&t.child.childLanes?zP(e,t,n):(Ze(ct,ct.current&1),e=Fs(e,t,n),e!==null?e.sibling:null);Ze(ct,ct.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return UP(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ze(ct,ct.current),r)break;return null;case 22:case 23:return t.lanes=0,FP(e,t,n)}return Fs(e,t,n)}var WP,vv,HP,GP;WP=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vv=function(){};HP=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ha(as.current);var a=null;switch(n){case"input":s=Fg(e,s),r=Fg(e,r),a=[];break;case"select":s=ft({},s,{value:void 0}),r=ft({},r,{value:void 0}),a=[];break;case"textarea":s=zg(e,s),r=zg(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=sf)}Wg(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&st("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};GP=function(e,t,n,r){n!==r&&(t.flags|=4)};function kl(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function j4(e,t,n){var r=t.pendingProps;switch(n0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(t),null;case 1:return Dn(t.type)&&of(),Xt(t),null;case 3:return r=t.stateNode,qi(),ot(En),ot(rn),d0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sr!==null&&(Sv(Sr),Sr=null))),vv(e,t),Xt(t),null;case 5:u0(t);var s=ha(Ec.current);if(n=t.type,e!==null&&t.stateNode!=null)HP(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Q(166));return Xt(t),null}if(e=ha(as.current),Qu(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Yr]=t,r[Sc]=a,e=(t.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(s=0;s<Yl.length;s++)st(Yl[s],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":nw(r,a),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},st("invalid",r);break;case"textarea":sw(r,a),st("invalid",r)}Wg(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ju(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ju(r.textContent,l,e),s=["children",""+l]):hc.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&st("scroll",r)}switch(n){case"input":Uu(r),rw(r,a,!0);break;case"textarea":Uu(r),ow(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=sf)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bS(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Yr]=t,e[Sc]=r,WP(e,t,!1,!1),t.stateNode=e;e:{switch(i=Hg(n,r),n){case"dialog":st("cancel",e),st("close",e),s=r;break;case"iframe":case"object":case"embed":st("load",e),s=r;break;case"video":case"audio":for(s=0;s<Yl.length;s++)st(Yl[s],e);s=r;break;case"source":st("error",e),s=r;break;case"img":case"image":case"link":st("error",e),st("load",e),s=r;break;case"details":st("toggle",e),s=r;break;case"input":nw(e,r),s=Fg(e,r),st("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ft({},r,{value:void 0}),st("invalid",e);break;case"textarea":sw(e,r),s=zg(e,r),st("invalid",e);break;default:s=r}Wg(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?NS(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wS(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&gc(e,c):typeof c=="number"&&gc(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(hc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&st("scroll",e):c!=null&&Vx(e,a,c,i))}switch(n){case"input":Uu(e),rw(e,r,!1);break;case"textarea":Uu(e),ow(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Oo(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Di(e,!!r.multiple,a,!1):r.defaultValue!=null&&Di(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=sf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xt(t),null;case 6:if(e&&t.stateNode!=null)GP(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Q(166));if(n=ha(Ec.current),ha(as.current),Qu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yr]=t,(a=r.nodeValue!==n)&&(e=Un,e!==null))switch(e.tag){case 3:Ju(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ju(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yr]=t,t.stateNode=r}return Xt(t),null;case 13:if(ot(ct),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&Vn!==null&&t.mode&1&&!(t.flags&128))uP(),Gi(),t.flags|=98560,a=!1;else if(a=Qu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Q(317));a[Yr]=t}else Gi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xt(t),a=!1}else Sr!==null&&(Sv(Sr),Sr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ct.current&1?At===0&&(At=3):N0())),t.updateQueue!==null&&(t.flags|=4),Xt(t),null);case 4:return qi(),vv(e,t),e===null&&Nc(t.stateNode.containerInfo),Xt(t),null;case 10:return a0(t.type._context),Xt(t),null;case 17:return Dn(t.type)&&of(),Xt(t),null;case 19:if(ot(ct),a=t.memoizedState,a===null)return Xt(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)kl(a,!1);else{if(At!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=mf(e),i!==null){for(t.flags|=128,kl(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ze(ct,ct.current&1|2),t.child}e=e.sibling}a.tail!==null&&xt()>Xi&&(t.flags|=128,r=!0,kl(a,!1),t.lanes=4194304)}else{if(!r)if(e=mf(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),kl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!lt)return Xt(t),null}else 2*xt()-a.renderingStartTime>Xi&&n!==1073741824&&(t.flags|=128,r=!0,kl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=xt(),t.sibling=null,n=ct.current,Ze(ct,r?n&1|2:n&1),t):(Xt(t),null);case 22:case 23:return j0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fn&1073741824&&(Xt(t),t.subtreeFlags&6&&(t.flags|=8192)):Xt(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function N4(e,t){switch(n0(t),t.tag){case 1:return Dn(t.type)&&of(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qi(),ot(En),ot(rn),d0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return u0(t),null;case 13:if(ot(ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));Gi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(ct),null;case 4:return qi(),null;case 10:return a0(t.type._context),null;case 22:case 23:return j0(),null;case 24:return null;default:return null}}var td=!1,Qt=!1,C4=typeof WeakSet=="function"?WeakSet:Set,ue=null;function ji(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mt(e,t,r)}else n.current=null}function xv(e,t,n){try{n()}catch(r){mt(e,t,r)}}var qw=!1;function S4(e,t){if(tv=tf,e=JS(),e0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==a||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===s&&(l=i),p===a&&++d===r&&(c=i),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nv={focusedElem:e,selectionRange:n},tf=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:Nr(t.type,v),b);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(j){mt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return g=qw,qw=!1,g}function rc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&xv(t,n,a)}s=s.next}while(s!==r)}}function gm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function yv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function YP(e){var t=e.alternate;t!==null&&(e.alternate=null,YP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yr],delete t[Sc],delete t[ov],delete t[i4],delete t[l4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qP(e){return e.tag===5||e.tag===3||e.tag===4}function Kw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sf));else if(r!==4&&(e=e.child,e!==null))for(bv(e,t,n),e=e.sibling;e!==null;)bv(e,t,n),e=e.sibling}function wv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(wv(e,t,n),e=e.sibling;e!==null;)wv(e,t,n),e=e.sibling}var Ut=null,Cr=!1;function ro(e,t,n){for(n=n.child;n!==null;)KP(e,t,n),n=n.sibling}function KP(e,t,n){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(lm,n)}catch{}switch(n.tag){case 5:Qt||ji(n,t);case 6:var r=Ut,s=Cr;Ut=null,ro(e,t,n),Ut=r,Cr=s,Ut!==null&&(Cr?(e=Ut,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(Cr?(e=Ut,n=n.stateNode,e.nodeType===8?ph(e.parentNode,n):e.nodeType===1&&ph(e,n),bc(e)):ph(Ut,n.stateNode));break;case 4:r=Ut,s=Cr,Ut=n.stateNode.containerInfo,Cr=!0,ro(e,t,n),Ut=r,Cr=s;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&xv(n,t,i),s=s.next}while(s!==r)}ro(e,t,n);break;case 1:if(!Qt&&(ji(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){mt(n,t,l)}ro(e,t,n);break;case 21:ro(e,t,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,ro(e,t,n),Qt=r):ro(e,t,n);break;default:ro(e,t,n)}}function Xw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new C4),t.forEach(function(r){var s=I4.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function wr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ut=l.stateNode,Cr=!1;break e;case 3:Ut=l.stateNode.containerInfo,Cr=!0;break e;case 4:Ut=l.stateNode.containerInfo,Cr=!0;break e}l=l.return}if(Ut===null)throw Error(Q(160));KP(a,i,s),Ut=null,Cr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){mt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)XP(t,e),t=t.sibling}function XP(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wr(t,e),Hr(e),r&4){try{rc(3,e,e.return),gm(3,e)}catch(v){mt(e,e.return,v)}try{rc(5,e,e.return)}catch(v){mt(e,e.return,v)}}break;case 1:wr(t,e),Hr(e),r&512&&n!==null&&ji(n,n.return);break;case 5:if(wr(t,e),Hr(e),r&512&&n!==null&&ji(n,n.return),e.flags&32){var s=e.stateNode;try{gc(s,"")}catch(v){mt(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&xS(s,a),Hg(l,i);var u=Hg(l,a);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?NS(s,f):d==="dangerouslySetInnerHTML"?wS(s,f):d==="children"?gc(s,f):Vx(s,d,f,u)}switch(l){case"input":Bg(s,a);break;case"textarea":yS(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Di(s,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?Di(s,!!a.multiple,a.defaultValue,!0):Di(s,!!a.multiple,a.multiple?[]:"",!1))}s[Sc]=a}catch(v){mt(e,e.return,v)}}break;case 6:if(wr(t,e),Hr(e),r&4){if(e.stateNode===null)throw Error(Q(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(v){mt(e,e.return,v)}}break;case 3:if(wr(t,e),Hr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bc(t.containerInfo)}catch(v){mt(e,e.return,v)}break;case 4:wr(t,e),Hr(e);break;case 13:wr(t,e),Hr(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(b0=xt())),r&4&&Xw(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Qt=(u=Qt)||d,wr(t,e),Qt=u):wr(t,e),Hr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ue=e,d=e.child;d!==null;){for(f=ue=d;ue!==null;){switch(p=ue,h=p.child,p.tag){case 0:case 11:case 14:case 15:rc(4,p,p.return);break;case 1:ji(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){mt(r,n,v)}}break;case 5:ji(p,p.return);break;case 22:if(p.memoizedState!==null){Qw(f);continue}}h!==null?(h.return=p,ue=h):Qw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=jS("display",i))}catch(v){mt(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){mt(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:wr(t,e),Hr(e),r&4&&Xw(e);break;case 21:break;default:wr(t,e),Hr(e)}}function Hr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(qP(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(gc(s,""),r.flags&=-33);var a=Kw(e);wv(e,a,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Kw(e);bv(e,l,i);break;default:throw Error(Q(161))}}catch(c){mt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function P4(e,t,n){ue=e,JP(e)}function JP(e,t,n){for(var r=(e.mode&1)!==0;ue!==null;){var s=ue,a=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||td;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Qt;l=td;var u=Qt;if(td=i,(Qt=c)&&!u)for(ue=s;ue!==null;)i=ue,c=i.child,i.tag===22&&i.memoizedState!==null?Zw(s):c!==null?(c.return=i,ue=c):Zw(s);for(;a!==null;)ue=a,JP(a),a=a.sibling;ue=s,td=l,Qt=u}Jw(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ue=a):Jw(e)}}function Jw(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qt||gm(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Nr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ow(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ow(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&bc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Qt||t.flags&512&&yv(t)}catch(p){mt(t,t.return,p)}}if(t===e){ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,ue=n;break}ue=t.return}}function Qw(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ue=n;break}ue=t.return}}function Zw(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gm(4,t)}catch(c){mt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){mt(t,s,c)}}var a=t.return;try{yv(t)}catch(c){mt(t,a,c)}break;case 5:var i=t.return;try{yv(t)}catch(c){mt(t,i,c)}}}catch(c){mt(t,t.return,c)}if(t===e){ue=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ue=l;break}ue=t.return}}var E4=Math.ceil,gf=Ys.ReactCurrentDispatcher,x0=Ys.ReactCurrentOwner,dr=Ys.ReactCurrentBatchConfig,Le=0,_t=null,jt=null,Gt=0,Fn=0,Ni=Xo(0),At=0,kc=null,Pa=0,vm=0,y0=0,sc=null,Sn=null,b0=0,Xi=1/0,js=null,vf=!1,jv=null,Po=null,nd=!1,yo=null,xf=0,oc=0,Nv=null,$d=-1,_d=0;function dn(){return Le&6?xt():$d!==-1?$d:$d=xt()}function Eo(e){return e.mode&1?Le&2&&Gt!==0?Gt&-Gt:u4.transition!==null?(_d===0&&(_d=OS()),_d):(e=Ge,e!==0||(e=window.event,e=e===void 0?16:zS(e.type)),e):1}function Tr(e,t,n,r){if(50<oc)throw oc=0,Nv=null,Error(Q(185));lu(e,n,r),(!(Le&2)||e!==_t)&&(e===_t&&(!(Le&2)&&(vm|=n),At===4&&vo(e,Gt)),Tn(e,r),n===1&&Le===0&&!(t.mode&1)&&(Xi=xt()+500,mm&&Jo()))}function Tn(e,t){var n=e.callbackNode;u$(e,t);var r=ef(e,e===_t?Gt:0);if(r===0)n!==null&&lw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&lw(n),t===1)e.tag===0?c4(ej.bind(null,e)):iP(ej.bind(null,e)),o4(function(){!(Le&6)&&Jo()}),n=null;else{switch($S(r)){case 1:n=Gx;break;case 4:n=MS;break;case 16:n=Zd;break;case 536870912:n=IS;break;default:n=Zd}n=oE(n,QP.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function QP(e,t){if($d=-1,_d=0,Le&6)throw Error(Q(327));var n=e.callbackNode;if(Mi()&&e.callbackNode!==n)return null;var r=ef(e,e===_t?Gt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=yf(e,r);else{t=r;var s=Le;Le|=2;var a=eE();(_t!==e||Gt!==t)&&(js=null,Xi=xt()+500,ya(e,t));do try{A4();break}catch(l){ZP(e,l)}while(1);o0(),gf.current=a,Le=s,jt!==null?t=0:(_t=null,Gt=0,t=At)}if(t!==0){if(t===2&&(s=Xg(e),s!==0&&(r=s,t=Cv(e,s))),t===1)throw n=kc,ya(e,0),vo(e,r),Tn(e,xt()),n;if(t===6)vo(e,r);else{if(s=e.current.alternate,!(r&30)&&!D4(s)&&(t=yf(e,r),t===2&&(a=Xg(e),a!==0&&(r=a,t=Cv(e,a))),t===1))throw n=kc,ya(e,0),vo(e,r),Tn(e,xt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Q(345));case 2:aa(e,Sn,js);break;case 3:if(vo(e,r),(r&130023424)===r&&(t=b0+500-xt(),10<t)){if(ef(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){dn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=sv(aa.bind(null,e,Sn,js),t);break}aa(e,Sn,js);break;case 4:if(vo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Dr(r);a=1<<i,i=t[i],i>s&&(s=i),r&=~a}if(r=s,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*E4(r/1960))-r,10<r){e.timeoutHandle=sv(aa.bind(null,e,Sn,js),r);break}aa(e,Sn,js);break;case 5:aa(e,Sn,js);break;default:throw Error(Q(329))}}}return Tn(e,xt()),e.callbackNode===n?QP.bind(null,e):null}function Cv(e,t){var n=sc;return e.current.memoizedState.isDehydrated&&(ya(e,t).flags|=256),e=yf(e,t),e!==2&&(t=Sn,Sn=n,t!==null&&Sv(t)),e}function Sv(e){Sn===null?Sn=e:Sn.push.apply(Sn,e)}function D4(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!kr(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vo(e,t){for(t&=~y0,t&=~vm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dr(t),r=1<<n;e[n]=-1,t&=~r}}function ej(e){if(Le&6)throw Error(Q(327));Mi();var t=ef(e,0);if(!(t&1))return Tn(e,xt()),null;var n=yf(e,t);if(e.tag!==0&&n===2){var r=Xg(e);r!==0&&(t=r,n=Cv(e,r))}if(n===1)throw n=kc,ya(e,0),vo(e,t),Tn(e,xt()),n;if(n===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,aa(e,Sn,js),Tn(e,xt()),null}function w0(e,t){var n=Le;Le|=1;try{return e(t)}finally{Le=n,Le===0&&(Xi=xt()+500,mm&&Jo())}}function Ea(e){yo!==null&&yo.tag===0&&!(Le&6)&&Mi();var t=Le;Le|=1;var n=dr.transition,r=Ge;try{if(dr.transition=null,Ge=1,e)return e()}finally{Ge=r,dr.transition=n,Le=t,!(Le&6)&&Jo()}}function j0(){Fn=Ni.current,ot(Ni)}function ya(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,s4(n)),jt!==null)for(n=jt.return;n!==null;){var r=n;switch(n0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&of();break;case 3:qi(),ot(En),ot(rn),d0();break;case 5:u0(r);break;case 4:qi();break;case 13:ot(ct);break;case 19:ot(ct);break;case 10:a0(r.type._context);break;case 22:case 23:j0()}n=n.return}if(_t=e,jt=e=Do(e.current,null),Gt=Fn=t,At=0,kc=null,y0=vm=Pa=0,Sn=sc=null,pa!==null){for(t=0;t<pa.length;t++)if(n=pa[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,r.next=i}n.pending=r}pa=null}return e}function ZP(e,t){do{var n=jt;try{if(o0(),Md.current=hf,pf){for(var r=dt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}pf=!1}if(Sa=0,Mt=St=dt=null,nc=!1,Dc=0,x0.current=null,n===null||n.return===null){At=1,kc=t,jt=null;break}e:{var a=e,i=n.return,l=n,c=t;if(t=Gt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Vw(i);if(h!==null){h.flags&=-257,zw(h,i,l,a,t),h.mode&1&&Bw(a,u,t),t=h,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){Bw(a,u,t),N0();break e}c=Error(Q(426))}}else if(lt&&l.mode&1){var b=Vw(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),zw(b,i,l,a,t),r0(Ki(c,l));break e}}a=c=Ki(c,l),At!==4&&(At=2),sc===null?sc=[a]:sc.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=$P(a,c,t);Iw(a,x);break e;case 1:l=c;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Po===null||!Po.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=_P(a,l,t);Iw(a,j);break e}}a=a.return}while(a!==null)}nE(n)}catch(N){t=N,jt===n&&n!==null&&(jt=n=n.return);continue}break}while(1)}function eE(){var e=gf.current;return gf.current=hf,e===null?hf:e}function N0(){(At===0||At===3||At===2)&&(At=4),_t===null||!(Pa&268435455)&&!(vm&268435455)||vo(_t,Gt)}function yf(e,t){var n=Le;Le|=2;var r=eE();(_t!==e||Gt!==t)&&(js=null,ya(e,t));do try{T4();break}catch(s){ZP(e,s)}while(1);if(o0(),Le=n,gf.current=r,jt!==null)throw Error(Q(261));return _t=null,Gt=0,At}function T4(){for(;jt!==null;)tE(jt)}function A4(){for(;jt!==null&&!t$();)tE(jt)}function tE(e){var t=sE(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,t===null?nE(e):jt=t,x0.current=null}function nE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=N4(n,t),n!==null){n.flags&=32767,jt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{At=6,jt=null;return}}else if(n=j4(n,t,Fn),n!==null){jt=n;return}if(t=t.sibling,t!==null){jt=t;return}jt=t=e}while(t!==null);At===0&&(At=5)}function aa(e,t,n){var r=Ge,s=dr.transition;try{dr.transition=null,Ge=1,k4(e,t,n,r)}finally{dr.transition=s,Ge=r}return null}function k4(e,t,n,r){do Mi();while(yo!==null);if(Le&6)throw Error(Q(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(d$(e,a),e===_t&&(jt=_t=null,Gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nd||(nd=!0,oE(Zd,function(){return Mi(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=dr.transition,dr.transition=null;var i=Ge;Ge=1;var l=Le;Le|=4,x0.current=null,S4(e,n),XP(n,e),J$(nv),tf=!!tv,nv=tv=null,e.current=n,P4(n),n$(),Le=l,Ge=i,dr.transition=a}else e.current=n;if(nd&&(nd=!1,yo=e,xf=s),a=e.pendingLanes,a===0&&(Po=null),o$(n.stateNode),Tn(e,xt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vf)throw vf=!1,e=jv,jv=null,e;return xf&1&&e.tag!==0&&Mi(),a=e.pendingLanes,a&1?e===Nv?oc++:(oc=0,Nv=e):oc=0,Jo(),null}function Mi(){if(yo!==null){var e=$S(xf),t=dr.transition,n=Ge;try{if(dr.transition=null,Ge=16>e?16:e,yo===null)var r=!1;else{if(e=yo,yo=null,xf=0,Le&6)throw Error(Q(331));var s=Le;for(Le|=4,ue=e.current;ue!==null;){var a=ue,i=a.child;if(ue.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ue=u;ue!==null;){var d=ue;switch(d.tag){case 0:case 11:case 15:rc(8,d,a)}var f=d.child;if(f!==null)f.return=d,ue=f;else for(;ue!==null;){d=ue;var p=d.sibling,h=d.return;if(YP(d),d===u){ue=null;break}if(p!==null){p.return=h,ue=p;break}ue=h}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}ue=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,ue=i;else e:for(;ue!==null;){if(a=ue,a.flags&2048)switch(a.tag){case 0:case 11:case 15:rc(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,ue=x;break e}ue=a.return}}var y=e.current;for(ue=y;ue!==null;){i=ue;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,ue=w;else e:for(i=y;ue!==null;){if(l=ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gm(9,l)}}catch(N){mt(l,l.return,N)}if(l===i){ue=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ue=j;break e}ue=l.return}}if(Le=s,Jo(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(lm,e)}catch{}r=!0}return r}finally{Ge=n,dr.transition=t}}return!1}function tj(e,t,n){t=Ki(n,t),t=$P(e,t,1),e=So(e,t,1),t=dn(),e!==null&&(lu(e,1,t),Tn(e,t))}function mt(e,t,n){if(e.tag===3)tj(e,e,n);else for(;t!==null;){if(t.tag===3){tj(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Po===null||!Po.has(r))){e=Ki(n,e),e=_P(t,e,1),t=So(t,e,1),e=dn(),t!==null&&(lu(t,1,e),Tn(t,e));break}}t=t.return}}function R4(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=dn(),e.pingedLanes|=e.suspendedLanes&n,_t===e&&(Gt&n)===n&&(At===4||At===3&&(Gt&130023424)===Gt&&500>xt()-b0?ya(e,0):y0|=n),Tn(e,t)}function rE(e,t){t===0&&(e.mode&1?(t=Gu,Gu<<=1,!(Gu&130023424)&&(Gu=4194304)):t=1);var n=dn();e=Ls(e,t),e!==null&&(lu(e,t,n),Tn(e,n))}function M4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rE(e,n)}function I4(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(t),rE(e,n)}var sE;sE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||En.current)Pn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pn=!1,w4(e,t,n);Pn=!!(e.flags&131072)}else Pn=!1,lt&&t.flags&1048576&&lP(t,cf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Od(e,t),e=t.pendingProps;var s=Hi(t,rn.current);Ri(t,n),s=m0(null,t,r,e,s,n);var a=p0();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dn(r)?(a=!0,af(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,l0(t),s.updater=hm,t.stateNode=s,s._reactInternals=t,dv(t,r,e,n),t=pv(null,t,r,!0,a,n)):(t.tag=0,lt&&a&&t0(t),cn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Od(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=$4(r),e=Nr(r,e),s){case 0:t=mv(null,t,r,e,n);break e;case 1:t=Hw(null,t,r,e,n);break e;case 11:t=Uw(null,t,r,e,n);break e;case 14:t=Ww(null,t,r,Nr(r.type,e),n);break e}throw Error(Q(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nr(r,s),mv(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nr(r,s),Hw(e,t,r,s,n);case 3:e:{if(VP(t),e===null)throw Error(Q(387));r=t.pendingProps,a=t.memoizedState,s=a.element,pP(e,t),ff(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Ki(Error(Q(423)),t),t=Gw(e,t,r,n,s);break e}else if(r!==s){s=Ki(Error(Q(424)),t),t=Gw(e,t,r,n,s);break e}else for(Vn=Co(t.stateNode.containerInfo.firstChild),Un=t,lt=!0,Sr=null,n=fP(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gi(),r===s){t=Fs(e,t,n);break e}cn(e,t,r,n)}t=t.child}return t;case 5:return hP(t),e===null&&lv(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,rv(r,s)?i=null:a!==null&&rv(r,a)&&(t.flags|=32),BP(e,t),cn(e,t,i,n),t.child;case 6:return e===null&&lv(t),null;case 13:return zP(e,t,n);case 4:return c0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yi(t,null,r,n):cn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nr(r,s),Uw(e,t,r,s,n);case 7:return cn(e,t,t.pendingProps,n),t.child;case 8:return cn(e,t,t.pendingProps.children,n),t.child;case 12:return cn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,Ze(uf,r._currentValue),r._currentValue=i,a!==null)if(kr(a.value,i)){if(a.children===s.children&&!En.current){t=Fs(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Rs(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),cv(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(Q(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),cv(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}cn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ri(t,n),s=pr(s),r=r(s),t.flags|=1,cn(e,t,r,n),t.child;case 14:return r=t.type,s=Nr(r,t.pendingProps),s=Nr(r.type,s),Ww(e,t,r,s,n);case 15:return LP(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nr(r,s),Od(e,t),t.tag=1,Dn(r)?(e=!0,af(t)):e=!1,Ri(t,n),OP(t,r,s),dv(t,r,s,n),pv(null,t,r,!0,e,n);case 19:return UP(e,t,n);case 22:return FP(e,t,n)}throw Error(Q(156,t.tag))};function oE(e,t){return RS(e,t)}function O4(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(e,t,n,r){return new O4(e,t,n,r)}function C0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $4(e){if(typeof e=="function")return C0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ux)return 11;if(e===Wx)return 14}return 2}function Do(e,t){var n=e.alternate;return n===null?(n=cr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ld(e,t,n,r,s,a){var i=2;if(r=e,typeof e=="function")C0(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case mi:return ba(n.children,s,a,t);case zx:i=8,s|=8;break;case Og:return e=cr(12,n,t,s|2),e.elementType=Og,e.lanes=a,e;case $g:return e=cr(13,n,t,s),e.elementType=$g,e.lanes=a,e;case _g:return e=cr(19,n,t,s),e.elementType=_g,e.lanes=a,e;case hS:return xm(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mS:i=10;break e;case pS:i=9;break e;case Ux:i=11;break e;case Wx:i=14;break e;case uo:i=16,r=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=cr(i,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function ba(e,t,n,r){return e=cr(7,e,r,t),e.lanes=n,e}function xm(e,t,n,r){return e=cr(22,e,r,t),e.elementType=hS,e.lanes=n,e.stateNode={isHidden:!1},e}function jh(e,t,n){return e=cr(6,e,null,t),e.lanes=n,e}function Nh(e,t,n){return t=cr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _4(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rh(0),this.expirationTimes=rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function S0(e,t,n,r,s,a,i,l,c){return e=new _4(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=cr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},l0(a),e}function L4(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function aE(e){if(!e)return $o;e=e._reactInternals;e:{if(Fa(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var n=e.type;if(Dn(n))return aP(e,n,t)}return t}function iE(e,t,n,r,s,a,i,l,c){return e=S0(n,r,!0,e,s,a,i,l,c),e.context=aE(null),n=e.current,r=dn(),s=Eo(n),a=Rs(r,s),a.callback=t??null,So(n,a,s),e.current.lanes=s,lu(e,s,r),Tn(e,r),e}function ym(e,t,n,r){var s=t.current,a=dn(),i=Eo(s);return n=aE(n),t.context===null?t.context=n:t.pendingContext=n,t=Rs(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=So(s,t,i),e!==null&&(Tr(e,s,i,a),Rd(e,s,i)),i}function bf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function P0(e,t){nj(e,t),(e=e.alternate)&&nj(e,t)}function F4(){return null}var lE=typeof reportError=="function"?reportError:function(e){console.error(e)};function E0(e){this._internalRoot=e}bm.prototype.render=E0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));ym(e,t,null,null)};bm.prototype.unmount=E0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ea(function(){ym(null,e,null,null)}),t[_s]=null}};function bm(e){this._internalRoot=e}bm.prototype.unstable_scheduleHydration=function(e){if(e){var t=FS();e={blockedOn:null,target:e,priority:t};for(var n=0;n<go.length&&t!==0&&t<go[n].priority;n++);go.splice(n,0,e),n===0&&VS(e)}};function D0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rj(){}function B4(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=bf(i);a.call(u)}}var i=iE(t,r,e,0,null,!1,!1,"",rj);return e._reactRootContainer=i,e[_s]=i.current,Nc(e.nodeType===8?e.parentNode:e),Ea(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=bf(c);l.call(u)}}var c=S0(e,0,!1,null,null,!1,!1,"",rj);return e._reactRootContainer=c,e[_s]=c.current,Nc(e.nodeType===8?e.parentNode:e),Ea(function(){ym(t,c,n,r)}),c}function jm(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=bf(i);l.call(c)}}ym(t,i,e,s)}else i=B4(n,t,e,s,r);return bf(i)}_S=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gl(t.pendingLanes);n!==0&&(Yx(t,n|1),Tn(t,xt()),!(Le&6)&&(Xi=xt()+500,Jo()))}break;case 13:Ea(function(){var r=Ls(e,1);if(r!==null){var s=dn();Tr(r,e,1,s)}}),P0(e,1)}};qx=function(e){if(e.tag===13){var t=Ls(e,134217728);if(t!==null){var n=dn();Tr(t,e,134217728,n)}P0(e,134217728)}};LS=function(e){if(e.tag===13){var t=Eo(e),n=Ls(e,t);if(n!==null){var r=dn();Tr(n,e,t,r)}P0(e,t)}};FS=function(){return Ge};BS=function(e,t){var n=Ge;try{return Ge=e,t()}finally{Ge=n}};Yg=function(e,t,n){switch(t){case"input":if(Bg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=fm(r);if(!s)throw Error(Q(90));vS(r),Bg(r,s)}}}break;case"textarea":yS(e,n);break;case"select":t=n.value,t!=null&&Di(e,!!n.multiple,t,!1)}};PS=w0;ES=Ea;var V4={usingClientEntryPoint:!1,Events:[uu,vi,fm,CS,SS,w0]},Rl={findFiberByHostInstance:ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z4={bundleType:Rl.bundleType,version:Rl.version,rendererPackageName:Rl.rendererPackageName,rendererConfig:Rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=AS(e),e===null?null:e.stateNode},findFiberByHostInstance:Rl.findFiberByHostInstance||F4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{lm=rd.inject(z4),os=rd}catch{}}Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V4;Qn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D0(t))throw Error(Q(200));return L4(e,t,null,n)};Qn.createRoot=function(e,t){if(!D0(e))throw Error(Q(299));var n=!1,r="",s=lE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=S0(e,1,!1,null,null,n,!1,r,s),e[_s]=t.current,Nc(e.nodeType===8?e.parentNode:e),new E0(t)};Qn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=AS(t),e=e===null?null:e.stateNode,e};Qn.flushSync=function(e){return Ea(e)};Qn.hydrate=function(e,t,n){if(!wm(t))throw Error(Q(200));return jm(null,e,t,!0,n)};Qn.hydrateRoot=function(e,t,n){if(!D0(e))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",i=lE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=iE(t,null,e,1,n??null,s,!1,a,i),e[_s]=t.current,Nc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new bm(t)};Qn.render=function(e,t,n){if(!wm(t))throw Error(Q(200));return jm(null,e,t,!1,n)};Qn.unmountComponentAtNode=function(e){if(!wm(e))throw Error(Q(40));return e._reactRootContainer?(Ea(function(){jm(null,null,e,!1,function(){e._reactRootContainer=null,e[_s]=null})}),!0):!1};Qn.unstable_batchedUpdates=w0;Qn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!wm(n))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return jm(e,t,n,!1,r)};Qn.version="18.3.1-next-f1338f8080-20240426";function cE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cE)}catch(e){console.error(e)}}cE(),cS.exports=Qn;var $t=cS.exports;const Nm=_a($t);var sj=$t;Mg.createRoot=sj.createRoot,Mg.hydrateRoot=sj.hydrateRoot;/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rc.apply(this,arguments)}var bo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bo||(bo={}));const oj="popstate";function U4(e){e===void 0&&(e={});function t(s,a){let{pathname:i="/",search:l="",hash:c=""}=Ba(s.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),Pv("",{pathname:i,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let i=s.document.querySelector("base"),l="";if(i&&i.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof a=="string"?a:wf(a))}function r(s,a){Cm(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return H4(t,n,r,e)}function Nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Cm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function W4(){return Math.random().toString(36).substr(2,8)}function aj(e,t){return{usr:e.state,key:e.key,idx:t}}function Pv(e,t,n,r){return n===void 0&&(n=null),Rc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ba(t):t,{state:n,key:t&&t.key||r||W4()})}function wf(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ba(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function H4(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,l=bo.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Rc({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=bo.Pop;let b=d(),x=b==null?null:b-u;u=b,c&&c({action:l,location:v.location,delta:x})}function p(b,x){l=bo.Push;let y=Pv(v.location,b,x);n&&n(y,b),u=d()+1;let w=aj(y,u),j=v.createHref(y);try{i.pushState(w,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}a&&c&&c({action:l,location:v.location,delta:1})}function h(b,x){l=bo.Replace;let y=Pv(v.location,b,x);n&&n(y,b),u=d();let w=aj(y,u),j=v.createHref(y);i.replaceState(w,"",j),a&&c&&c({action:l,location:v.location,delta:0})}function g(b){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof b=="string"?b:wf(b);return Nt(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let v={get action(){return l},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(oj,f),c=b,()=>{s.removeEventListener(oj,f),c=null}},createHref(b){return t(s,b)},createURL:g,encodeLocation(b){let x=g(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:h,go(b){return i.go(b)}};return v}var ij;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ij||(ij={}));function G4(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Ba(t):t,s=T0(r.pathname||"/",n);if(s==null)return null;let a=uE(e);Y4(a);let i=null;for(let l=0;i==null&&l<a.length;++l)i=n5(a[l],o5(s));return i}function uE(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(Nt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=To([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(Nt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),uE(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:e5(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of dE(a.path))s(a,i,c)}),t}function dE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let i=dE(r.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Y4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:t5(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const q4=/^:\w+$/,K4=3,X4=2,J4=1,Q4=10,Z4=-2,lj=e=>e==="*";function e5(e,t){let n=e.split("/"),r=n.length;return n.some(lj)&&(r+=Z4),t&&(r+=X4),n.filter(s=>!lj(s)).reduce((s,a)=>s+(q4.test(a)?K4:a===""?J4:Q4),r)}function t5(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function n5(e,t){let{routesMeta:n}=e,r={},s="/",a=[];for(let i=0;i<n.length;++i){let l=n[i],c=i===n.length-1,u=s==="/"?t:t.slice(s.length)||"/",d=r5({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!d)return null;Object.assign(r,d.params);let f=l.route;a.push({params:r,pathname:To([s,d.pathname]),pathnameBase:c5(To([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=To([s,d.pathnameBase]))}return a}function r5(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=s5(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{if(d==="*"){let p=l[f]||"";i=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}return u[d]=a5(l[f]||"",d),u},{}),pathname:a,pathnameBase:i,pattern:e}}function s5(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Cm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(i,l)=>(r.push(l),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function o5(e){try{return decodeURI(e)}catch(t){return Cm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function a5(e,t){try{return decodeURIComponent(e)}catch(n){return Cm(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function T0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function i5(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ba(e):e;return{pathname:n?n.startsWith("/")?n:l5(n,t):t,search:u5(r),hash:d5(s)}}function l5(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ch(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mE(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ba(e):(s=Rc({},e),Nt(!s.pathname||!s.pathname.includes("?"),Ch("?","pathname","search",s)),Nt(!s.pathname||!s.pathname.includes("#"),Ch("#","pathname","hash",s)),Nt(!s.search||!s.search.includes("#"),Ch("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(r||i==null)l=n;else{let f=t.length-1;if(i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?t[f]:"/"}let c=i5(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const To=e=>e.join("/").replace(/\/\/+/g,"/"),c5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),u5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,d5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function f5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const pE=["post","put","patch","delete"];new Set(pE);const m5=["get",...pE];new Set(m5);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jf.apply(this,arguments)}const A0=m.createContext(null),hE=m.createContext(null),Va=m.createContext(null),Sm=m.createContext(null),qs=m.createContext({outlet:null,matches:[],isDataRoute:!1}),gE=m.createContext(null);function p5(e,t){let{relative:n}=t===void 0?{}:t;fu()||Nt(!1);let{basename:r,navigator:s}=m.useContext(Va),{hash:a,pathname:i,search:l}=k0(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:To([r,i])),s.createHref({pathname:c,search:l,hash:a})}function fu(){return m.useContext(Sm)!=null}function ms(){return fu()||Nt(!1),m.useContext(Sm).location}function vE(e){m.useContext(Va).static||m.useLayoutEffect(e)}function Vt(){let{isDataRoute:e}=m.useContext(qs);return e?T5():h5()}function h5(){fu()||Nt(!1);let e=m.useContext(A0),{basename:t,navigator:n}=m.useContext(Va),{matches:r}=m.useContext(qs),{pathname:s}=ms(),a=JSON.stringify(fE(r).map(c=>c.pathnameBase)),i=m.useRef(!1);return vE(()=>{i.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!i.current)return;if(typeof c=="number"){n.go(c);return}let d=mE(c,JSON.parse(a),s,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:To([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,a,s,e])}const g5=m.createContext(null);function v5(e){let t=m.useContext(qs).outlet;return t&&m.createElement(g5.Provider,{value:e},t)}function xE(){let{matches:e}=m.useContext(qs),t=e[e.length-1];return t?t.params:{}}function k0(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=m.useContext(qs),{pathname:s}=ms(),a=JSON.stringify(fE(r).map(i=>i.pathnameBase));return m.useMemo(()=>mE(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function x5(e,t){return y5(e,t)}function y5(e,t,n){fu()||Nt(!1);let{navigator:r}=m.useContext(Va),{matches:s}=m.useContext(qs),a=s[s.length-1],i=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=ms(),u;if(t){var d;let v=typeof t=="string"?Ba(t):t;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||Nt(!1),u=v}else u=c;let f=u.pathname||"/",p=l==="/"?f:f.slice(l.length)||"/",h=G4(e,{pathname:p}),g=C5(h&&h.map(v=>Object.assign({},v,{params:Object.assign({},i,v.params),pathname:To([l,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:To([l,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n);return t&&g?m.createElement(Sm.Provider,{value:{location:jf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:bo.Pop}},g):g}function b5(){let e=D5(),t=f5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:s},n):null,a)}const w5=m.createElement(b5,null);class j5 extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?m.createElement(qs.Provider,{value:this.props.routeContext},m.createElement(gE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function N5(e){let{routeContext:t,match:n,children:r}=e,s=m.useContext(A0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(qs.Provider,{value:t},r)}function C5(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let a=e,i=(r=n)==null?void 0:r.errors;if(i!=null){let l=a.findIndex(c=>c.route.id&&(i==null?void 0:i[c.route.id]));l>=0||Nt(!1),a=a.slice(0,Math.min(a.length,l+1))}return a.reduceRight((l,c,u)=>{let d=c.route.id?i==null?void 0:i[c.route.id]:null,f=null;n&&(f=c.route.errorElement||w5);let p=t.concat(a.slice(0,u+1)),h=()=>{let g;return d?g=f:c.route.Component?g=m.createElement(c.route.Component,null):c.route.element?g=c.route.element:g=l,m.createElement(N5,{match:c,routeContext:{outlet:l,matches:p,isDataRoute:n!=null},children:g})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?m.createElement(j5,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:h(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):h()},null)}var yE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yE||{}),Nf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Nf||{});function S5(e){let t=m.useContext(A0);return t||Nt(!1),t}function P5(e){let t=m.useContext(hE);return t||Nt(!1),t}function E5(e){let t=m.useContext(qs);return t||Nt(!1),t}function bE(e){let t=E5(),n=t.matches[t.matches.length-1];return n.route.id||Nt(!1),n.route.id}function D5(){var e;let t=m.useContext(gE),n=P5(Nf.UseRouteError),r=bE(Nf.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function T5(){let{router:e}=S5(yE.UseNavigateStable),t=bE(Nf.UseNavigateStable),n=m.useRef(!1);return vE(()=>{n.current=!0}),m.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,jf({fromRouteId:t},a)))},[e,t])}function wE(e){return v5(e.context)}function Ie(e){Nt(!1)}function A5(e){let{basename:t="/",children:n=null,location:r,navigationType:s=bo.Pop,navigator:a,static:i=!1}=e;fu()&&Nt(!1);let l=t.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:a,static:i}),[l,a,i]);typeof r=="string"&&(r=Ba(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:h="default"}=r,g=m.useMemo(()=>{let v=T0(u,l);return v==null?null:{location:{pathname:v,search:d,hash:f,state:p,key:h},navigationType:s}},[l,u,d,f,p,h,s]);return g==null?null:m.createElement(Va.Provider,{value:c},m.createElement(Sm.Provider,{children:n,value:g}))}function k5(e){let{children:t,location:n}=e;return x5(Ev(t),n)}new Promise(()=>{});function Ev(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,s)=>{if(!m.isValidElement(r))return;let a=[...t,s];if(r.type===m.Fragment){n.push.apply(n,Ev(r.props.children,a));return}r.type!==Ie&&Nt(!1),!r.props.index||!r.props.children||Nt(!1);let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Ev(r.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cf.apply(this,arguments)}function jE(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function R5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function M5(e,t){return e.button===0&&(!t||t==="_self")&&!R5(e)}function Dv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function I5(e,t){let n=Dv(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}const O5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],$5=["aria-current","caseSensitive","className","end","style","to","children"],_5="startTransition",cj=iu[_5];function L5(e){let{basename:t,children:n,future:r,window:s}=e,a=m.useRef();a.current==null&&(a.current=U4({window:s,v5Compat:!0}));let i=a.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=m.useCallback(f=>{u&&cj?cj(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.createElement(A5,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i})}const F5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qr=m.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:d}=t,f=jE(t,O5),{basename:p}=m.useContext(Va),h,g=!1;if(typeof u=="string"&&B5.test(u)&&(h=u,F5))try{let y=new URL(window.location.href),w=u.startsWith("//")?new URL(y.protocol+u):new URL(u),j=T0(w.pathname,p);w.origin===y.origin&&j!=null?u=j+w.search+w.hash:g=!0}catch{}let v=p5(u,{relative:s}),b=V5(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s});function x(y){r&&r(y),y.defaultPrevented||b(y)}return m.createElement("a",Cf({},f,{href:h||v,onClick:g||a?r:x,ref:n,target:c}))}),Sf=m.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:i=!1,style:l,to:c,children:u}=t,d=jE(t,$5),f=k0(c,{relative:d.relative}),p=ms(),h=m.useContext(hE),{navigator:g}=m.useContext(Va),v=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=p.pathname,x=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;s||(b=b.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase());let y=b===v||!i&&b.startsWith(v)&&b.charAt(v.length)==="/",w=x!=null&&(x===v||!i&&x.startsWith(v)&&x.charAt(v.length)==="/"),j=y?r:void 0,N;typeof a=="function"?N=a({isActive:y,isPending:w}):N=[a,y?"active":null,w?"pending":null].filter(Boolean).join(" ");let C=typeof l=="function"?l({isActive:y,isPending:w}):l;return m.createElement(qr,Cf({},d,{"aria-current":j,className:N,ref:n,style:C,to:c}),typeof u=="function"?u({isActive:y,isPending:w}):u)});var uj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(uj||(uj={}));var dj;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dj||(dj={}));function V5(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:i}=t===void 0?{}:t,l=Vt(),c=ms(),u=k0(e,{relative:i});return m.useCallback(d=>{if(M5(d,n)){d.preventDefault();let f=r!==void 0?r:wf(c)===wf(u);l(e,{replace:f,state:s,preventScrollReset:a,relative:i})}},[c,l,u,r,s,n,e,a,i])}function ps(e){let t=m.useRef(Dv(e)),n=m.useRef(!1),r=ms(),s=m.useMemo(()=>I5(r.search,n.current?null:t.current),[r.search]),a=Vt(),i=m.useCallback((l,c)=>{const u=Dv(typeof l=="function"?l(s):l);n.current=!0,a("?"+u,c)},[a,s]);return[s,i]}var NE={exports:{}},z5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",U5=z5,W5=U5;function CE(){}function SE(){}SE.resetWarningCache=CE;var H5=function(){function e(r,s,a,i,l,c){if(c!==W5){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:SE,resetWarningCache:CE};return n.PropTypes=n,n};NE.exports=H5();var G5=NE.exports;const at=_a(G5);function Y5(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var PE=m,q5=Y5(PE);function fj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K5(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var X5=!!(typeof window<"u"&&window.document&&window.document.createElement);function J5(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(a){if(typeof a!="function")throw new Error("Expected WrappedComponent to be a React component.");var i=[],l;function c(){l=e(i.map(function(d){return d.props})),u.canUseDOM?t(l):n&&(l=n(l))}var u=function(d){K5(f,d);function f(){return d.apply(this,arguments)||this}f.peek=function(){return l},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=l;return l=void 0,i=[],g};var p=f.prototype;return p.UNSAFE_componentWillMount=function(){i.push(this),c()},p.componentDidUpdate=function(){c()},p.componentWillUnmount=function(){var g=i.indexOf(this);i.splice(g,1),c()},p.render=function(){return q5.createElement(a,this.props)},f}(PE.PureComponent);return fj(u,"displayName","SideEffect("+r(a)+")"),fj(u,"canUseDOM",X5),u}}var Q5=J5;const Z5=_a(Q5);var e_=typeof Element<"u",t_=typeof Map=="function",n_=typeof Set=="function",r_=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Fd(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Fd(e[r],t[r]))return!1;return!0}var a;if(t_&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;for(a=e.entries();!(r=a.next()).done;)if(!Fd(r.value[1],t.get(r.value[0])))return!1;return!0}if(n_&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(r_&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;if(e_&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&e.$$typeof)&&!Fd(e[s[r]],t[s[r]]))return!1;return!0}return e!==e&&t!==t}var s_=function(t,n){try{return Fd(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const o_=_a(s_);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var mj=Object.getOwnPropertySymbols,a_=Object.prototype.hasOwnProperty,i_=Object.prototype.propertyIsEnumerable;function l_(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function c_(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(a){s[a]=a}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var u_=c_()?Object.assign:function(e,t){for(var n,r=l_(e),s,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var i in n)a_.call(n,i)&&(r[i]=n[i]);if(mj){s=mj(n);for(var l=0;l<s.length;l++)i_.call(n,s[l])&&(r[s[l]]=n[s[l]])}}return r};const d_=_a(u_);var wa={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Se={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Se).map(function(e){return Se[e]});var it={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Pf={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Mc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},f_=Object.keys(Pf).reduce(function(e,t){return e[Pf[t]]=t,e},{}),m_=[Se.NOSCRIPT,Se.SCRIPT,Se.STYLE],Pr="data-react-helmet",p_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h_=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},g_=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v_=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},pj=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},x_=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Tv=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},y_=function(t){var n=Ii(t,Se.TITLE),r=Ii(t,Mc.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=Ii(t,Mc.DEFAULT_TITLE);return n||s||void 0},b_=function(t){return Ii(t,Mc.ON_CHANGE_CLIENT_STATE)||function(){}},Sh=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,s){return Nn({},r,s)},{})},w_=function(t,n){return n.filter(function(r){return typeof r[Se.BASE]<"u"}).map(function(r){return r[Se.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var a=Object.keys(s),i=0;i<a.length;i++){var l=a[i],c=l.toLowerCase();if(t.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},Ml=function(t,n,r){var s={};return r.filter(function(a){return Array.isArray(a[t])?!0:(typeof a[t]<"u"&&S_("Helmet: "+t+' should be of type "Array". Instead found type "'+p_(a[t])+'"'),!1)}).map(function(a){return a[t]}).reverse().reduce(function(a,i){var l={};i.filter(function(p){for(var h=void 0,g=Object.keys(p),v=0;v<g.length;v++){var b=g[v],x=b.toLowerCase();n.indexOf(x)!==-1&&!(h===it.REL&&p[h].toLowerCase()==="canonical")&&!(x===it.REL&&p[x].toLowerCase()==="stylesheet")&&(h=x),n.indexOf(b)!==-1&&(b===it.INNER_HTML||b===it.CSS_TEXT||b===it.ITEM_PROP)&&(h=b)}if(!h||!p[h])return!1;var y=p[h].toLowerCase();return s[h]||(s[h]={}),l[h]||(l[h]={}),s[h][y]?!1:(l[h][y]=!0,!0)}).reverse().forEach(function(p){return a.push(p)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],f=d_({},s[d],l[d]);s[d]=f}return a},[]).reverse()},Ii=function(t,n){for(var r=t.length-1;r>=0;r--){var s=t[r];if(s.hasOwnProperty(n))return s[n]}return null},j_=function(t){return{baseTag:w_([it.HREF,it.TARGET],t),bodyAttributes:Sh(wa.BODY,t),defer:Ii(t,Mc.DEFER),encode:Ii(t,Mc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Sh(wa.HTML,t),linkTags:Ml(Se.LINK,[it.REL,it.HREF],t),metaTags:Ml(Se.META,[it.NAME,it.CHARSET,it.HTTPEQUIV,it.PROPERTY,it.ITEM_PROP],t),noscriptTags:Ml(Se.NOSCRIPT,[it.INNER_HTML],t),onChangeClientState:b_(t),scriptTags:Ml(Se.SCRIPT,[it.SRC,it.INNER_HTML],t),styleTags:Ml(Se.STYLE,[it.CSS_TEXT],t),title:y_(t),titleAttributes:Sh(wa.TITLE,t)}},Av=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){Av(t)},0)}}(),hj=function(t){return clearTimeout(t)},N_=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Av:global.requestAnimationFrame||Av,C_=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||hj:global.cancelAnimationFrame||hj,S_=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Il=null,P_=function(t){Il&&C_(Il),t.defer?Il=N_(function(){gj(t,function(){Il=null})}):(gj(t),Il=null)},gj=function(t,n){var r=t.baseTag,s=t.bodyAttributes,a=t.htmlAttributes,i=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.onChangeClientState,d=t.scriptTags,f=t.styleTags,p=t.title,h=t.titleAttributes;kv(Se.BODY,s),kv(Se.HTML,a),E_(p,h);var g={baseTag:ti(Se.BASE,r),linkTags:ti(Se.LINK,i),metaTags:ti(Se.META,l),noscriptTags:ti(Se.NOSCRIPT,c),scriptTags:ti(Se.SCRIPT,d),styleTags:ti(Se.STYLE,f)},v={},b={};Object.keys(g).forEach(function(x){var y=g[x],w=y.newTags,j=y.oldTags;w.length&&(v[x]=w),j.length&&(b[x]=g[x].oldTags)}),n&&n(),u(t,v,b)},EE=function(t){return Array.isArray(t)?t.join(""):t},E_=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=EE(t)),kv(Se.TITLE,n)},kv=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var s=r.getAttribute(Pr),a=s?s.split(","):[],i=[].concat(a),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),a.indexOf(u)===-1&&a.push(u);var f=i.indexOf(u);f!==-1&&i.splice(f,1)}for(var p=i.length-1;p>=0;p--)r.removeAttribute(i[p]);a.length===i.length?r.removeAttribute(Pr):r.getAttribute(Pr)!==l.join(",")&&r.setAttribute(Pr,l.join(","))}},ti=function(t,n){var r=document.head||document.querySelector(Se.HEAD),s=r.querySelectorAll(t+"["+Pr+"]"),a=Array.prototype.slice.call(s),i=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(t);for(var d in c)if(c.hasOwnProperty(d))if(d===it.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===it.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[d]>"u"?"":c[d];u.setAttribute(d,f)}u.setAttribute(Pr,"true"),a.some(function(p,h){return l=h,u.isEqualNode(p)})?a.splice(l,1):i.push(u)}),a.forEach(function(c){return c.parentNode.removeChild(c)}),i.forEach(function(c){return r.appendChild(c)}),{oldTags:a,newTags:i}},DE=function(t){return Object.keys(t).reduce(function(n,r){var s=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+s:s},"")},D_=function(t,n,r,s){var a=DE(r),i=EE(n);return a?"<"+t+" "+Pr+'="true" '+a+">"+Tv(i,s)+"</"+t+">":"<"+t+" "+Pr+'="true">'+Tv(i,s)+"</"+t+">"},T_=function(t,n,r){return n.reduce(function(s,a){var i=Object.keys(a).filter(function(u){return!(u===it.INNER_HTML||u===it.CSS_TEXT)}).reduce(function(u,d){var f=typeof a[d]>"u"?d:d+'="'+Tv(a[d],r)+'"';return u?u+" "+f:f},""),l=a.innerHTML||a.cssText||"",c=m_.indexOf(t)===-1;return s+"<"+t+" "+Pr+'="true" '+i+(c?"/>":">"+l+"</"+t+">")},"")},TE=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,s){return r[Pf[s]||s]=t[s],r},n)},A_=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,s){return r[f_[s]||s]=t[s],r},n)},k_=function(t,n,r){var s,a=(s={key:n},s[Pr]=!0,s),i=TE(r,a);return[G.createElement(Se.TITLE,i,n)]},R_=function(t,n){return n.map(function(r,s){var a,i=(a={key:s},a[Pr]=!0,a);return Object.keys(r).forEach(function(l){var c=Pf[l]||l;if(c===it.INNER_HTML||c===it.CSS_TEXT){var u=r.innerHTML||r.cssText;i.dangerouslySetInnerHTML={__html:u}}else i[c]=r[l]}),G.createElement(t,i)})},bs=function(t,n,r){switch(t){case Se.TITLE:return{toComponent:function(){return k_(t,n.title,n.titleAttributes)},toString:function(){return D_(t,n.title,n.titleAttributes,r)}};case wa.BODY:case wa.HTML:return{toComponent:function(){return TE(n)},toString:function(){return DE(n)}};default:return{toComponent:function(){return R_(t,n)},toString:function(){return T_(t,n,r)}}}},AE=function(t){var n=t.baseTag,r=t.bodyAttributes,s=t.encode,a=t.htmlAttributes,i=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.scriptTags,d=t.styleTags,f=t.title,p=f===void 0?"":f,h=t.titleAttributes;return{base:bs(Se.BASE,n,s),bodyAttributes:bs(wa.BODY,r,s),htmlAttributes:bs(wa.HTML,a,s),link:bs(Se.LINK,i,s),meta:bs(Se.META,l,s),noscript:bs(Se.NOSCRIPT,c,s),script:bs(Se.SCRIPT,u,s),style:bs(Se.STYLE,d,s),title:bs(Se.TITLE,{title:p,titleAttributes:h},s)}},M_=function(t){var n,r;return r=n=function(s){v_(a,s);function a(){return h_(this,a),x_(this,s.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(l){return!o_(this.props,l)},a.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case Se.SCRIPT:case Se.NOSCRIPT:return{innerHTML:c};case Se.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,f=l.newChildProps,p=l.nestedChildren;return Nn({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[Nn({},f,this.mapNestedChildrenToProps(u,p))]),c))},a.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,f=l.newProps,p=l.newChildProps,h=l.nestedChildren;switch(d.type){case Se.TITLE:return Nn({},f,(c={},c[d.type]=h,c.titleAttributes=Nn({},p),c));case Se.BODY:return Nn({},f,{bodyAttributes:Nn({},p)});case Se.HTML:return Nn({},f,{htmlAttributes:Nn({},p)})}return Nn({},f,(u={},u[d.type]=Nn({},p),u))},a.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=Nn({},c);return Object.keys(l).forEach(function(d){var f;u=Nn({},u,(f={},f[d]=l[d],f))}),u},a.prototype.warnOnInvalidChildren=function(l,c){return!0},a.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return G.Children.forEach(l,function(f){if(!(!f||!f.props)){var p=f.props,h=p.children,g=pj(p,["children"]),v=A_(g);switch(u.warnOnInvalidChildren(f,h),f.type){case Se.LINK:case Se.META:case Se.NOSCRIPT:case Se.SCRIPT:case Se.STYLE:d=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:v,nestedChildren:h});break;default:c=u.mapObjectTypeChildren({child:f,newProps:c,newChildProps:v,nestedChildren:h});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},a.prototype.render=function(){var l=this.props,c=l.children,u=pj(l,["children"]),d=Nn({},u);return c&&(d=this.mapChildrenToProps(c,d)),G.createElement(t,d)},g_(a,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),a}(G.Component),n.propTypes={base:at.object,bodyAttributes:at.object,children:at.oneOfType([at.arrayOf(at.node),at.node]),defaultTitle:at.string,defer:at.bool,encodeSpecialCharacters:at.bool,htmlAttributes:at.object,link:at.arrayOf(at.object),meta:at.arrayOf(at.object),noscript:at.arrayOf(at.object),onChangeClientState:at.func,script:at.arrayOf(at.object),style:at.arrayOf(at.object),title:at.string,titleAttributes:at.object,titleTemplate:at.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var s=t.rewind();return s||(s=AE({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},I_=function(){return null},O_=Z5(j_,P_,AE)(I_),Rv=M_(O_);Rv.renderStatic=Rv.rewind;function kE(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=kE(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function RE(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=kE(e))&&(r&&(r+=" "),r+=t);return r}function $_(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=ME(t))&&(r&&(r+=" "),r+=n);return r}function ME(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=ME(e[r]))&&(n&&(n+=" "),n+=t);return n}var R0="-";function __(e){var t=F_(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function a(l){var c=l.split(R0);return c[0]===""&&c.length!==1&&c.shift(),IE(c,t)||L_(l)}function i(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:a,getConflictingClassGroupIds:i}}function IE(e,t){var i;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?IE(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var a=e.join(R0);return(i=t.validators.find(function(l){var c=l.validator;return c(a)}))==null?void 0:i.classGroupId}}var vj=/^\[(.+)\]$/;function L_(e){if(vj.test(e)){var t=vj.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function F_(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=V_(Object.entries(e.classGroups),n);return s.forEach(function(a){var i=a[0],l=a[1];Mv(l,r,i,t)}),r}function Mv(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var a=s===""?t:xj(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(B_(s)){Mv(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var l=i[0],c=i[1];Mv(c,xj(t,l),n,r)})})}function xj(e,t){var n=e;return t.split(R0).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function B_(e){return e.isThemeGetter}function V_(e,t){return t?e.map(function(n){var r=n[0],s=n[1],a=s.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):i});return[r,a]}):e}function z_(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(a,i){n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(i){var l=n.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return s(i,l),l},set:function(i,l){n.has(i)?n.set(i,l):s(i,l)}}}var OE="!";function U_(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(i){for(var l=[],c=0,u=0,d,f=0;f<i.length;f++){var p=i[f];if(c===0){if(p===r&&(n||i.slice(f,f+s)===t)){l.push(i.slice(u,f)),u=f+s;continue}if(p==="/"){d=f;continue}}p==="["?c++:p==="]"&&c--}var h=l.length===0?i:i.substring(u),g=h.startsWith(OE),v=g?h.substring(1):h,b=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:b}}}function W_(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function H_(e){return{cache:z_(e.cacheSize),splitModifiers:U_(e),...__(e)}}var G_=/\s+/;function Y_(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(G_).map(function(i){var l=n(i),c=l.modifiers,u=l.hasImportantModifier,d=l.baseClassName,f=l.maybePostfixModifierPosition,p=r(f?d.substring(0,f):d),h=!!f;if(!p){if(!f)return{isTailwindClass:!1,originalClassName:i};if(p=r(d),!p)return{isTailwindClass:!1,originalClassName:i};h=!1}var g=W_(c).join(":"),v=u?g+OE:g;return{isTailwindClass:!0,modifierId:v,classGroupId:p,originalClassName:i,hasPostfixModifier:h}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,u=i.hasPostfixModifier,d=l+c;return a.has(d)?!1:(a.add(d),s(c,u).forEach(function(f){return a.add(l+f)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function q_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,a,i=l;function l(u){var d=t[0],f=t.slice(1),p=f.reduce(function(h,g){return g(h)},d());return r=H_(p),s=r.cache.get,a=r.cache.set,i=c,c(u)}function c(u){var d=s(u);if(d)return d;var f=Y_(u,r);return a(u,f),f}return function(){return i($_.apply(null,arguments))}}function rt(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var $E=/^\[(?:([a-z-]+):)?(.+)\]$/i,K_=/^\d+\/\d+$/,X_=new Set(["px","full","screen"]),J_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Q_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Z_=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function jr(e){return ga(e)||X_.has(e)||K_.test(e)||Iv(e)}function Iv(e){return za(e,"length",o3)}function e3(e){return za(e,"size",_E)}function t3(e){return za(e,"position",_E)}function n3(e){return za(e,"url",a3)}function sd(e){return za(e,"number",ga)}function ga(e){return!Number.isNaN(Number(e))}function r3(e){return e.endsWith("%")&&ga(e.slice(0,-1))}function Ol(e){return yj(e)||za(e,"number",yj)}function Ae(e){return $E.test(e)}function $l(){return!0}function so(e){return J_.test(e)}function s3(e){return za(e,"",i3)}function za(e,t,n){var r=$E.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function o3(e){return Q_.test(e)}function _E(){return!1}function a3(e){return e.startsWith("url(")}function yj(e){return Number.isInteger(Number(e))}function i3(e){return Z_.test(e)}function l3(){var e=rt("colors"),t=rt("spacing"),n=rt("blur"),r=rt("brightness"),s=rt("borderColor"),a=rt("borderRadius"),i=rt("borderSpacing"),l=rt("borderWidth"),c=rt("contrast"),u=rt("grayscale"),d=rt("hueRotate"),f=rt("invert"),p=rt("gap"),h=rt("gradientColorStops"),g=rt("gradientColorStopPositions"),v=rt("inset"),b=rt("margin"),x=rt("opacity"),y=rt("padding"),w=rt("saturate"),j=rt("scale"),N=rt("sepia"),C=rt("skew"),S=rt("space"),P=rt("translate"),R=function(){return["auto","contain","none"]},E=function(){return["auto","hidden","clip","visible","scroll"]},D=function(){return["auto",Ae,t]},A=function(){return[Ae,t]},$=function(){return["",jr]},I=function(){return["auto",ga,Ae]},z=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},V=function(){return["solid","dashed","dotted","double","none"]},k=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},T=function(){return["start","end","center","between","around","evenly","stretch"]},_=function(){return["","0",Ae]},O=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},M=function(){return[ga,sd]},F=function(){return[ga,Ae]};return{cacheSize:500,theme:{colors:[$l],spacing:[jr],blur:["none","",so,Ae],brightness:M(),borderColor:[e],borderRadius:["none","","full",so,Ae],borderSpacing:A(),borderWidth:$(),contrast:M(),grayscale:_(),hueRotate:F(),invert:_(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[r3,Iv],inset:D(),margin:D(),opacity:M(),padding:A(),saturate:M(),scale:M(),sepia:_(),skew:F(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[so]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(z(),[Ae])}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ol]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",Ol]}],"grid-cols":[{"grid-cols":[$l]}],"col-start-end":[{col:["auto",{span:["full",Ol]},Ae]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[$l]}],"row-start-end":[{row:["auto",{span:[Ol]},Ae]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(T())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(T(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(T(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ae,t]}],"min-w":[{"min-w":["min","max","fit",Ae,jr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[so]},so,Ae]}],h:[{h:[Ae,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ae,jr]}],"max-h":[{"max-h":[Ae,t,"min","max","fit"]}],"font-size":[{text:["base",so,Iv]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sd]}],"font-family":[{font:[$l]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",ga,sd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ae,jr]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(V(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",jr]}],"underline-offset":[{"underline-offset":["auto",Ae,jr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(z(),[t3])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",e3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},n3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(V(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(V())}],"outline-offset":[{"outline-offset":[Ae,jr]}],"outline-w":[{outline:[jr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[jr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",so,s3]}],"shadow-color":[{shadow:[$l]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":k()}],"bg-blend":[{"bg-blend":k()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",so,Ae]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Ol,Ae]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[jr,sd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var c3=q_(l3);function le(...e){return c3(RE(e))}function Ms(e){return e?e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""):""}function ge(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function bj(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Pm(...e){return t=>{let n=!1;const r=e.map(s=>{const a=bj(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():bj(e[s],null)}}}}function Qe(...e){return m.useCallback(Pm(...e),e)}function u3(e,t){const n=m.createContext(t),r=a=>{const{children:i,...l}=a,c=m.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(a){const i=m.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function Fr(e,t=[]){let n=[];function r(a,i){const l=m.createContext(i),c=n.length;n=[...n,i];const u=f=>{var x;const{scope:p,children:h,...g}=f,v=((x=p==null?void 0:p[e])==null?void 0:x[c])||l,b=m.useMemo(()=>g,Object.values(g));return o.jsx(v.Provider,{value:b,children:h})};u.displayName=a+"Provider";function d(f,p){var v;const h=((v=p==null?void 0:p[e])==null?void 0:v[c])||l,g=m.useContext(h);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,d3(s,...t)]}function d3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Da(e){const t=m3(e),n=m.forwardRef((r,s)=>{const{children:a,...i}=r,l=m.Children.toArray(a),c=l.find(h3);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var f3=Da("Slot");function m3(e){const t=m.forwardRef((n,r)=>{const{children:s,...a}=n;if(m.isValidElement(s)){const i=v3(s),l=g3(a,s.props);return s.type!==m.Fragment&&(l.ref=r?Pm(r,i):i),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var LE=Symbol("radix.slottable");function p3(e){const t=({children:n})=>o.jsx(o.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=LE,t}function h3(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===LE}function g3(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function v3(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function M0(e){const t=e+"CollectionProvider",[n,r]=Fr(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:b,children:x}=v,y=G.useRef(null),w=G.useRef(new Map).current;return o.jsx(s,{scope:b,itemMap:w,collectionRef:y,children:x})};i.displayName=t;const l=e+"CollectionSlot",c=Da(l),u=G.forwardRef((v,b)=>{const{scope:x,children:y}=v,w=a(l,x),j=Qe(b,w.collectionRef);return o.jsx(c,{ref:j,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",p=Da(d),h=G.forwardRef((v,b)=>{const{scope:x,children:y,...w}=v,j=G.useRef(null),N=Qe(b,j),C=a(d,x);return G.useEffect(()=>(C.itemMap.set(j,{ref:j,...w}),()=>void C.itemMap.delete(j))),o.jsx(p,{[f]:"",ref:N,children:y})});h.displayName=d;function g(v){const b=a(e+"CollectionConsumer",v);return G.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((C,S)=>w.indexOf(C.ref.current)-w.indexOf(S.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:h},g,r]}var x3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=x3.reduce((e,t)=>{const n=Da(`Primitive.${t}`),r=m.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function I0(e,t){e&&$t.flushSync(()=>e.dispatchEvent(t))}function Kn(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function y3(e,t=globalThis==null?void 0:globalThis.document){const n=Kn(e);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var b3="DismissableLayer",Ov="dismissableLayer.update",w3="dismissableLayer.pointerDownOutside",j3="dismissableLayer.focusOutside",wj,FE=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mu=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(FE),[d,f]=m.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=m.useState({}),g=Qe(t,S=>f(S)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(b),y=d?v.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=x,N=C3(S=>{const P=S.target,R=[...u.branches].some(E=>E.contains(P));!j||R||(s==null||s(S),i==null||i(S),S.defaultPrevented||l==null||l())},p),C=S3(S=>{const P=S.target;[...u.branches].some(E=>E.contains(P))||(a==null||a(S),i==null||i(S),S.defaultPrevented||l==null||l())},p);return y3(S=>{y===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},p),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(wj=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),jj(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=wj)}},[d,p,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),jj())},[d,u]),m.useEffect(()=>{const S=()=>h({});return document.addEventListener(Ov,S),()=>document.removeEventListener(Ov,S)},[]),o.jsx(Me.div,{...c,ref:g,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:ge(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ge(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ge(e.onPointerDownCapture,N.onPointerDownCapture)})});mu.displayName=b3;var N3="DismissableLayerBranch",BE=m.forwardRef((e,t)=>{const n=m.useContext(FE),r=m.useRef(null),s=Qe(t,r);return m.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(Me.div,{...e,ref:s})});BE.displayName=N3;function C3(e,t=globalThis==null?void 0:globalThis.document){const n=Kn(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){VE(w3,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function S3(e,t=globalThis==null?void 0:globalThis.document){const n=Kn(e),r=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!r.current&&VE(j3,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function jj(){const e=new CustomEvent(Ov);document.dispatchEvent(e)}function VE(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?I0(s,a):s.dispatchEvent(a)}var P3=mu,E3=BE,Bs=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},D3="Portal",pu=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=m.useState(!1);Bs(()=>a(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Nm.createPortal(o.jsx(Me.div,{...r,ref:t}),i):null});pu.displayName=D3;function T3(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var xr=e=>{const{present:t,children:n}=e,r=A3(t),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),a=Qe(r.ref,k3(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:a}):null};xr.displayName="Presence";function A3(e){const[t,n]=m.useState(),r=m.useRef(null),s=m.useRef(e),a=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=T3(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=od(r.current);a.current=l==="mounted"?u:"none"},[l]),Bs(()=>{const u=r.current,d=s.current;if(d!==e){const p=a.current,h=od(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Bs(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=h=>{const v=od(r.current).includes(CSS.escape(h.animationName));if(h.target===t&&v&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},p=h=>{h.target===t&&(a.current=od(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function od(e){return(e==null?void 0:e.animationName)||"none"}function k3(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var R3=iu[" useInsertionEffect ".trim().toString()]||Bs;function Ua({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,i]=M3({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=m.useCallback(d=>{var f;if(l){const p=I3(d)?d(e):d;p!==e&&((f=i.current)==null||f.call(i,p))}else a(d)},[l,e,a,i]);return[c,u]}function M3({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),s=m.useRef(n),a=m.useRef(t);return R3(()=>{a.current=t},[t]),m.useEffect(()=>{var i;s.current!==n&&((i=a.current)==null||i.call(a,n),s.current=n)},[n,s]),[n,r,a]}function I3(e){return typeof e=="function"}var O3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$3="VisuallyHidden",O0=m.forwardRef((e,t)=>o.jsx(Me.span,{...e,ref:t,style:{...O3,...e.style}}));O0.displayName=$3;var $0="ToastProvider",[_0,_3,L3]=M0("Toast"),[zE,Roe]=Fr("Toast",[L3]),[F3,Em]=zE($0),UE=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:i}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${$0}\`. Expected non-empty \`string\`.`),o.jsx(_0.Provider,{scope:t,children:o.jsx(F3,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(h=>h+1),[]),onToastRemove:m.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:i})})};UE.displayName=$0;var WE="ToastViewport",B3=["F8"],$v="toast.viewportPause",_v="toast.viewportResume",HE=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=B3,label:s="Notifications ({hotkey})",...a}=e,i=Em(WE,n),l=_3(n),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),p=Qe(t,f,i.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;m.useEffect(()=>{const b=x=>{var w;r.length!==0&&r.every(j=>x[j]||x.code===j)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),m.useEffect(()=>{const b=c.current,x=f.current;if(g&&b&&x){const y=()=>{if(!i.isClosePausedRef.current){const C=new CustomEvent($v);x.dispatchEvent(C),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const C=new CustomEvent(_v);x.dispatchEvent(C),i.isClosePausedRef.current=!1}},j=C=>{!b.contains(C.relatedTarget)&&w()},N=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",y),b.addEventListener("focusout",j),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[g,i.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:b})=>{const y=l().map(w=>{const j=w.ref.current,N=[j,...Z3(j)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?y.reverse():y).flat()},[l]);return m.useEffect(()=>{const b=f.current;if(b){const x=y=>{var N,C,S;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const P=document.activeElement,R=y.shiftKey;if(y.target===b&&R){(N=u.current)==null||N.focus();return}const A=v({tabbingDirection:R?"backwards":"forwards"}),$=A.findIndex(I=>I===P);Ph(A.slice($+1))?y.preventDefault():R?(C=u.current)==null||C.focus():(S=d.current)==null||S.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[l,v]),o.jsxs(E3,{ref:c,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&o.jsx(Lv,{ref:u,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});Ph(b)}}),o.jsx(_0.Slot,{scope:n,children:o.jsx(Me.ol,{tabIndex:-1,...a,ref:p})}),g&&o.jsx(Lv,{ref:d,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});Ph(b)}})]})});HE.displayName=WE;var GE="ToastFocusProxy",Lv=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,a=Em(GE,n);return o.jsx(O0,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});Lv.displayName=GE;var hu="Toast",V3="toast.swipeStart",z3="toast.swipeMove",U3="toast.swipeCancel",W3="toast.swipeEnd",YE=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...i}=e,[l,c]=Ua({prop:r,defaultProp:s??!0,onChange:a,caller:hu});return o.jsx(xr,{present:n||l,children:o.jsx(Y3,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:Kn(e.onPause),onResume:Kn(e.onResume),onSwipeStart:ge(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ge(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ge(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ge(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});YE.displayName=hu;var[H3,G3]=zE(hu,{onClose(){}}),Y3=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:h,...g}=e,v=Em(hu,n),[b,x]=m.useState(null),y=Qe(t,I=>x(I)),w=m.useRef(null),j=m.useRef(null),N=s||v.duration,C=m.useRef(0),S=m.useRef(N),P=m.useRef(0),{onToastAdd:R,onToastRemove:E}=v,D=Kn(()=>{var z;(b==null?void 0:b.contains(document.activeElement))&&((z=v.viewport)==null||z.focus()),i()}),A=m.useCallback(I=>{!I||I===1/0||(window.clearTimeout(P.current),C.current=new Date().getTime(),P.current=window.setTimeout(D,I))},[D]);m.useEffect(()=>{const I=v.viewport;if(I){const z=()=>{A(S.current),u==null||u()},V=()=>{const k=new Date().getTime()-C.current;S.current=S.current-k,window.clearTimeout(P.current),c==null||c()};return I.addEventListener($v,V),I.addEventListener(_v,z),()=>{I.removeEventListener($v,V),I.removeEventListener(_v,z)}}},[v.viewport,N,c,u,A]),m.useEffect(()=>{a&&!v.isClosePausedRef.current&&A(N)},[a,N,v.isClosePausedRef,A]),m.useEffect(()=>(R(),()=>E()),[R,E]);const $=m.useMemo(()=>b?e2(b):null,[b]);return v.viewport?o.jsxs(o.Fragment,{children:[$&&o.jsx(q3,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:$}),o.jsx(H3,{scope:n,onClose:D,children:$t.createPortal(o.jsx(_0.ItemSlot,{scope:n,children:o.jsx(P3,{asChild:!0,onEscapeKeyDown:ge(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||D(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Me.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ge(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ge(e.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:ge(e.onPointerMove,I=>{if(!w.current)return;const z=I.clientX-w.current.x,V=I.clientY-w.current.y,k=!!j.current,T=["left","right"].includes(v.swipeDirection),_=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,O=T?_(0,z):0,M=T?0:_(0,V),F=I.pointerType==="touch"?10:2,W={x:O,y:M},J={originalEvent:I,delta:W};k?(j.current=W,ad(z3,f,J,{discrete:!1})):Nj(W,v.swipeDirection,F)?(j.current=W,ad(V3,d,J,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(z)>F||Math.abs(V)>F)&&(w.current=null)}),onPointerUp:ge(e.onPointerUp,I=>{const z=j.current,V=I.target;if(V.hasPointerCapture(I.pointerId)&&V.releasePointerCapture(I.pointerId),j.current=null,w.current=null,z){const k=I.currentTarget,T={originalEvent:I,delta:z};Nj(z,v.swipeDirection,v.swipeThreshold)?ad(W3,h,T,{discrete:!0}):ad(U3,p,T,{discrete:!0}),k.addEventListener("click",_=>_.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),q3=e=>{const{__scopeToast:t,children:n,...r}=e,s=Em(hu,t),[a,i]=m.useState(!1),[l,c]=m.useState(!1);return J3(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(pu,{asChild:!0,children:o.jsx(O0,{...r,children:a&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},K3="ToastTitle",qE=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(Me.div,{...r,ref:t})});qE.displayName=K3;var X3="ToastDescription",KE=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(Me.div,{...r,ref:t})});KE.displayName=X3;var XE="ToastAction",JE=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?o.jsx(ZE,{altText:n,asChild:!0,children:o.jsx(L0,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${XE}\`. Expected non-empty \`string\`.`),null)});JE.displayName=XE;var QE="ToastClose",L0=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=G3(QE,n);return o.jsx(ZE,{asChild:!0,children:o.jsx(Me.button,{type:"button",...r,ref:t,onClick:ge(e.onClick,s.onClose)})})});L0.displayName=QE;var ZE=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return o.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function e2(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Q3(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...e2(r))}}),t}function ad(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?I0(s,a):s.dispatchEvent(a)}var Nj=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),a=r>s;return t==="left"||t==="right"?a&&r>n:!a&&s>n};function J3(e=()=>{}){const t=Kn(e);Bs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function Q3(e){return e.nodeType===e.ELEMENT_NODE}function Z3(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ph(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var eL=UE,t2=HE,n2=YE,r2=qE,s2=KE,o2=JE,a2=L0;const Cj=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Sj=RE,Dm=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Sj(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const p=Cj(d)||Cj(f);return s[u][p]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...h}=d;return Object.entries(h).every(g=>{let[v,b]=g;return Array.isArray(b)?b.includes({...a,...l}[v]):{...a,...l}[v]===b})?[...u,f,p]:u},[]);return Sj(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};var tL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ye=(e,t)=>{const n=m.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:i,children:l,...c},u)=>m.createElement("svg",{ref:u,...tL,width:s,height:s,stroke:r,strokeWidth:i?Number(a)*24/Number(s):a,className:`lucide lucide-${nL(e)}`,...c},[...t.map(([d,f])=>m.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n},Ic=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Pj=ye("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),rL=ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),_o=ye("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),i2=ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Tm=ye("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),gr=ye("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),l2=ye("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),sL=ye("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),fn=ye("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),An=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),c2=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),gu=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),u2=ye("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),oL=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ui=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),aL=ye("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),iL=ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),F0=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),vu=ye("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),lL=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),cL=ye("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),B0=ye("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),uL=ye("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),dL=ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),d2=ye("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),f2=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Lt=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Ks=ye("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),m2=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),xu=ye("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Ta=ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Ef=ye("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),Oc=ye("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),yt=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),et=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),V0=ye("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),$c=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),z0=ye("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),fL=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),p2=ye("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),mL=ye("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),lr=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),pL=ye("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Ej=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),hs=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),hL=ye("Users2",[["path",{d:"M14 19a6 6 0 0 0-12 0",key:"vej9p1"}],["circle",{cx:"8",cy:"9",r:"4",key:"143rtg"}],["path",{d:"M22 19a6 6 0 0 0-6-6 4 4 0 1 0 0-8",key:"hqbn22"}]]),Rr=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),h2=ye("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Br=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Am=ye("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),gL=eL,g2=G.forwardRef(({className:e,...t},n)=>o.jsx(t2,{ref:n,className:le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));g2.displayName=t2.displayName;const vL=Dm("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),v2=G.forwardRef(({className:e,variant:t,...n},r)=>o.jsx(n2,{ref:r,className:le(vL({variant:t}),e),...n}));v2.displayName=n2.displayName;const xL=G.forwardRef(({className:e,...t},n)=>o.jsx(o2,{ref:n,className:le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));xL.displayName=o2.displayName;const x2=G.forwardRef(({className:e,...t},n)=>o.jsx(a2,{ref:n,className:le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Br,{className:"h-4 w-4"})}));x2.displayName=a2.displayName;const y2=G.forwardRef(({className:e,...t},n)=>o.jsx(r2,{ref:n,className:le("text-sm font-semibold",e),...t}));y2.displayName=r2.displayName;const b2=G.forwardRef(({className:e,...t},n)=>o.jsx(s2,{ref:n,className:le("text-sm opacity-90",e),...t}));b2.displayName=s2.displayName;const yL=1;let Eh=0;function bL(){return Eh=(Eh+1)%Number.MAX_VALUE,Eh.toString()}const an={state:{toasts:[]},listeners:[],getState:()=>an.state,setState:e=>{typeof e=="function"?an.state=e(an.state):an.state={...an.state,...e},an.listeners.forEach(t=>t(an.state))},subscribe:e=>(an.listeners.push(e),()=>{an.listeners=an.listeners.filter(t=>t!==e)})},K=({...e})=>{const t=bL(),n=s=>an.setState(a=>({...a,toasts:a.toasts.map(i=>i.id===t?{...i,...s}:i)})),r=()=>an.setState(s=>({...s,toasts:s.toasts.filter(a=>a.id!==t)}));return an.setState(s=>({...s,toasts:[{...e,id:t,dismiss:r},...s.toasts].slice(0,yL)})),{id:t,dismiss:r,update:n}};function wL(){const[e,t]=m.useState(an.getState());return m.useEffect(()=>an.subscribe(r=>{t(r)}),[]),m.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:K,toasts:e.toasts}}function jL(){const{toasts:e}=wL();return o.jsxs(gL,{children:[e.map(({id:t,title:n,description:r,action:s,...a})=>o.jsxs(v2,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(y2,{children:n}),r&&o.jsx(b2,{children:r})]}),s,o.jsx(x2,{})]},t)),o.jsx(g2,{})]})}const w2=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),km=m.createContext({}),Rm=m.createContext(null),Mm=typeof document<"u",U0=Mm?m.useLayoutEffect:m.useEffect,j2=m.createContext({strict:!1}),W0=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),NL="framerAppearId",N2="data-"+W0(NL);function CL(e,t,n,r){const{visualElement:s}=m.useContext(km),a=m.useContext(j2),i=m.useContext(Rm),l=m.useContext(w2).reducedMotion,c=m.useRef();r=r||a.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;m.useInsertionEffect(()=>{u&&u.update(n,i)});const d=m.useRef(!!(n[N2]&&!window.HandoffComplete));return U0(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),m.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Ci(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function SL(e,t,n){return m.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ci(n)&&(n.current=r))},[t])}function _c(e){return typeof e=="string"||Array.isArray(e)}function Im(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const H0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],G0=["initial",...H0];function Om(e){return Im(e.animate)||G0.some(t=>_c(e[t]))}function C2(e){return!!(Om(e)||e.variants)}function PL(e,t){if(Om(e)){const{initial:n,animate:r}=e;return{initial:n===!1||_c(n)?n:void 0,animate:_c(r)?r:void 0}}return e.inherit!==!1?t:{}}function EL(e){const{initial:t,animate:n}=PL(e,m.useContext(km));return m.useMemo(()=>({initial:t,animate:n}),[Dj(t),Dj(n)])}function Dj(e){return Array.isArray(e)?e.join(" "):e}const Tj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Lc={};for(const e in Tj)Lc[e]={isEnabled:t=>Tj[e].some(n=>!!t[n])};function DL(e){for(const t in e)Lc[t]={...Lc[t],...e[t]}}const Y0=m.createContext({}),S2=m.createContext({}),TL=Symbol.for("motionComponentSymbol");function AL({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&DL(e);function a(l,c){let u;const d={...m.useContext(w2),...l,layoutId:kL(l)},{isStatic:f}=d,p=EL(l),h=r(l,f);if(!f&&Mm){p.visualElement=CL(s,h,d,t);const g=m.useContext(S2),v=m.useContext(j2).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,v,e,g))}return m.createElement(km.Provider,{value:p},u&&p.visualElement?m.createElement(u,{visualElement:p.visualElement,...d}):null,n(s,l,SL(h,p.visualElement,c),h,f,p.visualElement))}const i=m.forwardRef(a);return i[TL]=s,i}function kL({layoutId:e}){const t=m.useContext(Y0).id;return t&&e!==void 0?t+"-"+e:e}function RL(e){function t(r,s={}){return AL(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const ML=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function q0(e){return typeof e!="string"||e.includes("-")?!1:!!(ML.indexOf(e)>-1||/[A-Z]/.test(e))}const Df={};function IL(e){Object.assign(Df,e)}const yu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wa=new Set(yu);function P2(e,{layout:t,layoutId:n}){return Wa.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Df[e]||e==="opacity")}const Rn=e=>!!(e&&e.getVelocity),OL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$L=yu.length;function _L(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let a="";for(let i=0;i<$L;i++){const l=yu[i];if(e[l]!==void 0){const c=OL[l]||l;a+=`${c}(${e[l]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),s?a=s(e,r?"":a):n&&r&&(a="none"),a}const E2=e=>t=>typeof t=="string"&&t.startsWith(e),D2=E2("--"),Fv=E2("var(--"),LL=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,FL=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Lo=(e,t,n)=>Math.min(Math.max(n,e),t),Ha={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ac={...Ha,transform:e=>Lo(0,1,e)},id={...Ha,default:1},ic=e=>Math.round(e*1e5)/1e5,$m=/(-)?([\d]*\.?[\d])+/g,T2=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,BL=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function bu(e){return typeof e=="string"}const wu=e=>({test:t=>bu(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),io=wu("deg"),is=wu("%"),be=wu("px"),VL=wu("vh"),zL=wu("vw"),Aj={...is,parse:e=>is.parse(e)/100,transform:e=>is.transform(e*100)},kj={...Ha,transform:Math.round},A2={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,size:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,rotate:io,rotateX:io,rotateY:io,rotateZ:io,scale:id,scaleX:id,scaleY:id,scaleZ:id,skew:io,skewX:io,skewY:io,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:ac,originX:Aj,originY:Aj,originZ:be,zIndex:kj,fillOpacity:ac,strokeOpacity:ac,numOctaves:kj};function K0(e,t,n,r){const{style:s,vars:a,transform:i,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(D2(f)){a[f]=p;continue}const h=A2[f],g=FL(p,h);if(Wa.has(f)){if(c=!0,i[f]=g,!d)continue;p!==(h.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=g):s[f]=g}if(t.transform||(c||r?s.transform=_L(e.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:h=0}=l;s.transformOrigin=`${f} ${p} ${h}`}}const X0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function k2(e,t,n){for(const r in t)!Rn(t[r])&&!P2(r,n)&&(e[r]=t[r])}function UL({transformTemplate:e},t,n){return m.useMemo(()=>{const r=X0();return K0(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function WL(e,t,n){const r=e.style||{},s={};return k2(s,r,e),Object.assign(s,UL(e,t,n)),e.transformValues?e.transformValues(s):s}function HL(e,t,n){const r={},s=WL(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const GL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||GL.has(e)}let R2=e=>!Tf(e);function YL(e){e&&(R2=t=>t.startsWith("on")?!Tf(t):e(t))}try{YL(require("@emotion/is-prop-valid").default)}catch{}function qL(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(R2(s)||n===!0&&Tf(s)||!t&&!Tf(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Rj(e,t,n){return typeof e=="string"?e:be.transform(t+n*e)}function KL(e,t,n){const r=Rj(t,e.x,e.width),s=Rj(n,e.y,e.height);return`${r} ${s}`}const XL={offset:"stroke-dashoffset",array:"stroke-dasharray"},JL={offset:"strokeDashoffset",array:"strokeDasharray"};function QL(e,t,n=1,r=0,s=!0){e.pathLength=1;const a=s?XL:JL;e[a.offset]=be.transform(-r);const i=be.transform(t),l=be.transform(n);e[a.array]=`${i} ${l}`}function J0(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:a,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...u},d,f,p){if(K0(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:g,dimensions:v}=e;h.transform&&(v&&(g.transform=h.transform),delete h.transform),v&&(s!==void 0||a!==void 0||g.transform)&&(g.transformOrigin=KL(v,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&QL(h,i,l,c,!1)}const M2=()=>({...X0(),attrs:{}}),Q0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ZL(e,t,n,r){const s=m.useMemo(()=>{const a=M2();return J0(a,t,{enableHardwareAcceleration:!1},Q0(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};k2(a,e.style,e),s.style={...a,...s.style}}return s}function e6(e=!1){return(n,r,s,{latestValues:a},i)=>{const c=(q0(n)?ZL:HL)(r,a,i,n),d={...qL(r,typeof n=="string",e),...c,ref:s},{children:f}=r,p=m.useMemo(()=>Rn(f)?f.get():f,[f]);return m.createElement(n,{...d,children:p})}}function I2(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const O2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $2(e,t,n,r){I2(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(O2.has(s)?s:W0(s),t.attrs[s])}function Z0(e,t){const{style:n}=e,r={};for(const s in n)(Rn(n[s])||t.style&&Rn(t.style[s])||P2(s,e))&&(r[s]=n[s]);return r}function _2(e,t){const n=Z0(e,t);for(const r in e)if(Rn(e[r])||Rn(t[r])){const s=yu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function ey(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function L2(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const Af=e=>Array.isArray(e),t6=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),n6=e=>Af(e)?e[e.length-1]||0:e;function Bd(e){const t=Rn(e)?e.get():e;return t6(t)?t.toValue():t}function r6({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,a){const i={latestValues:s6(r,s,a,e),renderState:t()};return n&&(i.mount=l=>n(r,l,i)),i}const F2=e=>(t,n)=>{const r=m.useContext(km),s=m.useContext(Rm),a=()=>r6(e,t,r,s);return n?a():L2(a)};function s6(e,t,n,r){const s={},a=r(e,{});for(const p in a)s[p]=Bd(a[p]);let{initial:i,animate:l}=e;const c=Om(e),u=C2(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const f=d?l:i;return f&&typeof f!="boolean"&&!Im(f)&&(Array.isArray(f)?f:[f]).forEach(h=>{const g=ey(e,h);if(!g)return;const{transitionEnd:v,transition:b,...x}=g;for(const y in x){let w=x[y];if(Array.isArray(w)){const j=d?w.length-1:0;w=w[j]}w!==null&&(s[y]=w)}for(const y in v)s[y]=v[y]}),s}const pt=e=>e;class Mj{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function o6(e){let t=new Mj,n=new Mj,r=0,s=!1,a=!1;const i=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,p=f?t:n;return u&&i.add(c),p.add(c)&&f&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),i.delete(c)},process:c=>{if(s){a=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),i.has(d)&&(l.schedule(d),e())}s=!1,a&&(a=!1,l.process(c))}};return l}const ld=["prepare","read","update","preRender","render","postRender"],a6=40;function i6(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=ld.reduce((f,p)=>(f[p]=o6(()=>n=!0),f),{}),i=f=>a[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,a6),1),s.timestamp=f,s.isProcessing=!0,ld.forEach(i),s.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,s.isProcessing||e(l)};return{schedule:ld.reduce((f,p)=>{const h=a[p];return f[p]=(g,v=!1,b=!1)=>(n||c(),h.schedule(g,v,b)),f},{}),cancel:f=>ld.forEach(p=>a[p].cancel(f)),state:s,steps:a}}const{schedule:tt,cancel:Vs,state:Jt,steps:Dh}=i6(typeof requestAnimationFrame<"u"?requestAnimationFrame:pt,!0),l6={useVisualState:F2({scrapeMotionValuesFromProps:_2,createRenderState:M2,onMount:(e,t,{renderState:n,latestValues:r})=>{tt.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),tt.render(()=>{J0(n,r,{enableHardwareAcceleration:!1},Q0(t.tagName),e.transformTemplate),$2(t,n)})}})},c6={useVisualState:F2({scrapeMotionValuesFromProps:Z0,createRenderState:X0})};function u6(e,{forwardMotionProps:t=!1},n,r){return{...q0(e)?l6:c6,preloadedFeatures:n,useRender:e6(t),createVisualElement:r,Component:e}}function As(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const B2=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function _m(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const d6=e=>t=>B2(t)&&e(t,_m(t));function Is(e,t,n,r){return As(e,t,d6(n),r)}const f6=(e,t)=>n=>t(e(n)),Ao=(...e)=>e.reduce(f6);function V2(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Ij=V2("dragHorizontal"),Oj=V2("dragVertical");function z2(e){let t=!1;if(e==="y")t=Oj();else if(e==="x")t=Ij();else{const n=Ij(),r=Oj();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function U2(){const e=z2(!0);return e?(e(),!1):!0}class Qo{constructor(t){this.isMounted=!1,this.node=t}update(){}}function $j(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(a,i)=>{if(a.pointerType==="touch"||U2())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&tt.update(()=>l[r](a,i))};return Is(e.current,n,s,{passive:!e.getProps()[r]})}class m6 extends Qo{mount(){this.unmount=Ao($j(this.node,!0),$j(this.node,!1))}unmount(){}}class p6 extends Qo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ao(As(this.node.current,"focus",()=>this.onFocus()),As(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const W2=(e,t)=>t?e===t?!0:W2(e,t.parentElement):!1;function Th(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,_m(n))}class h6 extends Qo{constructor(){super(...arguments),this.removeStartListeners=pt,this.removeEndListeners=pt,this.removeAccessibleListeners=pt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=Is(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();tt.update(()=>{!f&&!W2(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),i=Is(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ao(a,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const i=l=>{l.key!=="Enter"||!this.checkPressEnd()||Th("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&tt.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=As(this.node.current,"keyup",i),Th("down",(l,c)=>{this.startPress(l,c)})},n=As(this.node.current,"keydown",t),r=()=>{this.isPressing&&Th("cancel",(a,i)=>this.cancelPress(a,i))},s=As(this.node.current,"blur",r);this.removeAccessibleListeners=Ao(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&tt.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!U2()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&tt.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Is(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=As(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ao(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Bv=new WeakMap,Ah=new WeakMap,g6=e=>{const t=Bv.get(e.target);t&&t(e)},v6=e=>{e.forEach(g6)};function x6({root:e,...t}){const n=e||document;Ah.has(n)||Ah.set(n,{});const r=Ah.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(v6,{root:e,...t})),r[s]}function y6(e,t,n){const r=x6(t);return Bv.set(e,n),r.observe(e),()=>{Bv.delete(e),r.unobserve(e)}}const b6={some:0,all:1};class w6 extends Qo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:b6[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return y6(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(j6(t,n))&&this.startObserver()}unmount(){}}function j6({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const N6={inView:{Feature:w6},tap:{Feature:h6},focus:{Feature:p6},hover:{Feature:m6}};function H2(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function C6(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function S6(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Lm(e,t,n){const r=e.getProps();return ey(r,t,n!==void 0?n:r.custom,C6(e),S6(e))}let P6=pt,ty=pt;const ko=e=>e*1e3,Os=e=>e/1e3,E6={current:!1},G2=e=>Array.isArray(e)&&typeof e[0]=="number";function Y2(e){return!!(!e||typeof e=="string"&&q2[e]||G2(e)||Array.isArray(e)&&e.every(Y2))}const ql=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,q2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ql([0,.65,.55,1]),circOut:ql([.55,0,1,.45]),backIn:ql([.31,.01,.66,-.59]),backOut:ql([.33,1.53,.69,.99])};function K2(e){if(e)return G2(e)?ql(e):Array.isArray(e)?e.map(K2):q2[e]}function D6(e,t,n,{delay:r=0,duration:s,repeat:a=0,repeatType:i="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=K2(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:i==="reverse"?"alternate":"normal"})}function T6(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const X2=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,A6=1e-7,k6=12;function R6(e,t,n,r,s){let a,i,l=0;do i=t+(n-t)/2,a=X2(i,r,s)-e,a>0?n=i:t=i;while(Math.abs(a)>A6&&++l<k6);return i}function ju(e,t,n,r){if(e===t&&n===r)return pt;const s=a=>R6(a,0,1,e,n);return a=>a===0||a===1?a:X2(s(a),t,r)}const M6=ju(.42,0,1,1),I6=ju(0,0,.58,1),J2=ju(.42,0,.58,1),O6=e=>Array.isArray(e)&&typeof e[0]!="number",Q2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Z2=e=>t=>1-e(1-t),ny=e=>1-Math.sin(Math.acos(e)),eD=Z2(ny),$6=Q2(ny),tD=ju(.33,1.53,.69,.99),ry=Z2(tD),_6=Q2(ry),L6=e=>(e*=2)<1?.5*ry(e):.5*(2-Math.pow(2,-10*(e-1))),F6={linear:pt,easeIn:M6,easeInOut:J2,easeOut:I6,circIn:ny,circInOut:$6,circOut:eD,backIn:ry,backInOut:_6,backOut:tD,anticipate:L6},_j=e=>{if(Array.isArray(e)){ty(e.length===4);const[t,n,r,s]=e;return ju(t,n,r,s)}else if(typeof e=="string")return F6[e];return e},sy=(e,t)=>n=>!!(bu(n)&&BL.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),nD=(e,t,n)=>r=>{if(!bu(r))return r;const[s,a,i,l]=r.match($m);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},B6=e=>Lo(0,255,e),kh={...Ha,transform:e=>Math.round(B6(e))},va={test:sy("rgb","red"),parse:nD("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+kh.transform(e)+", "+kh.transform(t)+", "+kh.transform(n)+", "+ic(ac.transform(r))+")"};function V6(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Vv={test:sy("#"),parse:V6,transform:va.transform},Si={test:sy("hsl","hue"),parse:nD("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+is.transform(ic(t))+", "+is.transform(ic(n))+", "+ic(ac.transform(r))+")"},ln={test:e=>va.test(e)||Vv.test(e)||Si.test(e),parse:e=>va.test(e)?va.parse(e):Si.test(e)?Si.parse(e):Vv.parse(e),transform:e=>bu(e)?e:e.hasOwnProperty("red")?va.transform(e):Si.transform(e)},ut=(e,t,n)=>-n*e+n*t+e;function Rh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function z6({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,a=0,i=0;if(!t)s=a=i=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Rh(c,l,e+1/3),a=Rh(c,l,e),i=Rh(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(i*255),alpha:r}}const Mh=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},U6=[Vv,va,Si],W6=e=>U6.find(t=>t.test(e));function Lj(e){const t=W6(e);let n=t.parse(e);return t===Si&&(n=z6(n)),n}const rD=(e,t)=>{const n=Lj(e),r=Lj(t),s={...n};return a=>(s.red=Mh(n.red,r.red,a),s.green=Mh(n.green,r.green,a),s.blue=Mh(n.blue,r.blue,a),s.alpha=ut(n.alpha,r.alpha,a),va.transform(s))};function H6(e){var t,n;return isNaN(e)&&bu(e)&&(((t=e.match($m))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(T2))===null||n===void 0?void 0:n.length)||0)>0}const sD={regex:LL,countKey:"Vars",token:"${v}",parse:pt},oD={regex:T2,countKey:"Colors",token:"${c}",parse:ln.parse},aD={regex:$m,countKey:"Numbers",token:"${n}",parse:Ha.parse};function Ih(e,{regex:t,countKey:n,token:r,parse:s}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(s)))}function kf(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ih(n,sD),Ih(n,oD),Ih(n,aD),n}function iD(e){return kf(e).values}function lD(e){const{values:t,numColors:n,numVars:r,tokenised:s}=kf(e),a=t.length;return i=>{let l=s;for(let c=0;c<a;c++)c<r?l=l.replace(sD.token,i[c]):c<r+n?l=l.replace(oD.token,ln.transform(i[c])):l=l.replace(aD.token,ic(i[c]));return l}}const G6=e=>typeof e=="number"?0:e;function Y6(e){const t=iD(e);return lD(e)(t.map(G6))}const Fo={test:H6,parse:iD,createTransformer:lD,getAnimatableNone:Y6},cD=(e,t)=>n=>`${n>0?t:e}`;function uD(e,t){return typeof e=="number"?n=>ut(e,t,n):ln.test(e)?rD(e,t):e.startsWith("var(")?cD(e,t):fD(e,t)}const dD=(e,t)=>{const n=[...e],r=n.length,s=e.map((a,i)=>uD(a,t[i]));return a=>{for(let i=0;i<r;i++)n[i]=s[i](a);return n}},q6=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=uD(e[s],t[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}},fD=(e,t)=>{const n=Fo.createTransformer(t),r=kf(e),s=kf(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Ao(dD(r.values,s.values),n):cD(e,t)},Fc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Fj=(e,t)=>n=>ut(e,t,n);function K6(e){return typeof e=="number"?Fj:typeof e=="string"?ln.test(e)?rD:fD:Array.isArray(e)?dD:typeof e=="object"?q6:Fj}function X6(e,t,n){const r=[],s=n||K6(e[0]),a=e.length-1;for(let i=0;i<a;i++){let l=s(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||pt:t;l=Ao(c,l)}r.push(l)}return r}function mD(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const a=e.length;if(ty(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=X6(t,r,s),l=i.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Fc(e[d],e[d+1],u);return i[d](f)};return n?u=>c(Lo(e[0],e[a-1],u)):c}function J6(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Fc(0,t,r);e.push(ut(n,1,s))}}function Q6(e){const t=[0];return J6(t,e.length-1),t}function Z6(e,t){return e.map(n=>n*t)}function eF(e,t){return e.map(()=>t||J2).splice(0,e.length-1)}function Rf({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=O6(r)?r.map(_j):_j(r),a={done:!1,value:t[0]},i=Z6(n&&n.length===t.length?n:Q6(t),e),l=mD(i,t,{ease:Array.isArray(s)?s:eF(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}function pD(e,t){return t?e*(1e3/t):0}const tF=5;function hD(e,t,n){const r=Math.max(t-tF,0);return pD(n-e(r),t-r)}const Oh=.001,nF=.01,Bj=10,rF=.05,sF=1;function oF({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,a;P6(e<=ko(Bj));let i=1-t;i=Lo(rF,sF,i),e=Lo(nF,Bj,Os(e)),i<1?(s=u=>{const d=u*i,f=d*e,p=d-n,h=zv(u,i),g=Math.exp(-f);return Oh-p/h*g},a=u=>{const f=u*i*e,p=f*n+n,h=Math.pow(i,2)*Math.pow(u,2)*e,g=Math.exp(-f),v=zv(Math.pow(u,2),i);return(-s(u)+Oh>0?-1:1)*((p-h)*g)/v}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Oh+d*f},a=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=iF(s,a,l);if(e=ko(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:e}}}const aF=12;function iF(e,t,n){let r=n;for(let s=1;s<aF;s++)r=r-e(r)/t(r);return r}function zv(e,t){return e*Math.sqrt(1-t*t)}const lF=["duration","bounce"],cF=["stiffness","damping","mass"];function Vj(e,t){return t.some(n=>e[n]!==void 0)}function uF(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Vj(e,cF)&&Vj(e,lF)){const n=oF(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function gD({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],a=e[e.length-1],i={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=uF({...r,velocity:-Os(r.velocity||0)}),h=f||0,g=c/(2*Math.sqrt(l*u)),v=a-s,b=Os(Math.sqrt(l/u)),x=Math.abs(v)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let y;if(g<1){const w=zv(b,g);y=j=>{const N=Math.exp(-g*b*j);return a-N*((h+g*b*v)/w*Math.sin(w*j)+v*Math.cos(w*j))}}else if(g===1)y=w=>a-Math.exp(-b*w)*(v+(h+b*v)*w);else{const w=b*Math.sqrt(g*g-1);y=j=>{const N=Math.exp(-g*b*j),C=Math.min(w*j,300);return a-N*((h+g*b*v)*Math.sinh(C)+w*v*Math.cosh(C))/w}}return{calculatedDuration:p&&d||null,next:w=>{const j=y(w);if(p)i.done=w>=d;else{let N=h;w!==0&&(g<1?N=hD(y,w,j):N=0);const C=Math.abs(N)<=n,S=Math.abs(a-j)<=t;i.done=C&&S}return i.value=i.done?a:j,i}}}function zj({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},h=P=>l!==void 0&&P<l||c!==void 0&&P>c,g=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let v=n*t;const b=f+v,x=i===void 0?b:i(b);x!==b&&(v=x-f);const y=P=>-v*Math.exp(-P/r),w=P=>x+y(P),j=P=>{const R=y(P),E=w(P);p.done=Math.abs(R)<=u,p.value=p.done?x:E};let N,C;const S=P=>{h(p.value)&&(N=P,C=gD({keyframes:[p.value,g(p.value)],velocity:hD(w,P,p.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:P=>{let R=!1;return!C&&N===void 0&&(R=!0,j(P),S(P)),N!==void 0&&P>N?C.next(P-N):(!R&&j(P),p)}}}const dF=e=>{const t=({timestamp:n})=>e(n);return{start:()=>tt.update(t,!0),stop:()=>Vs(t),now:()=>Jt.isProcessing?Jt.timestamp:performance.now()}},Uj=2e4;function Wj(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Uj;)t+=n,r=e.next(t);return t>=Uj?1/0:t}const fF={decay:zj,inertia:zj,tween:Rf,keyframes:Rf,spring:gD};function Mf({autoplay:e=!0,delay:t=0,driver:n=dF,keyframes:r,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...p}){let h=1,g=!1,v,b;const x=()=>{b=new Promise(M=>{v=M})};x();let y;const w=fF[s]||Rf;let j;w!==Rf&&typeof r[0]!="number"&&(j=mD([0,100],r,{clamp:!1}),r=[0,100]);const N=w({...p,keyframes:r});let C;l==="mirror"&&(C=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let S="idle",P=null,R=null,E=null;N.calculatedDuration===null&&a&&(N.calculatedDuration=Wj(N));const{calculatedDuration:D}=N;let A=1/0,$=1/0;D!==null&&(A=D+i,$=A*(a+1)-i);let I=0;const z=M=>{if(R===null)return;h>0&&(R=Math.min(R,M)),h<0&&(R=Math.min(M-$/h,R)),P!==null?I=P:I=Math.round(M-R)*h;const F=I-t*(h>=0?1:-1),W=h>=0?F<0:F>$;I=Math.max(F,0),S==="finished"&&P===null&&(I=$);let J=I,ie=N;if(a){const ae=Math.min(I,$)/A;let q=Math.floor(ae),de=ae%1;!de&&ae>=1&&(de=1),de===1&&q--,q=Math.min(q,a+1),!!(q%2)&&(l==="reverse"?(de=1-de,i&&(de-=i/A)):l==="mirror"&&(ie=C)),J=Lo(0,1,de)*A}const H=W?{done:!1,value:r[0]}:ie.next(J);j&&(H.value=j(H.value));let{done:U}=H;!W&&D!==null&&(U=h>=0?I>=$:I<=0);const oe=P===null&&(S==="finished"||S==="running"&&U);return f&&f(H.value),oe&&T(),H},V=()=>{y&&y.stop(),y=void 0},k=()=>{S="idle",V(),v(),x(),R=E=null},T=()=>{S="finished",d&&d(),V(),v()},_=()=>{if(g)return;y||(y=n(z));const M=y.now();c&&c(),P!==null?R=M-P:(!R||S==="finished")&&(R=M),S==="finished"&&x(),E=R,P=null,S="running",y.start()};e&&_();const O={then(M,F){return b.then(M,F)},get time(){return Os(I)},set time(M){M=ko(M),I=M,P!==null||!y||h===0?P=M:R=y.now()-M/h},get duration(){const M=N.calculatedDuration===null?Wj(N):N.calculatedDuration;return Os(M)},get speed(){return h},set speed(M){M===h||!y||(h=M,O.time=Os(I))},get state(){return S},play:_,pause:()=>{S="paused",P=I},stop:()=>{g=!0,S!=="idle"&&(S="idle",u&&u(),k())},cancel:()=>{E!==null&&z(E),k()},complete:()=>{S="finished"},sample:M=>(R=0,z(M))};return O}function mF(e){let t;return()=>(t===void 0&&(t=e()),t)}const pF=mF(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hF=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),cd=10,gF=2e4,vF=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Y2(t.ease);function xF(e,t,{onUpdate:n,onComplete:r,...s}){if(!(pF()&&hF.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let i=!1,l,c,u=!1;const d=()=>{c=new Promise(w=>{l=w})};d();let{keyframes:f,duration:p=300,ease:h,times:g}=s;if(vF(t,s)){const w=Mf({...s,repeat:0,delay:0});let j={done:!1,value:f[0]};const N=[];let C=0;for(;!j.done&&C<gF;)j=w.sample(C),N.push(j.value),C+=cd;g=void 0,f=N,p=C-cd,h="linear"}const v=D6(e.owner.current,t,f,{...s,duration:p,ease:h,times:g}),b=()=>{u=!1,v.cancel()},x=()=>{u=!0,tt.update(b),l(),d()};return v.onfinish=()=>{u||(e.set(T6(f,s)),r&&r(),x())},{then(w,j){return c.then(w,j)},attachTimeline(w){return v.timeline=w,v.onfinish=null,pt},get time(){return Os(v.currentTime||0)},set time(w){v.currentTime=ko(w)},get speed(){return v.playbackRate},set speed(w){v.playbackRate=w},get duration(){return Os(p)},play:()=>{i||(v.play(),Vs(b))},pause:()=>v.pause(),stop:()=>{if(i=!0,v.playState==="idle")return;const{currentTime:w}=v;if(w){const j=Mf({...s,autoplay:!1});e.setWithVelocity(j.sample(w-cd).value,j.sample(w).value,cd)}x()},complete:()=>{u||v.finish()},cancel:x}}function yF({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:pt,pause:pt,stop:pt,then:a=>(a(),Promise.resolve()),cancel:pt,complete:pt});return t?Mf({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const bF={type:"spring",stiffness:500,damping:25,restSpeed:10},wF=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),jF={type:"keyframes",duration:.8},NF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CF=(e,{keyframes:t})=>t.length>2?jF:Wa.has(e)?e.startsWith("scale")?wF(t[1]):bF:NF,Uv=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Fo.test(t)||t==="0")&&!t.startsWith("url(")),SF=new Set(["brightness","contrast","saturate","opacity"]);function PF(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match($m)||[];if(!r)return e;const s=n.replace(r,"");let a=SF.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+s+")"}const EF=/([a-z-]*)\(.*?\)/g,Wv={...Fo,getAnimatableNone:e=>{const t=e.match(EF);return t?t.map(PF).join(" "):e}},DF={...A2,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:Wv,WebkitFilter:Wv},oy=e=>DF[e];function vD(e,t){let n=oy(e);return n!==Wv&&(n=Fo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const xD=e=>/^0[^.\s]+$/.test(e);function TF(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||xD(e)}function AF(e,t,n,r){const s=Uv(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const i=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?i:a[u-1]),TF(a[u])&&c.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(l=a[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];a[d]=vD(t,l)}return a}function kF({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function ay(e,t){return e[t]||e.default||e}const RF={skipAnimations:!1},iy=(e,t,n,r={})=>s=>{const a=ay(r,e)||{},i=a.delay||r.delay||0;let{elapsed:l=0}=r;l=l-ko(i);const c=AF(t,e,n,a),u=c[0],d=c[c.length-1],f=Uv(e,u),p=Uv(e,d);let h={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-l,onUpdate:g=>{t.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{s(),a.onComplete&&a.onComplete()}};if(kF(a)||(h={...h,...CF(e,h)}),h.duration&&(h.duration=ko(h.duration)),h.repeatDelay&&(h.repeatDelay=ko(h.repeatDelay)),!f||!p||E6.current||a.type===!1||RF.skipAnimations)return yF(h);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=xF(t,e,h);if(g)return g}return Mf(h)};function If(e){return!!(Rn(e)&&e.add)}const yD=e=>/^\-?\d*\.?\d+$/.test(e);function ly(e,t){e.indexOf(t)===-1&&e.push(t)}function cy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class uy{constructor(){this.subscriptions=[]}add(t){return ly(this.subscriptions,t),()=>cy(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let a=0;a<s;a++){const i=this.subscriptions[a];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MF=e=>!isNaN(parseFloat(e));class IF{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:i}=Jt;this.lastUpdated!==i&&(this.timeDelta=a,this.lastUpdated=i,tt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>tt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=MF(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new uy);const r=this.events[t].add(n);return t==="change"?()=>{r(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?pD(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ji(e,t){return new IF(e,t)}const bD=e=>t=>t.test(e),OF={test:e=>e==="auto",parse:e=>e},wD=[Ha,be,is,io,zL,VL,OF],_l=e=>wD.find(bD(e)),$F=[...wD,ln,Fo],_F=e=>$F.find(bD(e));function LF(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ji(n))}function FF(e,t){const n=Lm(e,t);let{transitionEnd:r={},transition:s={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const i in a){const l=n6(a[i]);LF(e,i,l)}}function BF(e,t,n){var r,s;const a=Object.keys(t).filter(l=>!e.hasValue(l)),i=a.length;if(i)for(let l=0;l<i;l++){const c=a[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(yD(d)||xD(d))?d=parseFloat(d):!_F(d)&&Fo.test(u)&&(d=vD(c,u)),e.addValue(c,Ji(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function VF(e,t){return t?(t[e]||t.default||t).from:void 0}function zF(e,t,n){const r={};for(const s in e){const a=VF(s,t);if(a!==void 0)r[s]=a;else{const i=n.getValue(s);i&&(r[s]=i.get())}}return r}function UF({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function WF(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function jD(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:i,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(a=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const p=e.getValue(f),h=l[f];if(!p||h===void 0||d&&UF(d,f))continue;const g={delay:n,elapsed:0,...ay(a||{},f)};if(window.HandoffAppearAnimations){const x=e.getProps()[N2];if(x){const y=window.HandoffAppearAnimations(x,f,p,tt);y!==null&&(g.elapsed=y,g.isHandoff=!0)}}let v=!g.isHandoff&&!WF(p,h);if(g.type==="spring"&&(p.getVelocity()||g.velocity)&&(v=!1),p.animation&&(v=!1),v)continue;p.start(iy(f,p,h,e.shouldReduceMotion&&Wa.has(f)?{type:!1}:g));const b=p.animation;If(c)&&(c.add(f),b.then(()=>c.remove(f))),u.push(b)}return i&&Promise.all(u).then(()=>{i&&FF(e,i)}),u}function Hv(e,t,n={}){const r=Lm(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(jD(e,r,n)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return HF(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[a,i]:[i,a];return c().then(()=>u())}else return Promise.all([a(),i(n.delay)])}function HF(e,t,n=0,r=0,s=1,a){const i=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(GF).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(Hv(u,t,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function GF(e,t){return e.sortNodePosition(t)}function YF(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(a=>Hv(e,a,n));r=Promise.all(s)}else if(typeof t=="string")r=Hv(e,t,n);else{const s=typeof t=="function"?Lm(e,t,n.custom):t;r=Promise.all(jD(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const qF=[...H0].reverse(),KF=H0.length;function XF(e){return t=>Promise.all(t.map(({animation:n,options:r})=>YF(e,n,r)))}function JF(e){let t=XF(e);const n=ZF();let r=!0;const s=(c,u)=>{const d=Lm(e,u);if(d){const{transition:f,transitionEnd:p,...h}=d;c={...c,...h,...p}}return c};function a(c){t=c(e)}function i(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],h=new Set;let g={},v=1/0;for(let x=0;x<KF;x++){const y=qF[x],w=n[y],j=d[y]!==void 0?d[y]:f[y],N=_c(j),C=y===u?w.isActive:null;C===!1&&(v=x);let S=j===f[y]&&j!==d[y]&&N;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),w.protectedKeys={...g},!w.isActive&&C===null||!j&&!w.prevProp||Im(j)||typeof j=="boolean")continue;let R=QF(w.prevProp,j)||y===u&&w.isActive&&!S&&N||x>v&&N,E=!1;const D=Array.isArray(j)?j:[j];let A=D.reduce(s,{});C===!1&&(A={});const{prevResolvedValues:$={}}=w,I={...$,...A},z=V=>{R=!0,h.has(V)&&(E=!0,h.delete(V)),w.needsAnimating[V]=!0};for(const V in I){const k=A[V],T=$[V];if(g.hasOwnProperty(V))continue;let _=!1;Af(k)&&Af(T)?_=!H2(k,T):_=k!==T,_?k!==void 0?z(V):h.add(V):k!==void 0&&h.has(V)?z(V):w.protectedKeys[V]=!0}w.prevProp=j,w.prevResolvedValues=A,w.isActive&&(g={...g,...A}),r&&e.blockInitialAnimation&&(R=!1),R&&(!S||E)&&p.push(...D.map(V=>({animation:V,options:{type:y,...c}})))}if(h.size){const x={};h.forEach(y=>{const w=e.getBaseTarget(y);w!==void 0&&(x[y]=w)}),p.push({animation:x})}let b=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(p):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(h=>{var g;return(g=h.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),n[c].isActive=u;const p=i(d,c);for(const h in n)n[h].protectedKeys={};return p}return{animateChanges:i,setActive:l,setAnimateFunction:a,getState:()=>n}}function QF(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!H2(t,e):!1}function ra(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZF(){return{animate:ra(!0),whileInView:ra(),whileHover:ra(),whileTap:ra(),whileDrag:ra(),whileFocus:ra(),exit:ra()}}class e8 extends Qo{constructor(t){super(t),t.animationState||(t.animationState=JF(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Im(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let t8=0;class n8 extends Qo{constructor(){super(...arguments),this.id=t8++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const r8={animation:{Feature:e8},exit:{Feature:n8}},Hj=(e,t)=>Math.abs(e-t);function s8(e,t){const n=Hj(e.x,t.x),r=Hj(e.y,t.y);return Math.sqrt(n**2+r**2)}class ND{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=_h(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,h=s8(f.offset,{x:0,y:0})>=3;if(!p&&!h)return;const{point:g}=f,{timestamp:v}=Jt;this.history.push({...g,timestamp:v});const{onStart:b,onMove:x}=this.handlers;p||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=$h(p,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:h,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=_h(f.type==="pointercancel"?this.lastMoveEventInfo:$h(p,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,b),g&&g(f,b)},!B2(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=_m(t),l=$h(i,this.transformPagePoint),{point:c}=l,{timestamp:u}=Jt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,_h(l,this.history)),this.removeListeners=Ao(Is(this.contextWindow,"pointermove",this.handlePointerMove),Is(this.contextWindow,"pointerup",this.handlePointerUp),Is(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Vs(this.updatePoint)}}function $h(e,t){return t?{point:t(e.point)}:e}function Gj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _h({point:e},t){return{point:e,delta:Gj(e,CD(t)),offset:Gj(e,o8(t)),velocity:a8(t,.1)}}function o8(e){return e[0]}function CD(e){return e[e.length-1]}function a8(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=CD(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>ko(t)));)n--;if(!r)return{x:0,y:0};const a=Os(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const i={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Xn(e){return e.max-e.min}function Gv(e,t=0,n=.01){return Math.abs(e-t)<=n}function Yj(e,t,n,r=.5){e.origin=r,e.originPoint=ut(t.min,t.max,e.origin),e.scale=Xn(n)/Xn(t),(Gv(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ut(n.min,n.max,e.origin)-e.originPoint,(Gv(e.translate)||isNaN(e.translate))&&(e.translate=0)}function lc(e,t,n,r){Yj(e.x,t.x,n.x,r?r.originX:void 0),Yj(e.y,t.y,n.y,r?r.originY:void 0)}function qj(e,t,n){e.min=n.min+t.min,e.max=e.min+Xn(t)}function i8(e,t,n){qj(e.x,t.x,n.x),qj(e.y,t.y,n.y)}function Kj(e,t,n){e.min=t.min-n.min,e.max=e.min+Xn(t)}function cc(e,t,n){Kj(e.x,t.x,n.x),Kj(e.y,t.y,n.y)}function l8(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ut(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ut(n,e,r.max):Math.min(e,n)),e}function Xj(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function c8(e,{top:t,left:n,bottom:r,right:s}){return{x:Xj(e.x,n,s),y:Xj(e.y,t,r)}}function Jj(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function u8(e,t){return{x:Jj(e.x,t.x),y:Jj(e.y,t.y)}}function d8(e,t){let n=.5;const r=Xn(e),s=Xn(t);return s>r?n=Fc(t.min,t.max-r,e.min):r>s&&(n=Fc(e.min,e.max-s,t.min)),Lo(0,1,n)}function f8(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Yv=.35;function m8(e=Yv){return e===!1?e=0:e===!0&&(e=Yv),{x:Qj(e,"left","right"),y:Qj(e,"top","bottom")}}function Qj(e,t,n){return{min:Zj(e,t),max:Zj(e,n)}}function Zj(e,t){return typeof e=="number"?e:e[t]||0}const e1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pi=()=>({x:e1(),y:e1()}),t1=()=>({min:0,max:0}),wt=()=>({x:t1(),y:t1()});function sr(e){return[e("x"),e("y")]}function SD({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function p8({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function h8(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Lh(e){return e===void 0||e===1}function qv({scale:e,scaleX:t,scaleY:n}){return!Lh(e)||!Lh(t)||!Lh(n)}function ia(e){return qv(e)||PD(e)||e.z||e.rotate||e.rotateX||e.rotateY}function PD(e){return n1(e.x)||n1(e.y)}function n1(e){return e&&e!=="0%"}function Of(e,t,n){const r=e-n,s=t*r;return n+s}function r1(e,t,n,r,s){return s!==void 0&&(e=Of(e,s,r)),Of(e,n,r)+t}function Kv(e,t=0,n=1,r,s){e.min=r1(e.min,t,n,r,s),e.max=r1(e.max,t,n,r,s)}function ED(e,{x:t,y:n}){Kv(e.x,t.translate,t.scale,t.originPoint),Kv(e.y,n.translate,n.scale,n.originPoint)}function g8(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,i;for(let l=0;l<s;l++){a=n[l],i=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ei(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,ED(e,i)),r&&ia(a.latestValues)&&Ei(e,a.latestValues))}t.x=s1(t.x),t.y=s1(t.y)}function s1(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function mo(e,t){e.min=e.min+t,e.max=e.max+t}function o1(e,t,[n,r,s]){const a=t[s]!==void 0?t[s]:.5,i=ut(e.min,e.max,a);Kv(e,t[n],t[r],i,t.scale)}const v8=["x","scaleX","originX"],x8=["y","scaleY","originY"];function Ei(e,t){o1(e.x,t,v8),o1(e.y,t,x8)}function DD(e,t){return SD(h8(e.getBoundingClientRect(),t))}function y8(e,t,n){const r=DD(e,n),{scroll:s}=t;return s&&(mo(r.x,s.offset.x),mo(r.y,s.offset.y)),r}const TD=({current:e})=>e?e.ownerDocument.defaultView:null,b8=new WeakMap;class w8{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_m(d,"page").point)},a=(d,f)=>{const{drag:p,dragPropagation:h,onDragStart:g}=this.getProps();if(p&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=z2(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sr(b=>{let x=this.getAxisMotionValue(b).get()||0;if(is.test(x)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[b];w&&(x=Xn(w)*(parseFloat(x)/100))}}this.originPoint[b]=x}),g&&tt.update(()=>g(d,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},i=(d,f)=>{const{dragPropagation:p,dragDirectionLock:h,onDirectionLock:g,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:b}=f;if(h&&this.currentDirection===null){this.currentDirection=j8(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),v&&v(d,f)},l=(d,f)=>this.stop(d,f),c=()=>sr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ND(t,{onSessionStart:s,onStart:a,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:TD(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&tt.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!ud(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=l8(i,this.constraints[t],this.elastic[t])),a.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&Ci(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=c8(s.layoutBox,n):this.constraints=!1,this.elastic=m8(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&sr(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=f8(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ci(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=y8(r,s.root,this.visualElement.getTransformPagePoint());let i=u8(s.layout.layoutBox,a);if(n){const l=n(p8(i));this.hasMutatedConstraints=!!l,l&&(i=SD(l))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=sr(d=>{if(!ud(d,n,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const p=s?200:1e6,h=s?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(iy(t,r,0,n))}stopAnimation(){sr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){sr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){sr(n=>{const{drag:r}=this.getProps();if(!ud(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[n];a.set(t[n]-ut(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ci(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};sr(i=>{const l=this.getAxisMotionValue(i);if(l){const c=l.get();s[i]=d8({min:c,max:c},this.constraints[i])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),sr(i=>{if(!ud(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(ut(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;b8.set(this.visualElement,this);const t=this.visualElement.current,n=Is(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ci(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const i=As(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(sr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:i=Yv,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:i,dragMomentum:l}}}function ud(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function j8(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class N8 extends Qo{constructor(t){super(t),this.removeGroupControls=pt,this.removeListeners=pt,this.controls=new w8(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pt}unmount(){this.removeGroupControls(),this.removeListeners()}}const a1=e=>(t,n)=>{e&&tt.update(()=>e(t,n))};class C8 extends Qo{constructor(){super(...arguments),this.removePointerDownListener=pt}onPointerDown(t){this.session=new ND(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TD(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:a1(t),onStart:a1(n),onMove:r,onEnd:(a,i)=>{delete this.session,s&&tt.update(()=>s(a,i))}}}mount(){this.removePointerDownListener=Is(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function S8(){const e=m.useContext(Rm);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=m.useId();return m.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const Vd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function i1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ll={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(be.test(e))e=parseFloat(e);else return e;const n=i1(e,t.target.x),r=i1(e,t.target.y);return`${n}% ${r}%`}},P8={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Fo.parse(e);if(s.length>5)return r;const a=Fo.createTransformer(e),i=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+i]/=l,s[1+i]/=c;const u=ut(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),a(s)}};class E8 extends G.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=t;IL(D8),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Vd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,i=r.projection;return i&&(i.isPresent=a,s||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?i.promote():i.relegate()||tt.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function AD(e){const[t,n]=S8(),r=m.useContext(Y0);return G.createElement(E8,{...e,layoutGroup:r,switchLayoutGroup:m.useContext(S2),isPresent:t,safeToRemove:n})}const D8={borderRadius:{...Ll,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ll,borderTopRightRadius:Ll,borderBottomLeftRadius:Ll,borderBottomRightRadius:Ll,boxShadow:P8},kD=["TopLeft","TopRight","BottomLeft","BottomRight"],T8=kD.length,l1=e=>typeof e=="string"?parseFloat(e):e,c1=e=>typeof e=="number"||be.test(e);function A8(e,t,n,r,s,a){s?(e.opacity=ut(0,n.opacity!==void 0?n.opacity:1,k8(r)),e.opacityExit=ut(t.opacity!==void 0?t.opacity:1,0,R8(r))):a&&(e.opacity=ut(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<T8;i++){const l=`border${kD[i]}Radius`;let c=u1(t,l),u=u1(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||c1(c)===c1(u)?(e[l]=Math.max(ut(l1(c),l1(u),r),0),(is.test(u)||is.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=ut(t.rotate||0,n.rotate||0,r))}function u1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const k8=RD(0,.5,eD),R8=RD(.5,.95,pt);function RD(e,t,n){return r=>r<e?0:r>t?1:n(Fc(e,t,r))}function d1(e,t){e.min=t.min,e.max=t.max}function nr(e,t){d1(e.x,t.x),d1(e.y,t.y)}function f1(e,t,n,r,s){return e-=t,e=Of(e,1/n,r),s!==void 0&&(e=Of(e,1/s,r)),e}function M8(e,t=0,n=1,r=.5,s,a=e,i=e){if(is.test(t)&&(t=parseFloat(t),t=ut(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=ut(a.min,a.max,r);e===a&&(l-=t),e.min=f1(e.min,t,n,l,s),e.max=f1(e.max,t,n,l,s)}function m1(e,t,[n,r,s],a,i){M8(e,t[n],t[r],t[s],t.scale,a,i)}const I8=["x","scaleX","originX"],O8=["y","scaleY","originY"];function p1(e,t,n,r){m1(e.x,t,I8,n?n.x:void 0,r?r.x:void 0),m1(e.y,t,O8,n?n.y:void 0,r?r.y:void 0)}function h1(e){return e.translate===0&&e.scale===1}function MD(e){return h1(e.x)&&h1(e.y)}function $8(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function ID(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function g1(e){return Xn(e.x)/Xn(e.y)}class _8{constructor(){this.members=[]}add(t){ly(this.members,t),t.scheduleRender()}remove(t){if(cy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function v1(e,t,n){let r="";const s=e.x.translate/t.x,a=e.y.translate/t.y;if((s||a)&&(r=`translate3d(${s}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const i=e.x.scale*t.x,l=e.y.scale*t.y;return(i!==1||l!==1)&&(r+=`scale(${i}, ${l})`),r||"none"}const L8=(e,t)=>e.depth-t.depth;class F8{constructor(){this.children=[],this.isDirty=!1}add(t){ly(this.children,t),this.isDirty=!0}remove(t){cy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(L8),this.isDirty=!1,this.children.forEach(t)}}function B8(e,t){const n=performance.now(),r=({timestamp:s})=>{const a=s-n;a>=t&&(Vs(r),e(a-t))};return tt.read(r,!0),()=>Vs(r)}function V8(e){window.MotionDebug&&window.MotionDebug.record(e)}function z8(e){return e instanceof SVGElement&&e.tagName!=="svg"}function U8(e,t,n){const r=Rn(e)?e:Ji(e);return r.start(iy("",r,t,n)),r.animation}const x1=["","X","Y","Z"],W8={visibility:"hidden"},y1=1e3;let H8=0;const la={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function OD({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},l=t==null?void 0:t()){this.id=H8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,la.totalNodes=la.resolvedTargetDeltas=la.recalculatedProjection=0,this.nodes.forEach(q8),this.nodes.forEach(Z8),this.nodes.forEach(e7),this.nodes.forEach(K8),V8(la)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new F8)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new uy),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=z8(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=B8(p,250),Vd.hasAnimatedSinceResize&&(Vd.hasAnimatedSinceResize=!1,this.nodes.forEach(w1))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||o7,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=d.getProps(),y=!this.targetLayout||!ID(this.targetLayout,g)||h,w=!p&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const j={...ay(v,"layout"),onPlay:b,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else p||w1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(t7),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(b1);return}this.isUpdating||this.nodes.forEach(J8),this.isUpdating=!1,this.nodes.forEach(Q8),this.nodes.forEach(G8),this.nodes.forEach(Y8),this.clearAllSnapshots();const l=performance.now();Jt.delta=Lo(0,1e3/60,l-Jt.timestamp),Jt.timestamp=l,Jt.isProcessing=!0,Dh.update.process(Jt),Dh.preRender.process(Jt),Dh.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(X8),this.sharedNodes.forEach(n7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!MD(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(l||ia(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),a7(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return wt();const l=i.measureViewportBox(),{scroll:c}=this.root;return c&&(mo(l.x,c.offset.x),mo(l.y,c.offset.y)),l}removeElementScroll(i){const l=wt();nr(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){nr(l,i);const{scroll:p}=this.root;p&&(mo(l.x,-p.offset.x),mo(l.y,-p.offset.y))}mo(l.x,d.offset.x),mo(l.y,d.offset.y)}}return l}applyTransform(i,l=!1){const c=wt();nr(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ei(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ia(d.latestValues)&&Ei(c,d.latestValues)}return ia(this.latestValues)&&Ei(c,this.latestValues),c}removeTransform(i){const l=wt();nr(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ia(u.latestValues))continue;qv(u.latestValues)&&u.updateSnapshot();const d=wt(),f=u.measurePageBox();nr(d,f),p1(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ia(this.latestValues)&&p1(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),cc(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nr(this.target,this.layout.layoutBox),ED(this.target,this.targetDelta)):nr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),cc(this.relativeTargetOrigin,this.target,h.target),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}la.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||qv(this.parent.latestValues)||PD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;nr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,h=this.treeScale.y;g8(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:g}=l;if(!g){this.projectionTransform&&(this.projectionDelta=Pi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Pi(),this.projectionDeltaWithTransform=Pi());const v=this.projectionTransform;lc(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=v1(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==p||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),la.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Pi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=wt(),h=c?c.source:void 0,g=this.layout?this.layout.source:void 0,v=h!==g,b=this.getStack(),x=!b||b.members.length<=1,y=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(s7));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const N=j/1e3;j1(f.x,i.x,N),j1(f.y,i.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cc(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),r7(this.relativeTarget,this.relativeTargetOrigin,p,N),w&&$8(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=wt()),nr(w,this.relativeTarget)),v&&(this.animationValues=d,A8(d,u,this.latestValues,N,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{Vd.hasAnimatedSinceResize=!0,this.currentAnimation=U8(0,y1,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(y1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&$D(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||wt();const f=Xn(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const p=Xn(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+p}nr(l,c),Ei(l,d),lc(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new _8),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<x1.length;d++){const f="rotate"+x1[d];c[f]&&(u[f]=c[f],i.setStaticValue(f,0))}i.render();for(const d in u)i.setStaticValue(d,u[d]);i.scheduleRender()}getProjectionStyles(i){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return W8;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Bd(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Bd(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!ia(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=v1(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:h,y:g}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in Df){if(p[v]===void 0)continue;const{correct:b,applyTo:x}=Df[v],y=u.transform==="none"?p[v]:b(p[v],f);if(x){const w=x.length;for(let j=0;j<w;j++)u[x[j]]=y}else u[v]=y}return this.options.layoutId&&(u.pointerEvents=f===this?Bd(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(b1),this.root.sharedNodes.clear()}}}function G8(e){e.updateLayout()}function Y8(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:a}=e.options,i=n.source!==e.layout.source;a==="size"?sr(f=>{const p=i?n.measuredBox[f]:n.layoutBox[f],h=Xn(p);p.min=r[f].min,p.max=p.min+h}):$D(a,n.layoutBox,r)&&sr(f=>{const p=i?n.measuredBox[f]:n.layoutBox[f],h=Xn(r[f]);p.max=p.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+h)});const l=Pi();lc(l,r,n.layoutBox);const c=Pi();i?lc(c,e.applyTransform(s,!0),n.measuredBox):lc(c,r,n.layoutBox);const u=!MD(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:h}=f;if(p&&h){const g=wt();cc(g,n.layoutBox,p.layoutBox);const v=wt();cc(v,r,h.layoutBox),ID(g,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function q8(e){la.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function K8(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function X8(e){e.clearSnapshot()}function b1(e){e.clearMeasurements()}function J8(e){e.isLayoutDirty=!1}function Q8(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function w1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Z8(e){e.resolveTargetDelta()}function e7(e){e.calcProjection()}function t7(e){e.resetRotation()}function n7(e){e.removeLeadSnapshot()}function j1(e,t,n){e.translate=ut(t.translate,0,n),e.scale=ut(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function N1(e,t,n,r){e.min=ut(t.min,n.min,r),e.max=ut(t.max,n.max,r)}function r7(e,t,n,r){N1(e.x,t.x,n.x,r),N1(e.y,t.y,n.y,r)}function s7(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const o7={duration:.45,ease:[.4,0,.1,1]},C1=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),S1=C1("applewebkit/")&&!C1("chrome/")?Math.round:pt;function P1(e){e.min=S1(e.min),e.max=S1(e.max)}function a7(e){P1(e.x),P1(e.y)}function $D(e,t,n){return e==="position"||e==="preserve-aspect"&&!Gv(g1(t),g1(n),.2)}const i7=OD({attachResizeListener:(e,t)=>As(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fh={current:void 0},_D=OD({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Fh.current){const e=new i7({});e.mount(window),e.setOptions({layoutScroll:!0}),Fh.current=e}return Fh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),l7={pan:{Feature:C8},drag:{Feature:N8,ProjectionNode:_D,MeasureLayout:AD}},c7=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function u7(e){const t=c7.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Xv(e,t,n=1){const[r,s]=u7(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const i=a.trim();return yD(i)?parseFloat(i):i}else return Fv(s)?Xv(s,t,n+1):s}function d7(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const a=s.get();if(!Fv(a))return;const i=Xv(a,r);i&&s.set(i)});for(const s in t){const a=t[s];if(!Fv(a))continue;const i=Xv(a,r);i&&(t[s]=i,n||(n={}),n[s]===void 0&&(n[s]=a))}return{target:t,transitionEnd:n}}const f7=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),LD=e=>f7.has(e),m7=e=>Object.keys(e).some(LD),E1=e=>e===Ha||e===be,D1=(e,t)=>parseFloat(e.split(", ")[t]),T1=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return D1(s[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?D1(a[1],e):0}},p7=new Set(["x","y","z"]),h7=yu.filter(e=>!p7.has(e));function g7(e){const t=[];return h7.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Qi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:T1(4,13),y:T1(5,14)};Qi.translateX=Qi.x;Qi.translateY=Qi.y;const v7=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,a=getComputedStyle(s),{display:i}=a,l={};i==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=Qi[u](r,a)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=Qi[u](c,a)}),e},x7=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(LD);let a=[],i=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=_l(d);const p=t[c];let h;if(Af(p)){const g=p.length,v=p[0]===null?1:0;d=p[v],f=_l(d);for(let b=v;b<g&&p[b]!==null;b++)h?ty(_l(p[b])===h):h=_l(p[b])}else h=_l(p);if(f!==h)if(E1(f)&&E1(h)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof p=="string"?t[c]=parseFloat(p):Array.isArray(p)&&h===be&&(t[c]=p.map(parseFloat))}else f!=null&&f.transform&&(h!=null&&h.transform)&&(d===0||p===0)?d===0?u.set(h.transform(d)):t[c]=f.transform(p):(i||(a=g7(e),i=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(p))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=v7(t,e,l);return a.length&&a.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Mm&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function y7(e,t,n,r){return m7(t)?x7(e,t,n,r):{target:t,transitionEnd:r}}const b7=(e,t,n,r)=>{const s=d7(e,t,r);return t=s.target,r=s.transitionEnd,y7(e,t,n,r)},Jv={current:null},FD={current:!1};function w7(){if(FD.current=!0,!!Mm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Jv.current=e.matches;e.addListener(t),t()}else Jv.current=!1}function j7(e,t,n){const{willChange:r}=t;for(const s in t){const a=t[s],i=n[s];if(Rn(a))e.addValue(s,a),If(r)&&r.add(s);else if(Rn(i))e.addValue(s,Ji(a,{owner:e})),If(r)&&r.remove(s);else if(i!==a)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(a)}else{const l=e.getStaticValue(s);e.addValue(s,Ji(l!==void 0?l:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const A1=new WeakMap,BD=Object.keys(Lc),N7=BD.length,k1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],C7=G0.length;class S7{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:a},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.isControllingVariants=Om(n),this.isVariantNode=C2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];l[f]!==void 0&&Rn(p)&&(p.set(l[f],!1),If(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,A1.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),FD.current||w7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){A1.delete(this.current),this.projection&&this.projection.unmount(),Vs(this.notifyUpdate),Vs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Wa.has(t),s=n.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&tt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,a){let i,l;for(let c=0;c<N7;c++){const u=BD[c],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:h}=Lc[u];p&&(i=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),h&&(l=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:h}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Ci(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:p,layoutRoot:h})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<k1.length;r++){const s=k1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a=t["on"+s];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=j7(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<C7;r++){const s=G0[r],a=this.props[s];(_c(a)||a===!1)&&(n[s]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ji(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=ey(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Rn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new uy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class VD extends S7{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},a){let i=zF(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),i&&(i=s(i))),a){BF(this,r,i);const l=b7(this,r,i,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function P7(e){return window.getComputedStyle(e)}class E7 extends VD{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Wa.has(n)){const r=oy(n);return r&&r.default||0}else{const r=P7(t),s=(D2(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return DD(t,n)}build(t,n,r,s){K0(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Z0(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Rn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){I2(t,n,r,s)}}class D7 extends VD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Wa.has(n)){const r=oy(n);return r&&r.default||0}return n=O2.has(n)?n:W0(n),t.getAttribute(n)}measureInstanceViewportBox(){return wt()}scrapeMotionValuesFromProps(t,n){return _2(t,n)}build(t,n,r,s){J0(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){$2(t,n,r,s)}mount(t){this.isSVGTag=Q0(t.tagName),super.mount(t)}}const T7=(e,t)=>q0(e)?new D7(t,{enableHardwareAcceleration:!1}):new E7(t,{enableHardwareAcceleration:!0}),A7={layout:{ProjectionNode:_D,MeasureLayout:AD}},k7={...r8,...N6,...l7,...A7},ee=RL((e,t)=>u6(e,t,k7,T7));function zD(){const e=m.useRef(!1);return U0(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function R7(){const e=zD(),[t,n]=m.useState(0),r=m.useCallback(()=>{e.current&&n(t+1)},[t]);return[m.useCallback(()=>tt.postRender(r),[r]),t]}class M7 extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function I7({children:e,isPresent:t}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:a,height:i,top:l,left:c}=s.current;if(t||!r.current||!a||!i)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${i}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),m.createElement(M7,{isPresent:t,childRef:r,sizeRef:s},m.cloneElement(e,{ref:r}))}const Bh=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:i})=>{const l=L2(O7),c=m.useId(),u=m.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),a?void 0:[n]);return m.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),m.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),i==="popLayout"&&(e=m.createElement(I7,{isPresent:n},e)),m.createElement(Rm.Provider,{value:u},e)};function O7(){return new Map}function $7(e){return m.useEffect(()=>()=>e(),[])}const ca=e=>e.key||"";function _7(e,t){e.forEach(n=>{const r=ca(n);t.set(r,n)})}function L7(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const vn=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:a=!0,mode:i="sync"})=>{const l=m.useContext(Y0).forceRender||R7()[0],c=zD(),u=L7(e);let d=u;const f=m.useRef(new Map).current,p=m.useRef(d),h=m.useRef(new Map).current,g=m.useRef(!0);if(U0(()=>{g.current=!1,_7(u,h),p.current=d}),$7(()=>{g.current=!0,h.clear(),f.clear()}),g.current)return m.createElement(m.Fragment,null,d.map(y=>m.createElement(Bh,{key:ca(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:i},y)));d=[...d];const v=p.current.map(ca),b=u.map(ca),x=v.length;for(let y=0;y<x;y++){const w=v[y];b.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return i==="wait"&&f.size&&(d=[]),f.forEach((y,w)=>{if(b.indexOf(w)!==-1)return;const j=h.get(w);if(!j)return;const N=v.indexOf(w);let C=y;if(!C){const S=()=>{f.delete(w);const P=Array.from(h.keys()).filter(R=>!b.includes(R));if(P.forEach(R=>h.delete(R)),p.current=u.filter(R=>{const E=ca(R);return E===w||P.includes(E)}),!f.size){if(c.current===!1)return;l(),r&&r()}};C=m.createElement(Bh,{key:ca(j),isPresent:!1,onExitComplete:S,custom:t,presenceAffectsLayout:a,mode:i},j),f.set(w,C)}d.splice(N,0,C)}),d=d.map(y=>{const w=y.key;return f.has(w)?y:m.createElement(Bh,{key:ca(y),isPresent:!0,presenceAffectsLayout:a,mode:i},y)}),m.createElement(m.Fragment,null,f.size?d:d.map(y=>m.cloneElement(y)))},Bc=Dm("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),B=G.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const i=r?f3:"button";return o.jsx(i,{className:le(Bc({variant:t,size:n,className:e})),ref:a,...s})});B.displayName="Button";var F7=m.createContext(void 0);function UD(e){const t=m.useContext(F7);return e||t||"ltr"}var Vh=0;function dy(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??R1()),document.body.insertAdjacentElement("beforeend",e[1]??R1()),Vh++,()=>{Vh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Vh--}},[])}function R1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zh="focusScope.autoFocusOnMount",Uh="focusScope.autoFocusOnUnmount",M1={bubbles:!1,cancelable:!0},B7="FocusScope",Fm=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=m.useState(null),u=Kn(s),d=Kn(a),f=m.useRef(null),p=Qe(t,v=>c(v)),h=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(w){if(h.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:lo(f.current,{select:!0})},b=function(w){if(h.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||lo(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&lo(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),y.disconnect()}}},[r,l,h.paused]),m.useEffect(()=>{if(l){O1.add(h);const v=document.activeElement;if(!l.contains(v)){const x=new CustomEvent(zh,M1);l.addEventListener(zh,u),l.dispatchEvent(x),x.defaultPrevented||(V7(G7(WD(l)),{select:!0}),document.activeElement===v&&lo(l))}return()=>{l.removeEventListener(zh,u),setTimeout(()=>{const x=new CustomEvent(Uh,M1);l.addEventListener(Uh,d),l.dispatchEvent(x),x.defaultPrevented||lo(v??document.body,{select:!0}),l.removeEventListener(Uh,d),O1.remove(h)},0)}}},[l,u,d,h]);const g=m.useCallback(v=>{if(!n&&!r||h.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(b&&x){const y=v.currentTarget,[w,j]=z7(y);w&&j?!v.shiftKey&&x===j?(v.preventDefault(),n&&lo(w,{select:!0})):v.shiftKey&&x===w&&(v.preventDefault(),n&&lo(j,{select:!0})):x===y&&v.preventDefault()}},[n,r,h.paused]);return o.jsx(Me.div,{tabIndex:-1,...i,ref:p,onKeyDown:g})});Fm.displayName=B7;function V7(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(lo(r,{select:t}),document.activeElement!==n)return}function z7(e){const t=WD(e),n=I1(t,e),r=I1(t.reverse(),e);return[n,r]}function WD(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function I1(e,t){for(const n of e)if(!U7(n,{upTo:t}))return n}function U7(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function W7(e){return e instanceof HTMLInputElement&&"select"in e}function lo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&W7(e)&&t&&e.select()}}var O1=H7();function H7(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=$1(e,t),e.unshift(t)},remove(t){var n;e=$1(e,t),(n=e[0])==null||n.resume()}}}function $1(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function G7(e){return e.filter(t=>t.tagName!=="A")}var Y7=iu[" useId ".trim().toString()]||(()=>{}),q7=0;function ja(e){const[t,n]=m.useState(Y7());return Bs(()=>{e||n(r=>r??String(q7++))},[e]),e||(t?`radix-${t}`:"")}const K7=["top","right","bottom","left"],Bo=Math.min,Bn=Math.max,$f=Math.round,dd=Math.floor,ls=e=>({x:e,y:e}),X7={left:"right",right:"left",bottom:"top",top:"bottom"},J7={start:"end",end:"start"};function Qv(e,t,n){return Bn(e,Bo(t,n))}function zs(e,t){return typeof e=="function"?e(t):e}function Us(e){return e.split("-")[0]}function ml(e){return e.split("-")[1]}function fy(e){return e==="x"?"y":"x"}function my(e){return e==="y"?"height":"width"}const Q7=new Set(["top","bottom"]);function ss(e){return Q7.has(Us(e))?"y":"x"}function py(e){return fy(ss(e))}function Z7(e,t,n){n===void 0&&(n=!1);const r=ml(e),s=py(e),a=my(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=_f(i)),[i,_f(i)]}function eB(e){const t=_f(e);return[Zv(e),t,Zv(t)]}function Zv(e){return e.replace(/start|end/g,t=>J7[t])}const _1=["left","right"],L1=["right","left"],tB=["top","bottom"],nB=["bottom","top"];function rB(e,t,n){switch(e){case"top":case"bottom":return n?t?L1:_1:t?_1:L1;case"left":case"right":return t?tB:nB;default:return[]}}function sB(e,t,n,r){const s=ml(e);let a=rB(Us(e),n==="start",r);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(Zv)))),a}function _f(e){return e.replace(/left|right|bottom|top/g,t=>X7[t])}function oB(e){return{top:0,right:0,bottom:0,left:0,...e}}function HD(e){return typeof e!="number"?oB(e):{top:e,right:e,bottom:e,left:e}}function Lf(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function F1(e,t,n){let{reference:r,floating:s}=e;const a=ss(t),i=py(t),l=my(i),c=Us(t),u=a==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let h;switch(c){case"top":h={x:d,y:r.y-s.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-s.width,y:f};break;default:h={x:r.x,y:r.y}}switch(ml(t)){case"start":h[i]-=p*(n&&u?-1:1);break;case"end":h[i]+=p*(n&&u?-1:1);break}return h}const aB=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=F1(u,r,c),p=r,h={},g=0;for(let v=0;v<l.length;v++){const{name:b,fn:x}=l[v],{x:y,y:w,data:j,reset:N}=await x({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:h,rects:u,platform:i,elements:{reference:e,floating:t}});d=y??d,f=w??f,h={...h,[b]:{...h[b],...j}},N&&g<=50&&(g++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:d,y:f}=F1(u,p,c)),v=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:h}};async function Vc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=zs(t,e),g=HD(h),b=l[p?f==="floating"?"reference":"floating":f],x=Lf(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Lf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(x.top-N.top+g.top)/j.y,bottom:(N.bottom-x.bottom+g.bottom)/j.y,left:(x.left-N.left+g.left)/j.x,right:(N.right-x.right+g.right)/j.x}}const iB=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=zs(e,t)||{};if(u==null)return{};const f=HD(d),p={x:n,y:r},h=py(s),g=my(h),v=await i.getDimensions(u),b=h==="y",x=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",j=a.reference[g]+a.reference[h]-p[h]-a.floating[g],N=p[h]-a.reference[h],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let S=C?C[w]:0;(!S||!await(i.isElement==null?void 0:i.isElement(C)))&&(S=l.floating[w]||a.floating[g]);const P=j/2-N/2,R=S/2-v[g]/2-1,E=Bo(f[x],R),D=Bo(f[y],R),A=E,$=S-v[g]-D,I=S/2-v[g]/2+P,z=Qv(A,I,$),V=!c.arrow&&ml(s)!=null&&I!==z&&a.reference[g]/2-(I<A?E:D)-v[g]/2<0,k=V?I<A?I-A:I-$:0;return{[h]:p[h]+k,data:{[h]:z,centerOffset:I-z-k,...V&&{alignmentOffset:k}},reset:V}}}),lB=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...b}=zs(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const x=Us(s),y=ss(l),w=Us(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=p||(w||!v?[_f(l)]:eB(l)),C=g!=="none";!p&&C&&N.push(...sB(l,v,g,j));const S=[l,...N],P=await Vc(t,b),R=[];let E=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&R.push(P[x]),f){const I=Z7(s,i,j);R.push(P[I[0]],P[I[1]])}if(E=[...E,{placement:s,overflows:R}],!R.every(I=>I<=0)){var D,A;const I=(((D=a.flip)==null?void 0:D.index)||0)+1,z=S[I];if(z&&(!(f==="alignment"?y!==ss(z):!1)||E.every(T=>ss(T.placement)===y?T.overflows[0]>0:!0)))return{data:{index:I,overflows:E},reset:{placement:z}};let V=(A=E.filter(k=>k.overflows[0]<=0).sort((k,T)=>k.overflows[1]-T.overflows[1])[0])==null?void 0:A.placement;if(!V)switch(h){case"bestFit":{var $;const k=($=E.filter(T=>{if(C){const _=ss(T.placement);return _===y||_==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(_=>_>0).reduce((_,O)=>_+O,0)]).sort((T,_)=>T[1]-_[1])[0])==null?void 0:$[0];k&&(V=k);break}case"initialPlacement":V=l;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function B1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function V1(e){return K7.some(t=>e[t]>=0)}const cB=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=zs(e,t);switch(r){case"referenceHidden":{const a=await Vc(t,{...s,elementContext:"reference"}),i=B1(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:V1(i)}}}case"escaped":{const a=await Vc(t,{...s,altBoundary:!0}),i=B1(a,n.floating);return{data:{escapedOffsets:i,escaped:V1(i)}}}default:return{}}}}},GD=new Set(["left","top"]);async function uB(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=Us(n),l=ml(n),c=ss(n)==="y",u=GD.has(i)?-1:1,d=a&&c?-1:1,f=zs(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(h=l==="end"?g*-1:g),c?{x:h*d,y:p*u}:{x:p*u,y:h*d}}const dB=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await uB(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},fB=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x,y}=b;return{x,y}}},...c}=zs(e,t),u={x:n,y:r},d=await Vc(t,c),f=ss(Us(s)),p=fy(f);let h=u[p],g=u[f];if(a){const b=p==="y"?"top":"left",x=p==="y"?"bottom":"right",y=h+d[b],w=h-d[x];h=Qv(y,h,w)}if(i){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=g+d[b],w=g-d[x];g=Qv(y,g,w)}const v=l.fn({...t,[p]:h,[f]:g});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:a,[f]:i}}}}}},mB=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=zs(e,t),d={x:n,y:r},f=ss(s),p=fy(f);let h=d[p],g=d[f];const v=zs(l,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const w=p==="y"?"height":"width",j=a.reference[p]-a.floating[w]+b.mainAxis,N=a.reference[p]+a.reference[w]-b.mainAxis;h<j?h=j:h>N&&(h=N)}if(u){var x,y;const w=p==="y"?"width":"height",j=GD.has(Us(s)),N=a.reference[f]-a.floating[w]+(j&&((x=i.offset)==null?void 0:x[f])||0)+(j?0:b.crossAxis),C=a.reference[f]+a.reference[w]+(j?0:((y=i.offset)==null?void 0:y[f])||0)-(j?b.crossAxis:0);g<N?g=N:g>C&&(g=C)}return{[p]:h,[f]:g}}}},pB=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=zs(e,t),d=await Vc(t,u),f=Us(s),p=ml(s),h=ss(s)==="y",{width:g,height:v}=a.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=p===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,b=p==="end"?"top":"bottom");const y=v-d.top-d.bottom,w=g-d.left-d.right,j=Bo(v-d[b],y),N=Bo(g-d[x],w),C=!t.middlewareData.shift;let S=j,P=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=y),C&&!p){const E=Bn(d.left,0),D=Bn(d.right,0),A=Bn(d.top,0),$=Bn(d.bottom,0);h?P=g-2*(E!==0||D!==0?E+D:Bn(d.left,d.right)):S=v-2*(A!==0||$!==0?A+$:Bn(d.top,d.bottom))}await c({...t,availableWidth:P,availableHeight:S});const R=await i.getDimensions(l.floating);return g!==R.width||v!==R.height?{reset:{rects:!0}}:{}}}};function Bm(){return typeof window<"u"}function pl(e){return YD(e)?(e.nodeName||"").toLowerCase():"#document"}function Wn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gs(e){var t;return(t=(YD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function YD(e){return Bm()?e instanceof Node||e instanceof Wn(e).Node:!1}function Mr(e){return Bm()?e instanceof Element||e instanceof Wn(e).Element:!1}function ds(e){return Bm()?e instanceof HTMLElement||e instanceof Wn(e).HTMLElement:!1}function z1(e){return!Bm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Wn(e).ShadowRoot}const hB=new Set(["inline","contents"]);function Nu(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Ir(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!hB.has(s)}const gB=new Set(["table","td","th"]);function vB(e){return gB.has(pl(e))}const xB=[":popover-open",":modal"];function Vm(e){return xB.some(t=>{try{return e.matches(t)}catch{return!1}})}const yB=["transform","translate","scale","rotate","perspective"],bB=["transform","translate","scale","rotate","perspective","filter"],wB=["paint","layout","strict","content"];function hy(e){const t=gy(),n=Mr(e)?Ir(e):e;return yB.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||bB.some(r=>(n.willChange||"").includes(r))||wB.some(r=>(n.contain||"").includes(r))}function jB(e){let t=Vo(e);for(;ds(t)&&!Zi(t);){if(hy(t))return t;if(Vm(t))return null;t=Vo(t)}return null}function gy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const NB=new Set(["html","body","#document"]);function Zi(e){return NB.has(pl(e))}function Ir(e){return Wn(e).getComputedStyle(e)}function zm(e){return Mr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Vo(e){if(pl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||z1(e)&&e.host||gs(e);return z1(t)?t.host:t}function qD(e){const t=Vo(e);return Zi(t)?e.ownerDocument?e.ownerDocument.body:e.body:ds(t)&&Nu(t)?t:qD(t)}function zc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=qD(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),i=Wn(s);if(a){const l=ex(i);return t.concat(i,i.visualViewport||[],Nu(s)?s:[],l&&n?zc(l):[])}return t.concat(s,zc(s,[],n))}function ex(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function KD(e){const t=Ir(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=ds(e),a=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=$f(n)!==a||$f(r)!==i;return l&&(n=a,r=i),{width:n,height:r,$:l}}function vy(e){return Mr(e)?e:e.contextElement}function Oi(e){const t=vy(e);if(!ds(t))return ls(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=KD(t);let i=(a?$f(n.width):n.width)/r,l=(a?$f(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const CB=ls(0);function XD(e){const t=Wn(e);return!gy()||!t.visualViewport?CB:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function SB(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Wn(e)?!1:t}function Aa(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=vy(e);let i=ls(1);t&&(r?Mr(r)&&(i=Oi(r)):i=Oi(e));const l=SB(a,n,r)?XD(a):ls(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(a){const p=Wn(a),h=r&&Mr(r)?Wn(r):r;let g=p,v=ex(g);for(;v&&r&&h!==g;){const b=Oi(v),x=v.getBoundingClientRect(),y=Ir(v),w=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*b.x,j=x.top+(v.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=w,u+=j,g=Wn(v),v=ex(g)}}return Lf({width:d,height:f,x:c,y:u})}function Um(e,t){const n=zm(e).scrollLeft;return t?t.left+n:Aa(gs(e)).left+n}function JD(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Um(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function PB(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",i=gs(r),l=t?Vm(t.floating):!1;if(r===i||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=ls(1);const d=ls(0),f=ds(r);if((f||!f&&!a)&&((pl(r)!=="body"||Nu(i))&&(c=zm(r)),ds(r))){const h=Aa(r);u=Oi(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}const p=i&&!f&&!a?JD(i,c):ls(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function EB(e){return Array.from(e.getClientRects())}function DB(e){const t=gs(e),n=zm(e),r=e.ownerDocument.body,s=Bn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Bn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Um(e);const l=-n.scrollTop;return Ir(r).direction==="rtl"&&(i+=Bn(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:l}}const U1=25;function TB(e,t){const n=Wn(e),r=gs(e),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const d=gy();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Um(r);if(u<=0){const d=r.ownerDocument,f=d.body,p=getComputedStyle(f),h=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,g=Math.abs(r.clientWidth-f.clientWidth-h);g<=U1&&(a-=g)}else u<=U1&&(a+=u);return{width:a,height:i,x:l,y:c}}const AB=new Set(["absolute","fixed"]);function kB(e,t){const n=Aa(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=ds(e)?Oi(e):ls(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:i,height:l,x:c,y:u}}function W1(e,t,n){let r;if(t==="viewport")r=TB(e,n);else if(t==="document")r=DB(gs(e));else if(Mr(t))r=kB(t,n);else{const s=XD(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Lf(r)}function QD(e,t){const n=Vo(e);return n===t||!Mr(n)||Zi(n)?!1:Ir(n).position==="fixed"||QD(n,t)}function RB(e,t){const n=t.get(e);if(n)return n;let r=zc(e,[],!1).filter(l=>Mr(l)&&pl(l)!=="body"),s=null;const a=Ir(e).position==="fixed";let i=a?Vo(e):e;for(;Mr(i)&&!Zi(i);){const l=Ir(i),c=hy(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&AB.has(s.position)||Nu(i)&&!c&&QD(e,i))?r=r.filter(d=>d!==i):s=l,i=Vo(i)}return t.set(e,r),r}function MB(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Vm(t)?[]:RB(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const f=W1(t,d,s);return u.top=Bn(f.top,u.top),u.right=Bo(f.right,u.right),u.bottom=Bo(f.bottom,u.bottom),u.left=Bn(f.left,u.left),u},W1(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function IB(e){const{width:t,height:n}=KD(e);return{width:t,height:n}}function OB(e,t,n){const r=ds(t),s=gs(t),a=n==="fixed",i=Aa(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=ls(0);function u(){c.x=Um(s)}if(r||!r&&!a)if((pl(t)!=="body"||Nu(s))&&(l=zm(t)),r){const h=Aa(t,!0,a,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&u();a&&!r&&s&&u();const d=s&&!r&&!a?JD(s,l):ls(0),f=i.left+l.scrollLeft-c.x-d.x,p=i.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:i.width,height:i.height}}function Wh(e){return Ir(e).position==="static"}function H1(e,t){if(!ds(e)||Ir(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return gs(e)===n&&(n=n.ownerDocument.body),n}function ZD(e,t){const n=Wn(e);if(Vm(e))return n;if(!ds(e)){let s=Vo(e);for(;s&&!Zi(s);){if(Mr(s)&&!Wh(s))return s;s=Vo(s)}return n}let r=H1(e,t);for(;r&&vB(r)&&Wh(r);)r=H1(r,t);return r&&Zi(r)&&Wh(r)&&!hy(r)?n:r||jB(e)||n}const $B=async function(e){const t=this.getOffsetParent||ZD,n=this.getDimensions,r=await n(e.floating);return{reference:OB(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _B(e){return Ir(e).direction==="rtl"}const LB={convertOffsetParentRelativeRectToViewportRelativeRect:PB,getDocumentElement:gs,getClippingRect:MB,getOffsetParent:ZD,getElementRects:$B,getClientRects:EB,getDimensions:IB,getScale:Oi,isElement:Mr,isRTL:_B};function eT(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function FB(e,t){let n=null,r;const s=gs(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:p,height:h}=u;if(l||t(),!p||!h)return;const g=dd(f),v=dd(s.clientWidth-(d+p)),b=dd(s.clientHeight-(f+h)),x=dd(d),w={rootMargin:-g+"px "+-v+"px "+-b+"px "+-x+"px",threshold:Bn(0,Bo(1,c))||1};let j=!0;function N(C){const S=C[0].intersectionRatio;if(S!==c){if(!j)return i();S?i(!1,S):r=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!eT(u,e.getBoundingClientRect())&&i(),j=!1}try{n=new IntersectionObserver(N,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,w)}n.observe(e)}return i(!0),a}function tT(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=vy(e),d=s||a?[...u?zc(u):[],...zc(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),a&&x.addEventListener("resize",n)});const f=u&&l?FB(u,n):null;let p=-1,h=null;i&&(h=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!c&&h.observe(u),h.observe(t));let g,v=c?Aa(e):null;c&&b();function b(){const x=Aa(e);v&&!eT(v,x)&&n(),v=x,g=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(y=>{s&&y.removeEventListener("scroll",n),a&&y.removeEventListener("resize",n)}),f==null||f(),(x=h)==null||x.disconnect(),h=null,c&&cancelAnimationFrame(g)}}const BB=dB,VB=fB,zB=lB,UB=pB,WB=cB,G1=iB,HB=mB,GB=(e,t,n)=>{const r=new Map,s={platform:LB,...n},a={...s.platform,_c:r};return aB(e,t,{...s,platform:a})};var YB=typeof document<"u",qB=function(){},zd=YB?m.useLayoutEffect:qB;function Ff(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ff(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!Ff(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function nT(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Y1(e,t){const n=nT(e);return Math.round(t*n)/n}function Hh(e){const t=m.useRef(e);return zd(()=>{t.current=e}),t}function rT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=m.useState(r);Ff(p,r)||h(r);const[g,v]=m.useState(null),[b,x]=m.useState(null),y=m.useCallback(T=>{T!==C.current&&(C.current=T,v(T))},[]),w=m.useCallback(T=>{T!==S.current&&(S.current=T,x(T))},[]),j=a||g,N=i||b,C=m.useRef(null),S=m.useRef(null),P=m.useRef(d),R=c!=null,E=Hh(c),D=Hh(s),A=Hh(u),$=m.useCallback(()=>{if(!C.current||!S.current)return;const T={placement:t,strategy:n,middleware:p};D.current&&(T.platform=D.current),GB(C.current,S.current,T).then(_=>{const O={..._,isPositioned:A.current!==!1};I.current&&!Ff(P.current,O)&&(P.current=O,$t.flushSync(()=>{f(O)}))})},[p,t,n,D,A]);zd(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const I=m.useRef(!1);zd(()=>(I.current=!0,()=>{I.current=!1}),[]),zd(()=>{if(j&&(C.current=j),N&&(S.current=N),j&&N){if(E.current)return E.current(j,N,$);$()}},[j,N,$,E,R]);const z=m.useMemo(()=>({reference:C,floating:S,setReference:y,setFloating:w}),[y,w]),V=m.useMemo(()=>({reference:j,floating:N}),[j,N]),k=m.useMemo(()=>{const T={position:n,left:0,top:0};if(!V.floating)return T;const _=Y1(V.floating,d.x),O=Y1(V.floating,d.y);return l?{...T,transform:"translate("+_+"px, "+O+"px)",...nT(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:_,top:O}},[n,l,V.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:$,refs:z,elements:V,floatingStyles:k}),[d,$,z,V,k])}const KB=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?G1({element:r.current,padding:s}).fn(n):{}:r?G1({element:r,padding:s}).fn(n):{}}}},sT=(e,t)=>({...BB(e),options:[e,t]}),oT=(e,t)=>({...VB(e),options:[e,t]}),aT=(e,t)=>({...HB(e),options:[e,t]}),iT=(e,t)=>({...zB(e),options:[e,t]}),lT=(e,t)=>({...UB(e),options:[e,t]}),cT=(e,t)=>({...WB(e),options:[e,t]}),uT=(e,t)=>({...KB(e),options:[e,t]});var XB="Arrow",dT=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return o.jsx(Me.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});dT.displayName=XB;var JB=dT;function xy(e){const[t,n]=m.useState(void 0);return Bs(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var yy="Popper",[fT,Wm]=Fr(yy),[QB,mT]=fT(yy),pT=e=>{const{__scopePopper:t,children:n}=e,[r,s]=m.useState(null);return o.jsx(QB,{scope:t,anchor:r,onAnchorChange:s,children:n})};pT.displayName=yy;var hT="PopperAnchor",gT=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=mT(hT,n),i=m.useRef(null),l=Qe(t,i),c=m.useRef(null);return m.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||i.current,u!==c.current&&a.onAnchorChange(c.current)}),r?null:o.jsx(Me.div,{...s,ref:l})});gT.displayName=hT;var by="PopperContent",[ZB,eV]=fT(by),vT=m.forwardRef((e,t)=>{var U,oe,ae,q,de,ce;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:g,...v}=e,b=mT(by,n),[x,y]=m.useState(null),w=Qe(t,Pe=>y(Pe)),[j,N]=m.useState(null),C=xy(j),S=(C==null?void 0:C.width)??0,P=(C==null?void 0:C.height)??0,R=r+(a!=="center"?"-"+a:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],A=D.length>0,$={padding:E,boundary:D.filter(nV),altBoundary:A},{refs:I,floatingStyles:z,placement:V,isPositioned:k,middlewareData:T}=rT({strategy:"fixed",placement:R,whileElementsMounted:(...Pe)=>tT(...Pe,{animationFrame:h==="always"}),elements:{reference:b.anchor},middleware:[sT({mainAxis:s+P,alignmentAxis:i}),c&&oT({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?aT():void 0,...$}),c&&iT({...$}),lT({...$,apply:({elements:Pe,rects:ke,availableWidth:Xe,availableHeight:Y})=>{const{width:re,height:Oe}=ke.reference,Ke=Pe.floating.style;Ke.setProperty("--radix-popper-available-width",`${Xe}px`),Ke.setProperty("--radix-popper-available-height",`${Y}px`),Ke.setProperty("--radix-popper-anchor-width",`${re}px`),Ke.setProperty("--radix-popper-anchor-height",`${Oe}px`)}}),j&&uT({element:j,padding:l}),rV({arrowWidth:S,arrowHeight:P}),p&&cT({strategy:"referenceHidden",...$})]}),[_,O]=bT(V),M=Kn(g);Bs(()=>{k&&(M==null||M())},[k,M]);const F=(U=T.arrow)==null?void 0:U.x,W=(oe=T.arrow)==null?void 0:oe.y,J=((ae=T.arrow)==null?void 0:ae.centerOffset)!==0,[ie,H]=m.useState();return Bs(()=>{x&&H(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:k?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(q=T.transformOrigin)==null?void 0:q.x,(de=T.transformOrigin)==null?void 0:de.y].join(" "),...((ce=T.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(ZB,{scope:n,placedSide:_,onArrowChange:N,arrowX:F,arrowY:W,shouldHideArrow:J,children:o.jsx(Me.div,{"data-side":_,"data-align":O,...v,ref:w,style:{...v.style,animation:k?void 0:"none"}})})})});vT.displayName=by;var xT="PopperArrow",tV={top:"bottom",right:"left",bottom:"top",left:"right"},yT=m.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=eV(xT,r),i=tV[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(JB,{...s,ref:n,style:{...s.style,display:"block"}})})});yT.displayName=xT;function nV(e){return e!==null}var rV=e=>({name:"transformOrigin",options:e,fn(t){var b,x,y;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=bT(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,h=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let g="",v="";return u==="bottom"?(g=i?f:`${p}px`,v=`${-c}px`):u==="top"?(g=i?f:`${p}px`,v=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,v=i?f:`${h}px`):u==="left"&&(g=`${r.floating.width+c}px`,v=i?f:`${h}px`),{data:{x:g,y:v}}}});function bT(e){const[t,n="center"]=e.split("-");return[t,n]}var wT=pT,wy=gT,jT=vT,NT=yT,Gh="rovingFocusGroup.onEntryFocus",sV={bubbles:!1,cancelable:!0},Cu="RovingFocusGroup",[tx,CT,oV]=M0(Cu),[aV,ST]=Fr(Cu,[oV]),[iV,lV]=aV(Cu),PT=m.forwardRef((e,t)=>o.jsx(tx.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(tx.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(cV,{...e,ref:t})})}));PT.displayName=Cu;var cV=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,p=m.useRef(null),h=Qe(t,p),g=UD(a),[v,b]=Ua({prop:i,defaultProp:l??null,onChange:c,caller:Cu}),[x,y]=m.useState(!1),w=Kn(u),j=CT(n),N=m.useRef(!1),[C,S]=m.useState(0);return m.useEffect(()=>{const P=p.current;if(P)return P.addEventListener(Gh,w),()=>P.removeEventListener(Gh,w)},[w]),o.jsx(iV,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(P=>b(P),[b]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>S(P=>P+1),[]),onFocusableItemRemove:m.useCallback(()=>S(P=>P-1),[]),children:o.jsx(Me.div,{tabIndex:x||C===0?-1:0,"data-orientation":r,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:ge(e.onMouseDown,()=>{N.current=!0}),onFocus:ge(e.onFocus,P=>{const R=!N.current;if(P.target===P.currentTarget&&R&&!x){const E=new CustomEvent(Gh,sV);if(P.currentTarget.dispatchEvent(E),!E.defaultPrevented){const D=j().filter(V=>V.focusable),A=D.find(V=>V.active),$=D.find(V=>V.id===v),z=[A,$,...D].filter(Boolean).map(V=>V.ref.current);TT(z,d)}}N.current=!1}),onBlur:ge(e.onBlur,()=>y(!1))})})}),ET="RovingFocusGroupItem",DT=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:i,...l}=e,c=ja(),u=a||c,d=lV(ET,n),f=d.currentTabStopId===u,p=CT(n),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:v}=d;return m.useEffect(()=>{if(r)return h(),()=>g()},[r,h,g]),o.jsx(tx.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(Me.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ge(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:ge(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ge(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=fV(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=p().filter(j=>j.focusable).map(j=>j.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const j=w.indexOf(b.currentTarget);w=d.loop?mV(w,j+1):w.slice(j+1)}setTimeout(()=>TT(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:v!=null}):i})})});DT.displayName=ET;var uV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dV(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function fV(e,t,n){const r=dV(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return uV[r]}function TT(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function mV(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var pV=PT,hV=DT,gV=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ni=new WeakMap,fd=new WeakMap,md={},Yh=0,AT=function(e){return e&&(e.host||AT(e.parentNode))},vV=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=AT(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},xV=function(e,t,n,r){var s=vV(t,Array.isArray(e)?e:[e]);md[n]||(md[n]=new WeakMap);var a=md[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))d(p);else try{var h=p.getAttribute(r),g=h!==null&&h!=="false",v=(ni.get(p)||0)+1,b=(a.get(p)||0)+1;ni.set(p,v),a.set(p,b),i.push(p),v===1&&g&&fd.set(p,!0),b===1&&p.setAttribute(n,"true"),g||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(t),l.clear(),Yh++,function(){i.forEach(function(f){var p=ni.get(f)-1,h=a.get(f)-1;ni.set(f,p),a.set(f,h),p||(fd.has(f)||f.removeAttribute(r),fd.delete(f)),h||f.removeAttribute(n)}),Yh--,Yh||(ni=new WeakMap,ni=new WeakMap,fd=new WeakMap,md={})}},Su=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=t||gV(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),xV(r,s,n,"aria-hidden")):function(){return null}},ht=function(){return ht=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ht.apply(this,arguments)};function Hm(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function jy(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var $i="right-scroll-bar-position",_i="width-before-scroll-bar",yV="with-scroll-bars-hidden",bV="--removed-body-scroll-bar-size";function qh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function wV(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var jV=typeof window<"u"?m.useLayoutEffect:m.useEffect,q1=new WeakMap;function Ny(e,t){var n=wV(t||null,function(r){return e.forEach(function(s){return qh(s,r)})});return jV(function(){var r=q1.get(n);if(r){var s=new Set(r),a=new Set(e),i=n.current;s.forEach(function(l){a.has(l)||qh(l,null)}),a.forEach(function(l){s.has(l)||qh(l,i)})}q1.set(n,e)},[e]),n}function NV(e){return e}function CV(e,t){t===void 0&&(t=NV);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(a),i=n}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function Cy(e){e===void 0&&(e={});var t=CV(null);return t.options=ht({async:!0,ssr:!1},e),t}var kT=function(e){var t=e.sideCar,n=Hm(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,ht({},n))};kT.isSideCarExport=!0;function Sy(e,t){return e.useMedium(t),kT}var RT=Cy(),Kh=function(){},Gm=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:Kh,onWheelCapture:Kh,onTouchMoveCapture:Kh}),s=r[0],a=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,h=e.noRelative,g=e.noIsolation,v=e.inert,b=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,w=e.gapMode,j=Hm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,C=Ny([n,t]),S=ht(ht({},j),s);return m.createElement(m.Fragment,null,d&&m.createElement(N,{sideCar:RT,removeScrollBar:u,shards:f,noRelative:h,noIsolation:g,inert:v,setCallbacks:a,allowPinchZoom:!!b,lockRef:n,gapMode:w}),i?m.cloneElement(m.Children.only(l),ht(ht({},S),{ref:C})):m.createElement(y,ht({},S,{className:c,ref:C}),l))});Gm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gm.classNames={fullWidth:_i,zeroRight:$i};var K1,SV=function(){if(K1)return K1;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function PV(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=SV();return t&&e.setAttribute("nonce",t),e}function EV(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function DV(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var TV=function(){var e=0,t=null;return{add:function(n){e==0&&(t=PV())&&(EV(t,n),DV(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},AV=function(){var e=TV();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Ym=function(){var e=AV(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},kV={left:0,top:0,right:0,gap:0},Xh=function(e){return parseInt(e||"",10)||0},RV=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Xh(n),Xh(r),Xh(s)]},MV=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return kV;var t=RV(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},IV=Ym(),Li="data-scroll-locked",OV=function(e,t,n,r){var s=e.left,a=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(yV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Li,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($i,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(_i,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat($i," .").concat($i,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(_i," .").concat(_i,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Li,`] {
    `).concat(bV,": ").concat(l,`px;
  }
`)},X1=function(){var e=parseInt(document.body.getAttribute(Li)||"0",10);return isFinite(e)?e:0},$V=function(){m.useEffect(function(){return document.body.setAttribute(Li,(X1()+1).toString()),function(){var e=X1()-1;e<=0?document.body.removeAttribute(Li):document.body.setAttribute(Li,e.toString())}},[])},Py=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;$V();var a=m.useMemo(function(){return MV(s)},[s]);return m.createElement(IV,{styles:OV(a,!t,s,n?"":"!important")})},nx=!1;if(typeof window<"u")try{var pd=Object.defineProperty({},"passive",{get:function(){return nx=!0,!0}});window.addEventListener("test",pd,pd),window.removeEventListener("test",pd,pd)}catch{nx=!1}var ri=nx?{passive:!1}:!1,_V=function(e){return e.tagName==="TEXTAREA"},MT=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!_V(e)&&n[t]==="visible")},LV=function(e){return MT(e,"overflowY")},FV=function(e){return MT(e,"overflowX")},J1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=IT(e,r);if(s){var a=OT(e,r),i=a[1],l=a[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},BV=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},VV=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},IT=function(e,t){return e==="v"?LV(t):FV(t)},OT=function(e,t){return e==="v"?BV(t):VV(t)},zV=function(e,t){return e==="h"&&t==="rtl"?-1:1},UV=function(e,t,n,r,s){var a=zV(e,window.getComputedStyle(t).direction),i=a*r,l=n.target,c=t.contains(l),u=!1,d=i>0,f=0,p=0;do{if(!l)break;var h=OT(e,l),g=h[0],v=h[1],b=h[2],x=v-b-a*g;(g||x)&&IT(e,l)&&(f+=x,p+=g);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(s&&Math.abs(f)<1||!s&&i>f)||!d&&(s&&Math.abs(p)<1||!s&&-i>p))&&(u=!0),u},hd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Q1=function(e){return[e.deltaX,e.deltaY]},Z1=function(e){return e&&"current"in e?e.current:e},WV=function(e,t){return e[0]===t[0]&&e[1]===t[1]},HV=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},GV=0,si=[];function YV(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(GV++)[0],a=m.useState(Ym)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=jy([e.lockRef.current],(e.shards||[]).map(Z1),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var x=hd(v),y=n.current,w="deltaX"in v?v.deltaX:y[0]-x[0],j="deltaY"in v?v.deltaY:y[1]-x[1],N,C=v.target,S=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in v&&S==="h"&&C.type==="range")return!1;var P=J1(S,C);if(!P)return!0;if(P?N=S:(N=S==="v"?"h":"v",P=J1(S,C)),!P)return!1;if(!r.current&&"changedTouches"in v&&(w||j)&&(r.current=N),!N)return!0;var R=r.current||N;return UV(R,b,v,R==="h"?w:j,!0)},[]),c=m.useCallback(function(v){var b=v;if(!(!si.length||si[si.length-1]!==a)){var x="deltaY"in b?Q1(b):hd(b),y=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&WV(N.delta,x)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var w=(i.current.shards||[]).map(Z1).filter(Boolean).filter(function(N){return N.contains(b.target)}),j=w.length>0?l(b,w[0]):!i.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=m.useCallback(function(v,b,x,y){var w={name:v,delta:b,target:x,should:y,shadowParent:qV(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=m.useCallback(function(v){n.current=hd(v),r.current=void 0},[]),f=m.useCallback(function(v){u(v.type,Q1(v),v.target,l(v,e.lockRef.current))},[]),p=m.useCallback(function(v){u(v.type,hd(v),v.target,l(v,e.lockRef.current))},[]);m.useEffect(function(){return si.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,ri),document.addEventListener("touchmove",c,ri),document.addEventListener("touchstart",d,ri),function(){si=si.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,ri),document.removeEventListener("touchmove",c,ri),document.removeEventListener("touchstart",d,ri)}},[]);var h=e.removeScrollBar,g=e.inert;return m.createElement(m.Fragment,null,g?m.createElement(a,{styles:HV(s)}):null,h?m.createElement(Py,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function qV(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const KV=Sy(RT,YV);var $T=m.forwardRef(function(e,t){return m.createElement(Gm,ht({},e,{ref:t,sideCar:KV}))});$T.classNames=Gm.classNames;const Ey=$T;var rx=["Enter"," "],XV=["ArrowDown","PageUp","Home"],_T=["ArrowUp","PageDown","End"],JV=[...XV,..._T],QV={ltr:[...rx,"ArrowRight"],rtl:[...rx,"ArrowLeft"]},ZV={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pu="Menu",[Uc,e9,t9]=M0(Pu),[Ga,LT]=Fr(Pu,[t9,Wm,ST]),qm=Wm(),FT=ST(),[n9,Ya]=Ga(Pu),[r9,Eu]=Ga(Pu),BT=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:i=!0}=e,l=qm(t),[c,u]=m.useState(null),d=m.useRef(!1),f=Kn(a),p=UD(s);return m.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(wT,{...l,children:o.jsx(n9,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(r9,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:i,children:r})})})};BT.displayName=Pu;var s9="MenuAnchor",Dy=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=qm(n);return o.jsx(wy,{...s,...r,ref:t})});Dy.displayName=s9;var Ty="MenuPortal",[o9,VT]=Ga(Ty,{forceMount:void 0}),zT=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=Ya(Ty,t);return o.jsx(o9,{scope:t,forceMount:n,children:o.jsx(xr,{present:n||a.open,children:o.jsx(pu,{asChild:!0,container:s,children:r})})})};zT.displayName=Ty;var fr="MenuContent",[a9,Ay]=Ga(fr),UT=m.forwardRef((e,t)=>{const n=VT(fr,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=Ya(fr,e.__scopeMenu),i=Eu(fr,e.__scopeMenu);return o.jsx(Uc.Provider,{scope:e.__scopeMenu,children:o.jsx(xr,{present:r||a.open,children:o.jsx(Uc.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(i9,{...s,ref:t}):o.jsx(l9,{...s,ref:t})})})})}),i9=m.forwardRef((e,t)=>{const n=Ya(fr,e.__scopeMenu),r=m.useRef(null),s=Qe(t,r);return m.useEffect(()=>{const a=r.current;if(a)return Su(a)},[]),o.jsx(ky,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ge(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),l9=m.forwardRef((e,t)=>{const n=Ya(fr,e.__scopeMenu);return o.jsx(ky,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),c9=Da("MenuContent.ScrollLock"),ky=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:h,disableOutsideScroll:g,...v}=e,b=Ya(fr,n),x=Eu(fr,n),y=qm(n),w=FT(n),j=e9(n),[N,C]=m.useState(null),S=m.useRef(null),P=Qe(t,S,b.onContentChange),R=m.useRef(0),E=m.useRef(""),D=m.useRef(0),A=m.useRef(null),$=m.useRef("right"),I=m.useRef(0),z=g?Ey:m.Fragment,V=g?{as:c9,allowPinchZoom:!0}:void 0,k=_=>{var U,oe;const O=E.current+_,M=j().filter(ae=>!ae.disabled),F=document.activeElement,W=(U=M.find(ae=>ae.ref.current===F))==null?void 0:U.textValue,J=M.map(ae=>ae.textValue),ie=w9(J,O,W),H=(oe=M.find(ae=>ae.textValue===ie))==null?void 0:oe.ref.current;(function ae(q){E.current=q,window.clearTimeout(R.current),q!==""&&(R.current=window.setTimeout(()=>ae(""),1e3))})(O),H&&setTimeout(()=>H.focus())};m.useEffect(()=>()=>window.clearTimeout(R.current),[]),dy();const T=m.useCallback(_=>{var M,F;return $.current===((M=A.current)==null?void 0:M.side)&&N9(_,(F=A.current)==null?void 0:F.area)},[]);return o.jsx(a9,{scope:n,searchRef:E,onItemEnter:m.useCallback(_=>{T(_)&&_.preventDefault()},[T]),onItemLeave:m.useCallback(_=>{var O;T(_)||((O=S.current)==null||O.focus(),C(null))},[T]),onTriggerLeave:m.useCallback(_=>{T(_)&&_.preventDefault()},[T]),pointerGraceTimerRef:D,onPointerGraceIntentChange:m.useCallback(_=>{A.current=_},[]),children:o.jsx(z,{...V,children:o.jsx(Fm,{asChild:!0,trapped:s,onMountAutoFocus:ge(a,_=>{var O;_.preventDefault(),(O=S.current)==null||O.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(mu,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:h,children:o.jsx(pV,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:C,onEntryFocus:ge(c,_=>{x.isUsingKeyboardRef.current||_.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(jT,{role:"menu","aria-orientation":"vertical","data-state":oA(b.open),"data-radix-menu-content":"",dir:x.dir,...y,...v,ref:P,style:{outline:"none",...v.style},onKeyDown:ge(v.onKeyDown,_=>{const M=_.target.closest("[data-radix-menu-content]")===_.currentTarget,F=_.ctrlKey||_.altKey||_.metaKey,W=_.key.length===1;M&&(_.key==="Tab"&&_.preventDefault(),!F&&W&&k(_.key));const J=S.current;if(_.target!==J||!JV.includes(_.key))return;_.preventDefault();const H=j().filter(U=>!U.disabled).map(U=>U.ref.current);_T.includes(_.key)&&H.reverse(),y9(H)}),onBlur:ge(e.onBlur,_=>{_.currentTarget.contains(_.target)||(window.clearTimeout(R.current),E.current="")}),onPointerMove:ge(e.onPointerMove,Wc(_=>{const O=_.target,M=I.current!==_.clientX;if(_.currentTarget.contains(O)&&M){const F=_.clientX>I.current?"right":"left";$.current=F,I.current=_.clientX}}))})})})})})})});UT.displayName=fr;var u9="MenuGroup",Ry=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(Me.div,{role:"group",...r,ref:t})});Ry.displayName=u9;var d9="MenuLabel",WT=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(Me.div,{...r,ref:t})});WT.displayName=d9;var Bf="MenuItem",eN="menu.itemSelect",Km=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,a=m.useRef(null),i=Eu(Bf,e.__scopeMenu),l=Ay(Bf,e.__scopeMenu),c=Qe(t,a),u=m.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const p=new CustomEvent(eN,{bubbles:!0,cancelable:!0});f.addEventListener(eN,h=>r==null?void 0:r(h),{once:!0}),I0(f,p),p.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(HT,{...s,ref:c,disabled:n,onClick:ge(e.onClick,d),onPointerDown:f=>{var p;(p=e.onPointerDown)==null||p.call(e,f),u.current=!0},onPointerUp:ge(e.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:ge(e.onKeyDown,f=>{const p=l.searchRef.current!=="";n||p&&f.key===" "||rx.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Km.displayName=Bf;var HT=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,i=Ay(Bf,n),l=FT(n),c=m.useRef(null),u=Qe(t,c),[d,f]=m.useState(!1),[p,h]=m.useState("");return m.useEffect(()=>{const g=c.current;g&&h((g.textContent??"").trim())},[a.children]),o.jsx(Uc.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:o.jsx(hV,{asChild:!0,...l,focusable:!r,children:o.jsx(Me.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:ge(e.onPointerMove,Wc(g=>{r?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ge(e.onPointerLeave,Wc(g=>i.onItemLeave(g))),onFocus:ge(e.onFocus,()=>f(!0)),onBlur:ge(e.onBlur,()=>f(!1))})})})}),f9="MenuCheckboxItem",GT=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return o.jsx(JT,{scope:e.__scopeMenu,checked:n,children:o.jsx(Km,{role:"menuitemcheckbox","aria-checked":Vf(n)?"mixed":n,...s,ref:t,"data-state":Iy(n),onSelect:ge(s.onSelect,()=>r==null?void 0:r(Vf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});GT.displayName=f9;var YT="MenuRadioGroup",[m9,p9]=Ga(YT,{value:void 0,onValueChange:()=>{}}),qT=m.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,a=Kn(r);return o.jsx(m9,{scope:e.__scopeMenu,value:n,onValueChange:a,children:o.jsx(Ry,{...s,ref:t})})});qT.displayName=YT;var KT="MenuRadioItem",XT=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=p9(KT,e.__scopeMenu),a=n===s.value;return o.jsx(JT,{scope:e.__scopeMenu,checked:a,children:o.jsx(Km,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":Iy(a),onSelect:ge(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});XT.displayName=KT;var My="MenuItemIndicator",[JT,h9]=Ga(My,{checked:!1}),QT=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,a=h9(My,n);return o.jsx(xr,{present:r||Vf(a.checked)||a.checked===!0,children:o.jsx(Me.span,{...s,ref:t,"data-state":Iy(a.checked)})})});QT.displayName=My;var g9="MenuSeparator",ZT=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});ZT.displayName=g9;var v9="MenuArrow",eA=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=qm(n);return o.jsx(NT,{...s,...r,ref:t})});eA.displayName=v9;var x9="MenuSub",[Ioe,tA]=Ga(x9),Kl="MenuSubTrigger",nA=m.forwardRef((e,t)=>{const n=Ya(Kl,e.__scopeMenu),r=Eu(Kl,e.__scopeMenu),s=tA(Kl,e.__scopeMenu),a=Ay(Kl,e.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(Dy,{asChild:!0,...u,children:o.jsx(HT,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":oA(n.open),...e,ref:Pm(t,s.onTriggerChange),onClick:f=>{var p;(p=e.onClick)==null||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ge(e.onPointerMove,Wc(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ge(e.onPointerLeave,Wc(f=>{var h,g;d();const p=(h=n.content)==null?void 0:h.getBoundingClientRect();if(p){const v=(g=n.content)==null?void 0:g.dataset.side,b=v==="right",x=b?-5:5,y=p[b?"left":"right"],w=p[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:y,y:p.top},{x:w,y:p.top},{x:w,y:p.bottom},{x:y,y:p.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ge(e.onKeyDown,f=>{var h;const p=a.searchRef.current!=="";e.disabled||p&&f.key===" "||QV[r.dir].includes(f.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),f.preventDefault())})})})});nA.displayName=Kl;var rA="MenuSubContent",sA=m.forwardRef((e,t)=>{const n=VT(fr,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=Ya(fr,e.__scopeMenu),i=Eu(fr,e.__scopeMenu),l=tA(rA,e.__scopeMenu),c=m.useRef(null),u=Qe(t,c);return o.jsx(Uc.Provider,{scope:e.__scopeMenu,children:o.jsx(xr,{present:r||a.open,children:o.jsx(Uc.Slot,{scope:e.__scopeMenu,children:o.jsx(ky,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ge(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ge(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:ge(e.onKeyDown,d=>{var h;const f=d.currentTarget.contains(d.target),p=ZV[i.dir].includes(d.key);f&&p&&(a.onOpenChange(!1),(h=l.trigger)==null||h.focus(),d.preventDefault())})})})})})});sA.displayName=rA;function oA(e){return e?"open":"closed"}function Vf(e){return e==="indeterminate"}function Iy(e){return Vf(e)?"indeterminate":e?"checked":"unchecked"}function y9(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function b9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function w9(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=b9(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function j9(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,d=l.y,f=c.x,p=c.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function N9(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return j9(n,t)}function Wc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var C9=BT,S9=Dy,P9=zT,E9=UT,D9=Ry,T9=WT,A9=Km,k9=GT,R9=qT,M9=XT,I9=QT,O9=ZT,$9=eA,_9=nA,L9=sA,Xm="DropdownMenu",[F9,Ooe]=Fr(Xm,[LT]),xn=LT(),[B9,aA]=F9(Xm),iA=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=xn(t),u=m.useRef(null),[d,f]=Ua({prop:s,defaultProp:a??!1,onChange:i,caller:Xm});return o.jsx(B9,{scope:t,triggerId:ja(),triggerRef:u,contentId:ja(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),modal:l,children:o.jsx(C9,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};iA.displayName=Xm;var lA="DropdownMenuTrigger",cA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=aA(lA,n),i=xn(n);return o.jsx(S9,{asChild:!0,...i,children:o.jsx(Me.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Pm(t,a.triggerRef),onPointerDown:ge(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:ge(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});cA.displayName=lA;var V9="DropdownMenuPortal",uA=e=>{const{__scopeDropdownMenu:t,...n}=e,r=xn(t);return o.jsx(P9,{...r,...n})};uA.displayName=V9;var dA="DropdownMenuContent",fA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=aA(dA,n),a=xn(n),i=m.useRef(!1);return o.jsx(E9,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:ge(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:ge(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fA.displayName=dA;var z9="DropdownMenuGroup",U9=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return o.jsx(D9,{...s,...r,ref:t})});U9.displayName=z9;var W9="DropdownMenuLabel",mA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return o.jsx(T9,{...s,...r,ref:t})});mA.displayName=W9;var H9="DropdownMenuItem",pA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return o.jsx(A9,{...s,...r,ref:t})});pA.displayName=H9;var G9="DropdownMenuCheckboxItem",hA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return o.jsx(k9,{...s,...r,ref:t})});hA.displayName=G9;var Y9="DropdownMenuRadioGroup",gA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return o.jsx(R9,{...s,...r,ref:t})});gA.displayName=Y9;var q9="DropdownMenuRadioItem",vA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return o.jsx(M9,{...s,...r,ref:t})});vA.displayName=q9;var K9="DropdownMenuItemIndicator",xA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return o.jsx(I9,{...s,...r,ref:t})});xA.displayName=K9;var X9="DropdownMenuSeparator",yA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return o.jsx(O9,{...s,...r,ref:t})});yA.displayName=X9;var J9="DropdownMenuArrow",Q9=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return o.jsx($9,{...s,...r,ref:t})});Q9.displayName=J9;var Z9="DropdownMenuSubTrigger",bA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return o.jsx(_9,{...s,...r,ref:t})});bA.displayName=Z9;var ez="DropdownMenuSubContent",wA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return o.jsx(L9,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wA.displayName=ez;var tz=iA,nz=cA,rz=uA,jA=fA,NA=mA,CA=pA,SA=hA,sz=gA,PA=vA,EA=xA,DA=yA,TA=bA,AA=wA;const Hc=tz,Gc=nz,oz=sz,az=G.forwardRef(({className:e,inset:t,children:n,...r},s)=>o.jsxs(TA,{ref:s,className:le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,o.jsx(gu,{className:"ml-auto h-4 w-4"})]}));az.displayName=TA.displayName;const iz=G.forwardRef(({className:e,...t},n)=>o.jsx(AA,{ref:n,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));iz.displayName=AA.displayName;const el=G.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(rz,{children:o.jsx(jA,{ref:r,sideOffset:t,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));el.displayName=jA.displayName;const Fi=G.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(CA,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Fi.displayName=CA.displayName;const Yc=G.forwardRef(({className:e,children:t,checked:n,...r},s)=>o.jsxs(SA,{ref:s,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(EA,{children:o.jsx(fn,{className:"h-4 w-4"})})}),t]}));Yc.displayName=SA.displayName;const kA=G.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(PA,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(EA,{children:o.jsx(oL,{className:"h-2 w-2 fill-current"})})}),t]}));kA.displayName=PA.displayName;const sx=G.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(NA,{ref:r,className:le("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));sx.displayName=NA.displayName;const qc=G.forwardRef(({className:e,...t},n)=>o.jsx(DA,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));qc.displayName=DA.displayName;function Jm(){const[e,t]=m.useState({width:void 0,height:void 0});return m.useEffect(()=>{function n(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),e}function vr(e){"@babel/helpers - typeof";return vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vr(e)}function De(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function he(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function xe(e){he(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||vr(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Wt(e,t){he(2,arguments);var n=xe(e),r=De(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Jn(e,t){he(2,arguments);var n=xe(e),r=De(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),a=new Date(n.getTime());a.setMonth(n.getMonth()+r+1,0);var i=a.getDate();return s>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),s),n)}function ox(e,t){if(he(2,arguments),!t||vr(t)!=="object")return new Date(NaN);var n=t.years?De(t.years):0,r=t.months?De(t.months):0,s=t.weeks?De(t.weeks):0,a=t.days?De(t.days):0,i=t.hours?De(t.hours):0,l=t.minutes?De(t.minutes):0,c=t.seconds?De(t.seconds):0,u=xe(e),d=r||n?Jn(u,r+n*12):u,f=a||s?Wt(d,a+s*7):d,p=l+i*60,h=c+p*60,g=h*1e3,v=new Date(f.getTime()+g);return v}function lz(e,t){he(2,arguments);var n=xe(e).getTime(),r=De(t);return new Date(n+r)}var cz={};function Xs(){return cz}function Or(e,t){var n,r,s,a,i,l,c,u;he(1,arguments);var d=Xs(),f=De((n=(r=(s=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=xe(e),h=p.getDay(),g=(h<f?7:0)+h-f;return p.setDate(p.getDate()-g),p.setHours(0,0,0,0),p}function ka(e){return he(1,arguments),Or(e,{weekStartsOn:1})}function uz(e){he(1,arguments);var t=xe(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var s=ka(r),a=new Date(0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);var i=ka(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function dz(e){he(1,arguments);var t=uz(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var r=ka(n);return r}function Ra(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function tl(e){he(1,arguments);var t=xe(e);return t.setHours(0,0,0,0),t}var fz=864e5;function ks(e,t){he(2,arguments);var n=tl(e),r=tl(t),s=n.getTime()-Ra(n),a=r.getTime()-Ra(r);return Math.round((s-a)/fz)}function ax(e,t){he(2,arguments);var n=De(t),r=n*7;return Wt(e,r)}function mz(e,t){he(2,arguments);var n=De(t);return Jn(e,n*12)}function pz(e){he(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(vr(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var n;return t.forEach(function(r){var s=xe(r);(n===void 0||n<s||isNaN(Number(s)))&&(n=s)}),n||new Date(NaN)}function hz(e){he(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(vr(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var n;return t.forEach(function(r){var s=xe(r);(n===void 0||n>s||isNaN(s.getDate()))&&(n=s)}),n||new Date(NaN)}function Ud(e,t){he(2,arguments);var n=xe(e),r=xe(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function kt(e,t){he(2,arguments);var n=tl(e),r=tl(t);return n.getTime()===r.getTime()}function Oy(e){return he(1,arguments),e instanceof Date||vr(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function gz(e){if(he(1,arguments),!Oy(e)&&typeof e!="number")return!1;var t=xe(e);return!isNaN(Number(t))}function nl(e,t){he(2,arguments);var n=xe(e),r=xe(t),s=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return s*12+a}var vz=6048e5;function xz(e,t,n){he(2,arguments);var r=Or(e,n),s=Or(t,n),a=r.getTime()-Ra(r),i=s.getTime()-Ra(s);return Math.round((a-i)/vz)}function yz(e,t){return he(2,arguments),xe(e).getTime()-xe(t).getTime()}var tN={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},bz="trunc";function wz(e){return e?tN[e]:tN[bz]}function jz(e){he(1,arguments);var t=xe(e);return t.setHours(23,59,59,999),t}function Qm(e){he(1,arguments);var t=xe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Nz(e){he(1,arguments);var t=xe(e);return jz(t).getTime()===Qm(t).getTime()}function Cz(e,t){he(2,arguments);var n=xe(e),r=xe(t),s=Ud(n,r),a=Math.abs(nl(n,r)),i;if(a<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*a);var l=Ud(n,r)===-s;Nz(xe(e))&&a===1&&Ud(e,r)===1&&(l=!1),i=s*(a-Number(l))}return i===0?0:i}function Sz(e,t,n){he(2,arguments);var r=yz(e,t)/1e3;return wz(n==null?void 0:n.roundingMethod)(r)}function kn(e){he(1,arguments);var t=xe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Pz(e){he(1,arguments);var t=xe(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function $y(e,t){var n,r,s,a,i,l,c,u;he(1,arguments);var d=Xs(),f=De((n=(r=(s=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=xe(e),h=p.getDay(),g=(h<f?-7:0)+6-(h-f);return p.setDate(p.getDate()+g),p.setHours(23,59,59,999),p}function RA(e){return he(1,arguments),$y(e,{weekStartsOn:1})}function Ez(e,t){he(2,arguments);var n=De(t);return lz(e,-n)}var Dz=864e5;function Tz(e){he(1,arguments);var t=xe(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/Dz)+1}function zf(e){he(1,arguments);var t=1,n=xe(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function MA(e){he(1,arguments);var t=xe(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=zf(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var i=zf(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function Az(e){he(1,arguments);var t=MA(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=zf(n);return r}var kz=6048e5;function Rz(e){he(1,arguments);var t=xe(e),n=zf(t).getTime()-Az(t).getTime();return Math.round(n/kz)+1}function Uf(e,t){var n,r,s,a,i,l,c,u;he(1,arguments);var d=Xs(),f=De((n=(r=(s=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=xe(e),h=p.getUTCDay(),g=(h<f?7:0)+h-f;return p.setUTCDate(p.getUTCDate()-g),p.setUTCHours(0,0,0,0),p}function IA(e,t){var n,r,s,a,i,l,c,u;he(1,arguments);var d=xe(e),f=d.getUTCFullYear(),p=Xs(),h=De((n=(r=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,h),g.setUTCHours(0,0,0,0);var v=Uf(g,t),b=new Date(0);b.setUTCFullYear(f,0,h),b.setUTCHours(0,0,0,0);var x=Uf(b,t);return d.getTime()>=v.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function Mz(e,t){var n,r,s,a,i,l,c,u;he(1,arguments);var d=Xs(),f=De((n=(r=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=IA(e,t),h=new Date(0);h.setUTCFullYear(p,0,f),h.setUTCHours(0,0,0,0);var g=Uf(h,t);return g}var Iz=6048e5;function Oz(e,t){he(1,arguments);var n=xe(e),r=Uf(n,t).getTime()-Mz(n,t).getTime();return Math.round(r/Iz)+1}function He(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var $z={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return He(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):He(r+1,2)},d:function(t,n){return He(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return He(t.getUTCHours()%12||12,n.length)},H:function(t,n){return He(t.getUTCHours(),n.length)},m:function(t,n){return He(t.getUTCMinutes(),n.length)},s:function(t,n){return He(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),a=Math.floor(s*Math.pow(10,r-3));return He(a,n.length)}};const oo=$z;var oi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_z={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return oo.y(t,n)},Y:function(t,n,r,s){var a=IA(t,s),i=a>0?a:1-a;if(n==="YY"){var l=i%100;return He(l,2)}return n==="Yo"?r.ordinalNumber(i,{unit:"year"}):He(i,n.length)},R:function(t,n){var r=MA(t);return He(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return He(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return He(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return He(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return oo.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return He(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var a=Oz(t,s);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):He(a,n.length)},I:function(t,n,r){var s=Rz(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):He(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):oo.d(t,n)},D:function(t,n,r){var s=Tz(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):He(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var a=t.getUTCDay(),i=(a-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return He(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var a=t.getUTCDay(),i=(a-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return He(i,n.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),a=s===0?7:s;switch(n){case"i":return String(a);case"ii":return He(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),a=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),a;switch(s===12?a=oi.noon:s===0?a=oi.midnight:a=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),a;switch(s>=17?a=oi.evening:s>=12?a=oi.afternoon:s>=4?a=oi.morning:a=oi.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return oo.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):oo.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):He(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):He(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):oo.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):oo.s(t,n)},S:function(t,n){return oo.S(t,n)},X:function(t,n,r,s){var a=s._originalDate||t,i=a.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return rN(i);case"XXXX":case"XX":return ua(i);case"XXXXX":case"XXX":default:return ua(i,":")}},x:function(t,n,r,s){var a=s._originalDate||t,i=a.getTimezoneOffset();switch(n){case"x":return rN(i);case"xxxx":case"xx":return ua(i);case"xxxxx":case"xxx":default:return ua(i,":")}},O:function(t,n,r,s){var a=s._originalDate||t,i=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+nN(i,":");case"OOOO":default:return"GMT"+ua(i,":")}},z:function(t,n,r,s){var a=s._originalDate||t,i=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+nN(i,":");case"zzzz":default:return"GMT"+ua(i,":")}},t:function(t,n,r,s){var a=s._originalDate||t,i=Math.floor(a.getTime()/1e3);return He(i,n.length)},T:function(t,n,r,s){var a=s._originalDate||t,i=a.getTime();return He(i,n.length)}};function nN(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),a=r%60;if(a===0)return n+String(s);var i=t||"";return n+String(s)+i+He(a,2)}function rN(e,t){if(e%60===0){var n=e>0?"-":"+";return n+He(Math.abs(e)/60,2)}return ua(e,t)}function ua(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),a=He(Math.floor(s/60),2),i=He(s%60,2);return r+a+n+i}const Lz=_z;var sN=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},OA=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Fz=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return sN(t,n);var i;switch(s){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",sN(s,n)).replace("{{time}}",OA(a,n))},Bz={p:OA,P:Fz};const Vz=Bz;var zz=["D","DD"],Uz=["YY","YYYY"];function Wz(e){return zz.indexOf(e)!==-1}function Hz(e){return Uz.indexOf(e)!==-1}function oN(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Gz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Yz=function(t,n,r){var s,a=Gz[t];return typeof a=="string"?s=a:n===1?s=a.one:s=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};const qz=Yz;function Bi(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var Kz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Xz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Jz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Qz={date:Bi({formats:Kz,defaultWidth:"full"}),time:Bi({formats:Xz,defaultWidth:"full"}),dateTime:Bi({formats:Jz,defaultWidth:"full"})};const Zz=Qz;var eU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tU=function(t,n,r,s){return eU[t]};const nU=tU;function Kr(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,i=n!=null&&n.width?String(n.width):a;s=e.formattingValues[i]||e.formattingValues[a]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var rU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},aU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cU=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},uU={ordinalNumber:cU,era:Kr({values:rU,defaultWidth:"wide"}),quarter:Kr({values:sU,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Kr({values:oU,defaultWidth:"wide"}),day:Kr({values:aU,defaultWidth:"wide"}),dayPeriod:Kr({values:iU,defaultWidth:"wide",formattingValues:lU,defaultFormattingWidth:"wide"})};const dU=uU;function Xr(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;var i=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?mU(l,function(f){return f.test(i)}):fU(l,function(f){return f.test(i)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(i.length);return{value:u,rest:d}}}function fU(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function mU(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function $A(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],a=t.match(e.parsePattern);if(!a)return null;var i=e.valueCallback?e.valueCallback(a[0]):a[0];i=n.valueCallback?n.valueCallback(i):i;var l=t.slice(s.length);return{value:i,rest:l}}}var pU=/^(\d+)(th|st|nd|rd)?/i,hU=/\d+/i,gU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vU={any:[/^b/i,/^(a|c)/i]},xU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yU={any:[/1/i,/2/i,/3/i,/4/i]},bU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PU={ordinalNumber:$A({matchPattern:pU,parsePattern:hU,valueCallback:function(t){return parseInt(t,10)}}),era:Xr({matchPatterns:gU,defaultMatchWidth:"wide",parsePatterns:vU,defaultParseWidth:"any"}),quarter:Xr({matchPatterns:xU,defaultMatchWidth:"wide",parsePatterns:yU,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Xr({matchPatterns:bU,defaultMatchWidth:"wide",parsePatterns:wU,defaultParseWidth:"any"}),day:Xr({matchPatterns:jU,defaultMatchWidth:"wide",parsePatterns:NU,defaultParseWidth:"any"}),dayPeriod:Xr({matchPatterns:CU,defaultMatchWidth:"any",parsePatterns:SU,defaultParseWidth:"any"})};const EU=PU;var DU={code:"en-US",formatDistance:qz,formatLong:Zz,formatRelative:nU,localize:dU,match:EU,options:{weekStartsOn:0,firstWeekContainsDate:1}};const _y=DU;var TU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,AU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kU=/^'([^]*?)'?$/,RU=/''/g,MU=/[a-zA-Z]/;function Fe(e,t,n){var r,s,a,i,l,c,u,d,f,p,h,g,v,b,x,y,w,j;he(2,arguments);var N=String(t),C=Xs(),S=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:C.locale)!==null&&r!==void 0?r:_y,P=De((a=(i=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:C.firstWeekContainsDate)!==null&&i!==void 0?i:(f=C.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(P>=1&&P<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=De((h=(g=(v=(b=n==null?void 0:n.weekStartsOn)!==null&&b!==void 0?b:n==null||(x=n.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&v!==void 0?v:C.weekStartsOn)!==null&&g!==void 0?g:(w=C.locale)===null||w===void 0||(j=w.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&h!==void 0?h:0);if(!(R>=0&&R<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var E=xe(e);if(!gz(E))throw new RangeError("Invalid time value");var D=Ra(E),A=Ez(E,D),$={firstWeekContainsDate:P,weekStartsOn:R,locale:S,_originalDate:E},I=N.match(AU).map(function(z){var V=z[0];if(V==="p"||V==="P"){var k=Vz[V];return k(z,S.formatLong)}return z}).join("").match(TU).map(function(z){if(z==="''")return"'";var V=z[0];if(V==="'")return IU(z);var k=Lz[V];if(k)return!(n!=null&&n.useAdditionalWeekYearTokens)&&Hz(z)&&oN(z,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Wz(z)&&oN(z,t,String(e)),k(A,z,S.localize,$);if(V.match(MU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");return z}).join("");return I}function IU(e){var t=e.match(kU);return t?t[1].replace(RU,"'"):e}function _A(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function OU(e){return _A({},e)}var aN=1440,$U=2520,Jh=43200,_U=86400;function LU(e,t,n){var r,s;he(2,arguments);var a=Xs(),i=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:a.locale)!==null&&r!==void 0?r:_y;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Ud(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var c=_A(OU(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:l}),u,d;l>0?(u=xe(t),d=xe(e)):(u=xe(e),d=xe(t));var f=Sz(d,u),p=(Ra(d)-Ra(u))/1e3,h=Math.round((f-p)/60),g;if(h<2)return n!=null&&n.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,c):f<10?i.formatDistance("lessThanXSeconds",10,c):f<20?i.formatDistance("lessThanXSeconds",20,c):f<40?i.formatDistance("halfAMinute",0,c):f<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):h===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",h,c);if(h<45)return i.formatDistance("xMinutes",h,c);if(h<90)return i.formatDistance("aboutXHours",1,c);if(h<aN){var v=Math.round(h/60);return i.formatDistance("aboutXHours",v,c)}else{if(h<$U)return i.formatDistance("xDays",1,c);if(h<Jh){var b=Math.round(h/aN);return i.formatDistance("xDays",b,c)}else if(h<_U)return g=Math.round(h/Jh),i.formatDistance("aboutXMonths",g,c)}if(g=Cz(d,u),g<12){var x=Math.round(h/Jh);return i.formatDistance("xMonths",x,c)}else{var y=g%12,w=Math.floor(g/12);return y<3?i.formatDistance("aboutXYears",w,c):y<9?i.formatDistance("overXYears",w,c):i.formatDistance("almostXYears",w+1,c)}}function Ly(e,t){return he(1,arguments),LU(e,Date.now(),t)}function FU(e){he(1,arguments);var t=xe(e),n=t.getFullYear(),r=t.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}var BU=6048e5;function VU(e){he(1,arguments);var t=xe(e),n=ka(t).getTime()-dz(t).getTime();return Math.round(n/BU)+1}function zU(e){he(1,arguments);var t=xe(e),n=t.getTime();return n}function UU(e){return he(1,arguments),Math.floor(zU(e)/1e3)}function WU(e,t){var n,r,s,a,i,l,c,u;he(1,arguments);var d=xe(e),f=d.getFullYear(),p=Xs(),h=De((n=(r=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(f+1,0,h),g.setHours(0,0,0,0);var v=Or(g,t),b=new Date(0);b.setFullYear(f,0,h),b.setHours(0,0,0,0);var x=Or(b,t);return d.getTime()>=v.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function HU(e,t){var n,r,s,a,i,l,c,u;he(1,arguments);var d=Xs(),f=De((n=(r=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=WU(e,t),h=new Date(0);h.setFullYear(p,0,f),h.setHours(0,0,0,0);var g=Or(h,t);return g}var GU=6048e5;function YU(e,t){he(1,arguments);var n=xe(e),r=Or(n,t).getTime()-HU(n,t).getTime();return Math.round(r/GU)+1}function qU(e){he(1,arguments);var t=xe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function KU(e,t){return he(1,arguments),xz(qU(e),kn(e),t)+1}function ix(e,t){he(2,arguments);var n=xe(e),r=xe(t);return n.getTime()>r.getTime()}function LA(e,t){he(2,arguments);var n=xe(e),r=xe(t);return n.getTime()<r.getTime()}function XU(e,t){if(vr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JU(e){var t=XU(e,"string");return vr(t)=="symbol"?t:t+""}function QU(e,t,n){return(t=JU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fy(e,t){he(2,arguments);var n=xe(e),r=xe(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function ZU(e,t){he(2,arguments);var n=xe(e),r=xe(t);return n.getFullYear()===r.getFullYear()}function Wd(e,t){he(2,arguments);var n=De(t);return Wt(e,-n)}function Hd(e,t){he(2,arguments);var n=xe(e),r=De(t),s=n.getFullYear(),a=n.getDate(),i=new Date(0);i.setFullYear(s,r,15),i.setHours(0,0,0,0);var l=FU(i);return n.setMonth(r,Math.min(a,l)),n}function lx(e,t){if(he(2,arguments),vr(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=xe(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=Hd(n,t.month)),t.date!=null&&n.setDate(De(t.date)),t.hours!=null&&n.setHours(De(t.hours)),t.minutes!=null&&n.setMinutes(De(t.minutes)),t.seconds!=null&&n.setSeconds(De(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(De(t.milliseconds)),n)}function iN(e,t){he(2,arguments);var n=xe(e),r=De(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function eW(e,t){he(2,arguments);var n=De(t);return Jn(e,-n)}function tW(e,t){if(he(2,arguments),!t||vr(t)!=="object")return new Date(NaN);var n=t.years?De(t.years):0,r=t.months?De(t.months):0,s=t.weeks?De(t.weeks):0,a=t.days?De(t.days):0,i=t.hours?De(t.hours):0,l=t.minutes?De(t.minutes):0,c=t.seconds?De(t.seconds):0,u=eW(e,r+n*12),d=Wd(u,a+s*7),f=l+i*60,p=c+f*60,h=p*1e3,g=new Date(d.getTime()-h);return g}var nW={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},rW=function(t,n,r){var s,a=nW[t];return typeof a=="string"?s=a:n===1?s=a.one:s=a.other.replace("{{count}}",String(n)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+s:"il y a "+s:s};const sW=rW;var oW={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},aW={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},iW={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lW={date:Bi({formats:oW,defaultWidth:"full"}),time:Bi({formats:aW,defaultWidth:"full"}),dateTime:Bi({formats:iW,defaultWidth:"full"})};const cW=lW;var uW={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},dW=function(t,n,r,s){return uW[t]};const fW=dW;var mW={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},pW={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},hW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},gW={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},vW={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},xW=function(t,n){var r=Number(t),s=n==null?void 0:n.unit;if(r===0)return"0";var a=["year","week","hour","minute","second"],i;return r===1?i=s&&a.includes(s)?"ère":"er":i="ème",r+i},yW={ordinalNumber:xW,era:Kr({values:mW,defaultWidth:"wide"}),quarter:Kr({values:pW,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Kr({values:hW,defaultWidth:"wide"}),day:Kr({values:gW,defaultWidth:"wide"}),dayPeriod:Kr({values:vW,defaultWidth:"wide"})};const bW=yW;var wW=/^(\d+)(ième|ère|ème|er|e)?/i,jW=/\d+/i,NW={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},CW={any:[/^av/i,/^ap/i]},SW={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},PW={any:[/1/i,/2/i,/3/i,/4/i]},EW={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},DW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},TW={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},AW={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},kW={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},RW={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},MW={ordinalNumber:$A({matchPattern:wW,parsePattern:jW,valueCallback:function(t){return parseInt(t)}}),era:Xr({matchPatterns:NW,defaultMatchWidth:"wide",parsePatterns:CW,defaultParseWidth:"any"}),quarter:Xr({matchPatterns:SW,defaultMatchWidth:"wide",parsePatterns:PW,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Xr({matchPatterns:EW,defaultMatchWidth:"wide",parsePatterns:DW,defaultParseWidth:"any"}),day:Xr({matchPatterns:TW,defaultMatchWidth:"wide",parsePatterns:AW,defaultParseWidth:"any"}),dayPeriod:Xr({matchPatterns:kW,defaultMatchWidth:"any",parsePatterns:RW,defaultParseWidth:"any"})};const IW=MW;var OW={code:"fr",formatDistance:sW,formatLong:cW,formatRelative:fW,localize:bW,match:IW,options:{weekStartsOn:1,firstWeekContainsDate:4}};const en=OW,lN=[{name:"Pipeline",path:"/admin/pipeline",icon:d2},{name:"Agenda",path:"/admin/agenda",icon:gr},{name:"Contacts",path:"/admin/contacts",icon:Rr},{name:"Charly",path:"/admin/charly",icon:_o}],$W=()=>{const{width:e}=Jm(),t=e<768,[n,r]=m.useState(!1),{notifications:s,markNotificationAsRead:a,users:i,activeAdminUser:l,switchActiveAdminUser:c}=Ce(),u=Vt(),[d,f]=ps(),p=s.filter(b=>!b.read),h=b=>{a(b.id),u(`/admin/contacts?prospectId=${b.prospectId}&project=${b.projectType}`)},g=b=>{c(b);const x=new URLSearchParams(d);x.set("owner",b),f(x,{replace:!0})},v=()=>o.jsx(vn,{children:n&&o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm",onClick:()=>r(!1),children:o.jsxs(ee.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 bottom-0 w-4/5 max-w-sm bg-background p-6 shadow-xl",onClick:b=>b.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("span",{className:"font-bold text-xl",children:"Menu Pro"}),o.jsx(B,{variant:"ghost",size:"icon",onClick:()=>r(!1),children:o.jsx(Br,{className:"h-6 w-6"})})]}),o.jsxs("nav",{className:"flex flex-col space-y-2",children:[lN.map(b=>o.jsxs(Sf,{to:b.path,onClick:()=>r(!1),className:({isActive:x})=>`flex items-center space-x-3 p-3 rounded-lg text-lg font-medium transition-colors ${x?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50"}`,children:[o.jsx(b.icon,{className:"h-6 w-6"}),o.jsx("span",{children:b.name})]},b.name)),o.jsxs("div",{className:"pt-4 mt-4 border-t",children:[o.jsxs(qr,{to:"/dashboard",onClick:()=>r(!1),className:"flex items-center space-x-3 p-3 rounded-lg text-lg font-medium transition-colors text-gray-600 hover:bg-gray-50",children:[o.jsx(Ic,{className:"h-6 w-6"}),o.jsx("span",{children:"Espace Client"})]}),o.jsxs(qr,{to:"/admin/parametres",onClick:()=>r(!1),className:"flex items-center space-x-3 p-3 rounded-lg text-lg font-medium transition-colors text-gray-600 hover:bg-gray-50",children:[o.jsx(fL,{className:"h-6 w-6"}),o.jsx("span",{children:"Paramètres"})]})]})]})]})})});return o.jsx(o.Fragment,{children:o.jsxs(ee.header,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"bg-background/80 backdrop-blur-md shadow-sm sticky top-0 z-40 border-b border-gray-100",children:[o.jsx("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs(qr,{to:"/admin",className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 gradient-blue rounded-xl flex items-center justify-center shadow-card",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"E"})}),o.jsxs("span",{className:"hidden sm:block text-2xl font-bold text-gray-900",children:["Evatime ",o.jsx("span",{className:"font-light text-blue-600",children:"Pro"})]})]})}),o.jsx("nav",{className:"hidden md:flex items-center space-x-2 bg-gray-100 p-1 rounded-full",children:lN.map(b=>o.jsxs(Sf,{to:b.path,className:({isActive:x})=>`flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium transition-colors ${x?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:bg-gray-200"}`,children:[o.jsx(b.icon,{className:"h-4 w-4"}),o.jsx("span",{children:b.name})]},b.name))}),o.jsxs("div",{className:"flex items-center space-x-2",children:[!t&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qr,{to:"/dashboard",children:o.jsxs(B,{variant:"outline",className:"rounded-full text-green-600 border-green-200 hover:bg-green-50 flex items-center space-x-2",children:[o.jsx(Ic,{className:"h-4 w-4"}),o.jsx("span",{children:"Espace Client"})]})}),o.jsxs(Hc,{children:[o.jsx(Gc,{asChild:!0,children:o.jsxs(B,{variant:"outline",className:"rounded-full flex items-center space-x-2",children:[o.jsx(hL,{className:"h-4 w-4 text-gray-600"}),o.jsx("span",{children:l?l.name:"Changer d'utilisateur"})]})}),o.jsxs(el,{align:"end",className:"w-64",children:[o.jsx(sx,{children:"Changer d'utilisateur"}),o.jsx(qc,{}),o.jsx(oz,{value:l==null?void 0:l.id,onValueChange:g,children:Object.values(i).map(b=>o.jsxs(kA,{value:b.id,className:"flex justify-between items-center",children:[o.jsx("span",{children:b.name}),o.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full",children:b.role})]},b.id))})]})]})]}),o.jsxs(Hc,{children:[o.jsx(Gc,{asChild:!0,children:o.jsxs(B,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-gray-100 relative",children:[o.jsx(rL,{className:"h-5 w-5 text-gray-600"}),p.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-bold text-white",children:p.length})]})}),o.jsxs(el,{align:"end",className:"w-80",children:[o.jsx(sx,{children:"Notifications"}),o.jsx(qc,{}),p.length>0?p.map(b=>o.jsx(Fi,{onClick:()=>h(b),className:"cursor-pointer",children:o.jsxs("div",{className:"flex items-start space-x-3 py-2",children:[o.jsx("div",{className:"bg-blue-100 rounded-full p-2",children:o.jsx(Ta,{className:"h-4 w-4 text-blue-600"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium text-gray-800",children:["Nouveau message de ",b.prospectName]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Projet: ",b.projectName]}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Ly(new Date(b.timestamp),{addSuffix:!0,locale:en})})]})]})},b.id)):o.jsx(Fi,{disabled:!0,children:o.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"Aucune nouvelle notification"})})]})]}),o.jsx(qr,{to:"/admin/profil",children:o.jsx("div",{className:"w-8 h-8 gradient-green rounded-full flex items-center justify-center cursor-pointer",children:o.jsx(hs,{className:"h-4 w-4 text-white"})})}),t&&o.jsx(B,{variant:"ghost",size:"icon",onClick:()=>r(!0),className:"rounded-full hover:bg-gray-100",children:o.jsx(m2,{className:"h-6 w-6"})})]})]})}),t&&o.jsx(v,{})]})})},By=()=>{const e=t=>{K({title:`🚧 Action rapide "${t}" non implémentée.`,description:"Vous pouvez demander son développement ! 🚀"})};return o.jsxs("div",{className:"w-full flex-shrink-0 bg-white rounded-3xl shadow-soft flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-20 bg-gradient-to-br from-teal-400 to-green-500 rounded-t-3xl"}),o.jsx("div",{className:"relative pt-6 px-6 flex justify-center",children:o.jsx("div",{className:"w-28 h-28 rounded-full border-4 border-white shadow-lg overflow-hidden flex items-center justify-center",children:o.jsx("img",{className:"w-full h-auto object-contain rounded-full",alt:"Avatar de Charly, conseiller virtuel Evatime",src:"https://horizons-cdn.hostinger.com/43725989-d002-4543-b65c-278701925e7e/4e3f809791e357819f31c585852d3a99.png"})})})]}),o.jsxs("div",{className:"p-4 text-center",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Bonjour 👋"}),o.jsx("p",{className:"text-gray-600 text-xs",children:"Je suis Charly, enchanté de vous connaitre !!  Posez-moi une question ou lancez une action."})]}),o.jsxs("div",{className:"px-4 grid grid-cols-2 gap-2",children:[o.jsxs(B,{variant:"outline",className:"flex items-center justify-start space-x-2 text-xs h-9",onClick:()=>e("RDV"),children:[o.jsx(gr,{className:"h-4 w-4 text-blue-500"})," ",o.jsx("span",{children:"RDV"})]}),o.jsxs(B,{variant:"outline",className:"flex items-center justify-start space-x-2 text-xs h-9",onClick:()=>e("Appel"),children:[o.jsx(yt,{className:"h-4 w-4 text-green-500"})," ",o.jsx("span",{children:"Appel"})]}),o.jsxs(B,{variant:"outline",className:"flex items-center justify-start space-x-2 text-xs h-9",onClick:()=>e("SMS"),children:[o.jsx(Ta,{className:"h-4 w-4 text-purple-500"})," ",o.jsx("span",{children:"SMS"})]}),o.jsxs(B,{variant:"outline",className:"flex items-center justify-start space-x-2 text-xs h-9",onClick:()=>e("Email"),children:[o.jsx(Lt,{className:"h-4 w-4 text-orange-500"})," ",o.jsx("span",{children:"Email"})]})]}),o.jsx("div",{className:"p-4 mt-auto",children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Écrire à Charly…",className:"w-full px-4 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"}),o.jsx(B,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 text-gray-400 hover:text-green-600 h-8 w-8",onClick:()=>K({title:"Le chat n'est pas encore fonctionnel."}),children:o.jsx(z0,{className:"h-5 w-5"})})]})})]})},cx=({isDesktop:e})=>{const[t,n]=m.useState(!1),r=({onClose:s,isMobile:a})=>o.jsxs(ee.div,{initial:a?{opacity:0,y:"100%"}:{opacity:0,x:"20px"},animate:{opacity:1,y:0,x:0},exit:a?{opacity:0,y:"100%"}:{opacity:0,x:"20px"},transition:{duration:.5,ease:[.22,1,.36,1]},className:a?"fixed inset-0 bg-white z-50 flex flex-col":"w-full",children:[o.jsx(By,{}),a&&o.jsx("div",{className:"absolute top-4 right-4",children:o.jsx(B,{variant:"ghost",size:"icon",onClick:s,className:"rounded-full bg-black/20 text-white hover:bg-black/40",children:o.jsx(Br,{className:"h-5 w-5"})})})]});return e?o.jsx(r,{onClose:()=>{},isMobile:!1}):o.jsxs(o.Fragment,{children:[o.jsx(ee.div,{className:"fixed bottom-6 right-6 z-40",initial:{scale:0},animate:{scale:1},transition:{delay:.5},children:o.jsx(B,{onClick:()=>n(!0),className:"w-16 h-16 rounded-full gradient-green shadow-soft hover:shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center",children:o.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden flex items-center justify-center",children:o.jsx("img",{className:"w-full h-auto object-contain",alt:"Ouvrir le chat avec Charly",src:"https://horizons-cdn.hostinger.com/43725989-d002-4543-b65c-278701925e7e/4e3f809791e357819f31c585852d3a99.png"})})})}),o.jsx(vn,{children:t&&o.jsx(r,{onClose:()=>n(!1),isMobile:!0})})]})},_W=()=>{const{width:e}=Jm(),t=e<768,n=e>=1024,r=ms(),s=r.pathname.startsWith("/admin/charly"),a=r.pathname.startsWith("/admin/agenda"),i=r.pathname.startsWith("/admin/profil"),l=r.pathname.startsWith("/admin/pipeline")||r.pathname==="/admin",c=r.pathname.startsWith("/admin/contacts"),u=n&&!s&&!a&&!i&&!l&&!c;return o.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[o.jsx($W,{}),o.jsxs("div",{className:"flex flex-1 w-full",children:[o.jsx("main",{className:"flex-1 min-w-0 p-4 sm:p-6 lg:p-8",children:o.jsx(wE,{})}),u&&o.jsx("aside",{className:"w-[250px] flex-shrink-0 space-y-6 p-6 pr-8 hidden lg:block",children:o.jsx(By,{})})]}),!n&&!t&&o.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:o.jsx(cx,{isDesktop:!1})})]})},cN=[{name:"Tableau de bord",path:"/dashboard",icon:d2,end:!0},{name:"Offres & Produits",path:"/dashboard/offres",icon:p2},{name:"Documents",path:"/dashboard/documents",icon:cL}],LW=()=>{const{width:e}=Jm(),t=e<768,[n,r]=m.useState(!1),[s,a]=m.useState(""),i=Vt();m.useEffect(()=>{const u=localStorage.getItem("clientLogo");u&&a(u)},[]);const l=()=>{i("/dashboard/profil")},c=()=>o.jsx(vn,{children:n&&o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm",onClick:()=>r(!1),children:o.jsxs(ee.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 bottom-0 w-4/5 max-w-sm bg-background p-6 shadow-xl",onClick:u=>u.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("span",{className:"font-bold text-xl",children:"Menu"}),o.jsx(B,{variant:"ghost",size:"icon",onClick:()=>r(!1),children:o.jsx(Br,{className:"h-6 w-6"})})]}),o.jsxs("nav",{className:"flex flex-col space-y-2",children:[cN.map(u=>o.jsxs(Sf,{to:u.path,end:u.end,onClick:()=>r(!1),className:({isActive:d})=>`flex items-center space-x-3 p-3 rounded-lg text-lg font-medium transition-colors ${d?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50"}`,children:[o.jsx(u.icon,{className:"h-6 w-6"}),o.jsx("span",{children:u.name})]},u.name)),o.jsx("div",{className:"pt-4 mt-4 border-t",children:o.jsxs(qr,{to:"/admin",onClick:()=>r(!1),className:"flex items-center space-x-3 p-3 rounded-lg text-lg font-medium transition-colors text-gray-600 hover:bg-gray-50",children:[o.jsx(Pj,{className:"h-6 w-6"}),o.jsx("span",{children:"Accès Pro"})]})})]})]})})});return o.jsxs("header",{className:"bg-background/80 backdrop-blur-md shadow-sm sticky top-0 z-40 border-b border-gray-100",children:[o.jsx("div",{className:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsx(qr,{to:"/dashboard",className:"flex items-center",children:s&&s.startsWith("data:video/mp4")?o.jsx("video",{src:s,className:"h-14 w-auto object-contain",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",style:{display:"block",background:"transparent"}}):s?o.jsx("img",{src:s,alt:"Logo",className:"h-14 w-auto object-contain"}):o.jsx("img",{src:"/locasun-logo.svg",alt:"Locasun",className:"h-14 w-auto object-contain"})})}),!t&&o.jsx("nav",{className:"flex items-center space-x-2 bg-gray-100 p-1 rounded-full",children:cN.map(u=>o.jsxs(Sf,{to:u.path,end:u.end,className:({isActive:d})=>`flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium transition-colors ${d?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:bg-gray-200"}`,children:[o.jsx(u.icon,{className:"h-4 w-4"}),o.jsx("span",{children:u.name})]},u.name))}),o.jsxs("div",{className:"flex items-center space-x-2",children:[!t&&o.jsx(qr,{to:"/admin",children:o.jsxs(B,{variant:"outline",className:"rounded-full text-blue-600 border-blue-200 hover:bg-blue-50 flex items-center space-x-2",children:[o.jsx(Pj,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Accès Pro"})]})}),o.jsx(B,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-gray-100",onClick:l,children:o.jsx("div",{className:"w-8 h-8 gradient-blue rounded-full flex items-center justify-center",children:o.jsx(hs,{className:"h-4 w-4 text-white"})})}),t&&o.jsx(B,{variant:"ghost",size:"icon",onClick:()=>r(!0),className:"rounded-full hover:bg-gray-100",children:o.jsx(m2,{className:"h-6 w-6"})})]})]})}),t&&o.jsx(c,{})]})},FW=()=>{const{width:e}=Jm(),t=e>=1024,n=e<768;return o.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[o.jsx(LW,{}),o.jsxs("div",{className:"flex flex-1 max-w-screen-xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-6 md:py-8 pb-24 md:pb-8",children:[o.jsx("main",{className:"flex-1 min-w-0 lg:pr-8",children:o.jsx(wE,{})}),t&&o.jsx("aside",{className:"w-[320px] flex-shrink-0",children:o.jsx(cx,{isDesktop:t})})]}),!t&&!n&&o.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:o.jsx(cx,{isDesktop:t})})]})};function BW(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const Zm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hl(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Vy(e){return"nodeType"in e}function yn(e){var t,n;return e?hl(e)?e:Vy(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function zy(e){const{Document:t}=yn(e);return e instanceof t}function Du(e){return hl(e)?!1:e instanceof yn(e).HTMLElement}function FA(e){return e instanceof yn(e).SVGElement}function gl(e){return e?hl(e)?e.document:Vy(e)?zy(e)?e:Du(e)||FA(e)?e.ownerDocument:document:document:document}const $r=Zm?m.useLayoutEffect:m.useEffect;function ep(e){const t=m.useRef(e);return $r(()=>{t.current=e}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function VW(){const e=m.useRef(null),t=m.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=m.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Kc(e,t){t===void 0&&(t=[e]);const n=m.useRef(e);return $r(()=>{n.current!==e&&(n.current=e)},t),n}function Tu(e,t){const n=m.useRef();return m.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Wf(e){const t=ep(e),n=m.useRef(null),r=m.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function Hf(e){const t=m.useRef();return m.useEffect(()=>{t.current=e},[e]),t.current}let Qh={};function Au(e,t){return m.useMemo(()=>{if(t)return t;const n=Qh[e]==null?0:Qh[e]+1;return Qh[e]=n,e+"-"+n},[e,t])}function BA(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((a,i)=>{const l=Object.entries(i);for(const[c,u]of l){const d=a[c];d!=null&&(a[c]=d+e*u)}return a},{...t})}}const Vi=BA(1),Gf=BA(-1);function zW(e){return"clientX"in e&&"clientY"in e}function tp(e){if(!e)return!1;const{KeyboardEvent:t}=yn(e.target);return t&&e instanceof t}function UW(e){if(!e)return!1;const{TouchEvent:t}=yn(e.target);return t&&e instanceof t}function Yf(e){if(UW(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return zW(e)?{x:e.clientX,y:e.clientY}:null}const Ws=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ws.Translate.toString(e),Ws.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),uN="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function WW(e){return e.matches(uN)?e:e.querySelector(uN)}const HW={display:"none"};function GW(e){let{id:t,value:n}=e;return G.createElement("div",{id:t,style:HW},n)}function YW(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return G.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function qW(){const[e,t]=m.useState("");return{announce:m.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const VA=m.createContext(null);function KW(e){const t=m.useContext(VA);m.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function XW(){const[e]=m.useState(()=>new Set),t=m.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[m.useCallback(r=>{let{type:s,event:a}=r;e.forEach(i=>{var l;return(l=i[s])==null?void 0:l.call(i,a)})},[e]),t]}const JW={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},QW={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ZW(e){let{announcements:t=QW,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=JW}=e;const{announce:a,announcement:i}=qW(),l=Au("DndLiveRegion"),[c,u]=m.useState(!1);if(m.useEffect(()=>{u(!0)},[]),KW(m.useMemo(()=>({onDragStart(f){let{active:p}=f;a(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:h}=f;t.onDragMove&&a(t.onDragMove({active:p,over:h}))},onDragOver(f){let{active:p,over:h}=f;a(t.onDragOver({active:p,over:h}))},onDragEnd(f){let{active:p,over:h}=f;a(t.onDragEnd({active:p,over:h}))},onDragCancel(f){let{active:p,over:h}=f;a(t.onDragCancel({active:p,over:h}))}}),[a,t])),!c)return null;const d=G.createElement(G.Fragment,null,G.createElement(GW,{id:r,value:s.draggable}),G.createElement(YW,{id:l,announcement:i}));return n?$t.createPortal(d,n):d}var Tt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Tt||(Tt={}));function qf(){}const _r=Object.freeze({x:0,y:0});function eH(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function tH(e,t){const n=Yf(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function nH(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function rH(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function sH(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function dN(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Uy=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=dN(t,t.left,t.top),a=[];for(const i of r){const{id:l}=i,c=n.get(l);if(c){const u=eH(dN(c),s);a.push({id:l,data:{droppableContainer:i,value:u}})}}return a.sort(nH)};function oH(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),i=s-r,l=a-n;if(r<s&&n<a){const c=t.width*t.height,u=e.width*e.height,d=i*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const aH=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const a of r){const{id:i}=a,l=n.get(i);if(l){const c=oH(l,t);c>0&&s.push({id:i,data:{droppableContainer:a,value:c}})}}return s.sort(rH)};function iH(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function zA(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:_r}function lH(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((i,l)=>({...i,top:i.top+e*l.y,bottom:i.bottom+e*l.y,left:i.left+e*l.x,right:i.right+e*l.x}),{...n})}}const cH=lH(1);function UA(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function uH(e,t,n){const r=UA(t);if(!r)return e;const{scaleX:s,scaleY:a,x:i,y:l}=r,c=e.left-i-(1-s)*parseFloat(n),u=e.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),d=s?e.width/s:e.width,f=a?e.height/a:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const dH={ignoreTransform:!1};function vl(e,t){t===void 0&&(t=dH);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=yn(e).getComputedStyle(e);u&&(n=uH(n,u,d))}const{top:r,left:s,width:a,height:i,bottom:l,right:c}=n;return{top:r,left:s,width:a,height:i,bottom:l,right:c}}function fN(e){return vl(e,{ignoreTransform:!0})}function fH(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function mH(e,t){return t===void 0&&(t=yn(e).getComputedStyle(e)),t.position==="fixed"}function pH(e,t){t===void 0&&(t=yn(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=t[s];return typeof a=="string"?n.test(a):!1})}function Wy(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(zy(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Du(s)||FA(s)||n.includes(s))return n;const a=yn(e).getComputedStyle(s);return s!==e&&pH(s,a)&&n.push(s),mH(s,a)?n:r(s.parentNode)}return e?r(e):n}function WA(e){const[t]=Wy(e,1);return t??null}function Zh(e){return!Zm||!e?null:hl(e)?e:Vy(e)?zy(e)||e===gl(e).scrollingElement?window:Du(e)?e:null:null}function HA(e){return hl(e)?e.scrollX:e.scrollLeft}function GA(e){return hl(e)?e.scrollY:e.scrollTop}function ux(e){return{x:HA(e),y:GA(e)}}var It;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(It||(It={}));function YA(e){return!Zm||!e?!1:e===document.scrollingElement}function qA(e){const t={x:0,y:0},n=YA(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,i=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:s,isLeft:a,isBottom:i,isRight:l,maxScroll:r,minScroll:t}}const hH={x:.2,y:.2};function gH(e,t,n,r,s){let{top:a,left:i,right:l,bottom:c}=n;r===void 0&&(r=10),s===void 0&&(s=hH);const{isTop:u,isBottom:d,isLeft:f,isRight:p}=qA(e),h={x:0,y:0},g={x:0,y:0},v={height:t.height*s.y,width:t.width*s.x};return!u&&a<=t.top+v.height?(h.y=It.Backward,g.y=r*Math.abs((t.top+v.height-a)/v.height)):!d&&c>=t.bottom-v.height&&(h.y=It.Forward,g.y=r*Math.abs((t.bottom-v.height-c)/v.height)),!p&&l>=t.right-v.width?(h.x=It.Forward,g.x=r*Math.abs((t.right-v.width-l)/v.width)):!f&&i<=t.left+v.width&&(h.x=It.Backward,g.x=r*Math.abs((t.left+v.width-i)/v.width)),{direction:h,speed:g}}function vH(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:i}=window;return{top:0,left:0,right:a,bottom:i,width:a,height:i}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function KA(e){return e.reduce((t,n)=>Vi(t,ux(n)),_r)}function xH(e){return e.reduce((t,n)=>t+HA(n),0)}function yH(e){return e.reduce((t,n)=>t+GA(n),0)}function XA(e,t){if(t===void 0&&(t=vl),!e)return;const{top:n,left:r,bottom:s,right:a}=t(e);WA(e)&&(s<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const bH=[["x",["left","right"],xH],["y",["top","bottom"],yH]];class Hy{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Wy(n),s=KA(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,i,l]of bH)for(const c of i)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=s[a]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class uc{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function wH(e){const{EventTarget:t}=yn(e);return e instanceof t?e:gl(e)}function eg(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var or;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(or||(or={}));function mN(e){e.preventDefault()}function jH(e){e.stopPropagation()}var Ue;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ue||(Ue={}));const JA={start:[Ue.Space,Ue.Enter],cancel:[Ue.Esc],end:[Ue.Space,Ue.Enter,Ue.Tab]},NH=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Ue.Right:return{...n,x:n.x+25};case Ue.Left:return{...n,x:n.x-25};case Ue.Down:return{...n,y:n.y+25};case Ue.Up:return{...n,y:n.y-25}}};class QA{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new uc(gl(n)),this.windowListeners=new uc(yn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(or.Resize,this.handleCancel),this.windowListeners.add(or.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(or.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&XA(r),n(_r)}handleKeyDown(t){if(tp(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:a=JA,coordinateGetter:i=NH,scrollBehavior:l="smooth"}=s,{code:c}=t;if(a.end.includes(c)){this.handleEnd(t);return}if(a.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:_r;this.referenceCoordinates||(this.referenceCoordinates=d);const f=i(t,{active:n,context:r.current,currentCoordinates:d});if(f){const p=Gf(f,d),h={x:0,y:0},{scrollableAncestors:g}=r.current;for(const v of g){const b=t.code,{isTop:x,isRight:y,isLeft:w,isBottom:j,maxScroll:N,minScroll:C}=qA(v),S=vH(v),P={x:Math.min(b===Ue.Right?S.right-S.width/2:S.right,Math.max(b===Ue.Right?S.left:S.left+S.width/2,f.x)),y:Math.min(b===Ue.Down?S.bottom-S.height/2:S.bottom,Math.max(b===Ue.Down?S.top:S.top+S.height/2,f.y))},R=b===Ue.Right&&!y||b===Ue.Left&&!w,E=b===Ue.Down&&!j||b===Ue.Up&&!x;if(R&&P.x!==f.x){const D=v.scrollLeft+p.x,A=b===Ue.Right&&D<=N.x||b===Ue.Left&&D>=C.x;if(A&&!p.y){v.scrollTo({left:D,behavior:l});return}A?h.x=v.scrollLeft-D:h.x=b===Ue.Right?v.scrollLeft-N.x:v.scrollLeft-C.x,h.x&&v.scrollBy({left:-h.x,behavior:l});break}else if(E&&P.y!==f.y){const D=v.scrollTop+p.y,A=b===Ue.Down&&D<=N.y||b===Ue.Up&&D>=C.y;if(A&&!p.x){v.scrollTo({top:D,behavior:l});return}A?h.y=v.scrollTop-D:h.y=b===Ue.Down?v.scrollTop-N.y:v.scrollTop-C.y,h.y&&v.scrollBy({top:-h.y,behavior:l});break}}this.handleMove(t,Vi(Gf(f,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}QA.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=JA,onActivation:s}=t,{active:a}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const l=a.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function pN(e){return!!(e&&"distance"in e)}function hN(e){return!!(e&&"delay"in e)}class Gy{constructor(t,n,r){var s;r===void 0&&(r=wH(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:i}=a;this.props=t,this.events=n,this.document=gl(i),this.documentListeners=new uc(this.document),this.listeners=new uc(r),this.windowListeners=new uc(yn(i)),this.initialCoordinates=(s=Yf(a))!=null?s:_r,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(or.Resize,this.handleCancel),this.windowListeners.add(or.DragStart,mN),this.windowListeners.add(or.VisibilityChange,this.handleCancel),this.windowListeners.add(or.ContextMenu,mN),this.documentListeners.add(or.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(hN(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(pN(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(or.Click,jH,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(or.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:a}=this,{onMove:i,options:{activationConstraint:l}}=a;if(!s)return;const c=(n=Yf(t))!=null?n:_r,u=Gf(s,c);if(!r&&l){if(pN(l)){if(l.tolerance!=null&&eg(u,l.tolerance))return this.handleCancel();if(eg(u,l.distance))return this.handleStart()}if(hN(l)&&eg(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),i(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Ue.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const CH={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ZA extends Gy{constructor(t){const{event:n}=t,r=gl(n.target);super(t,CH,r)}}ZA.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const SH={move:{name:"mousemove"},end:{name:"mouseup"}};var dx;(function(e){e[e.RightClick=2]="RightClick"})(dx||(dx={}));class PH extends Gy{constructor(t){super(t,SH,gl(t.event.target))}}PH.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===dx.RightClick?!1:(r==null||r({event:n}),!0)}}];const tg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class EH extends Gy{constructor(t){super(t,tg)}static setup(){return window.addEventListener(tg.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(tg.move.name,t)};function t(){}}}EH.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var dc;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(dc||(dc={}));var Kf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Kf||(Kf={}));function DH(e){let{acceleration:t,activator:n=dc.Pointer,canScroll:r,draggingRect:s,enabled:a,interval:i=5,order:l=Kf.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:p}=e;const h=AH({delta:f,disabled:!a}),[g,v]=VW(),b=m.useRef({x:0,y:0}),x=m.useRef({x:0,y:0}),y=m.useMemo(()=>{switch(n){case dc.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case dc.DraggableRect:return s}},[n,s,c]),w=m.useRef(null),j=m.useCallback(()=>{const C=w.current;if(!C)return;const S=b.current.x*x.current.x,P=b.current.y*x.current.y;C.scrollBy(S,P)},[]),N=m.useMemo(()=>l===Kf.TreeOrder?[...u].reverse():u,[l,u]);m.useEffect(()=>{if(!a||!u.length||!y){v();return}for(const C of N){if((r==null?void 0:r(C))===!1)continue;const S=u.indexOf(C),P=d[S];if(!P)continue;const{direction:R,speed:E}=gH(C,P,y,t,p);for(const D of["x","y"])h[D][R[D]]||(E[D]=0,R[D]=0);if(E.x>0||E.y>0){v(),w.current=C,g(j,i),b.current=E,x.current=R;return}}b.current={x:0,y:0},x.current={x:0,y:0},v()},[t,j,r,v,a,i,JSON.stringify(y),JSON.stringify(h),g,u,N,d,JSON.stringify(p)])}const TH={x:{[It.Backward]:!1,[It.Forward]:!1},y:{[It.Backward]:!1,[It.Forward]:!1}};function AH(e){let{delta:t,disabled:n}=e;const r=Hf(t);return Tu(s=>{if(n||!r||!s)return TH;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[It.Backward]:s.x[It.Backward]||a.x===-1,[It.Forward]:s.x[It.Forward]||a.x===1},y:{[It.Backward]:s.y[It.Backward]||a.y===-1,[It.Forward]:s.y[It.Forward]||a.y===1}}},[n,t,r])}function kH(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Tu(s=>{var a;return t==null?null:(a=r??s)!=null?a:null},[r,t])}function RH(e,t){return m.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,a=s.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...a]},[]),[e,t])}var Xc;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Xc||(Xc={}));var fx;(function(e){e.Optimized="optimized"})(fx||(fx={}));const gN=new Map;function MH(e,t){let{dragging:n,dependencies:r,config:s}=t;const[a,i]=m.useState(null),{frequency:l,measure:c,strategy:u}=s,d=m.useRef(e),f=b(),p=Kc(f),h=m.useCallback(function(x){x===void 0&&(x=[]),!p.current&&i(y=>y===null?x:y.concat(x.filter(w=>!y.includes(w))))},[p]),g=m.useRef(null),v=Tu(x=>{if(f&&!n)return gN;if(!x||x===gN||d.current!==e||a!=null){const y=new Map;for(let w of e){if(!w)continue;if(a&&a.length>0&&!a.includes(w.id)&&w.rect.current){y.set(w.id,w.rect.current);continue}const j=w.node.current,N=j?new Hy(c(j),j):null;w.rect.current=N,N&&y.set(w.id,N)}return y}return x},[e,a,n,f,c]);return m.useEffect(()=>{d.current=e},[e]),m.useEffect(()=>{f||h()},[n,f]),m.useEffect(()=>{a&&a.length>0&&i(null)},[JSON.stringify(a)]),m.useEffect(()=>{f||typeof l!="number"||g.current!==null||(g.current=setTimeout(()=>{h(),g.current=null},l))},[l,f,h,...r]),{droppableRects:v,measureDroppableContainers:h,measuringScheduled:a!=null};function b(){switch(u){case Xc.Always:return!1;case Xc.BeforeDragging:return n;default:return!n}}}function Yy(e,t){return Tu(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function IH(e,t){return Yy(e,t)}function OH(e){let{callback:t,disabled:n}=e;const r=ep(t),s=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return m.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function np(e){let{callback:t,disabled:n}=e;const r=ep(t),s=m.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return m.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function $H(e){return new Hy(vl(e),e)}function vN(e,t,n){t===void 0&&(t=$H);const[r,s]=m.useState(null);function a(){s(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const i=OH({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){a();break}}}}),l=np({callback:a});return $r(()=>{a(),e?(l==null||l.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),i==null||i.disconnect())},[e]),r}function _H(e){const t=Yy(e);return zA(e,t)}const xN=[];function LH(e){const t=m.useRef(e),n=Tu(r=>e?r&&r!==xN&&e&&t.current&&e.parentNode===t.current.parentNode?r:Wy(e):xN,[e]);return m.useEffect(()=>{t.current=e},[e]),n}function FH(e){const[t,n]=m.useState(null),r=m.useRef(e),s=m.useCallback(a=>{const i=Zh(a.target);i&&n(l=>l?(l.set(i,ux(i)),new Map(l)):null)},[]);return m.useEffect(()=>{const a=r.current;if(e!==a){i(a);const l=e.map(c=>{const u=Zh(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,ux(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{i(e),i(a)};function i(l){l.forEach(c=>{const u=Zh(c);u==null||u.removeEventListener("scroll",s)})}},[s,e]),m.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,i)=>Vi(a,i),_r):KA(e):_r,[e,t])}function yN(e,t){t===void 0&&(t=[]);const n=m.useRef(null);return m.useEffect(()=>{n.current=null},t),m.useEffect(()=>{const r=e!==_r;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Gf(e,n.current):_r}function BH(e){m.useEffect(()=>{if(!Zm)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function VH(e,t){return m.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:a}=r;return n[s]=i=>{a(i,t)},n},{}),[e,t])}function ek(e){return m.useMemo(()=>e?fH(e):null,[e])}const bN=[];function zH(e,t){t===void 0&&(t=vl);const[n]=e,r=ek(n?yn(n):null),[s,a]=m.useState(bN);function i(){a(()=>e.length?e.map(c=>YA(c)?r:new Hy(t(c),c)):bN)}const l=np({callback:i});return $r(()=>{l==null||l.disconnect(),i(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),s}function tk(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Du(t)?t:e}function UH(e){let{measure:t}=e;const[n,r]=m.useState(null),s=m.useCallback(u=>{for(const{target:d}of u)if(Du(d)){r(f=>{const p=t(d);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),a=np({callback:s}),i=m.useCallback(u=>{const d=tk(u);a==null||a.disconnect(),d&&(a==null||a.observe(d)),r(d?t(d):null)},[t,a]),[l,c]=Wf(i);return m.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const WH=[{sensor:ZA,options:{}},{sensor:QA,options:{}}],HH={current:{}},Gd={draggable:{measure:fN},droppable:{measure:fN,strategy:Xc.WhileDragging,frequency:fx.Optimized},dragOverlay:{measure:vl}};class fc extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const GH={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new fc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:qf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Gd,measureDroppableContainers:qf,windowRect:null,measuringScheduled:!1},nk={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:qf,draggableNodes:new Map,over:null,measureDroppableContainers:qf},ku=m.createContext(nk),rk=m.createContext(GH);function YH(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new fc}}}function qH(e,t){switch(t.type){case Tt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Tt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Tt.DragEnd:case Tt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Tt.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new fc(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case Tt.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const i=new fc(e.droppable.containers);return i.set(n,{...a,disabled:s}),{...e,droppable:{...e.droppable,containers:i}}}case Tt.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new fc(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function KH(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=m.useContext(ku),a=Hf(r),i=Hf(n==null?void 0:n.id);return m.useEffect(()=>{if(!t&&!r&&a&&i!=null){if(!tp(a)||document.activeElement===a.target)return;const l=s.get(i);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=WW(d);if(f){f.focus();break}}})}},[r,t,s,i,a]),null}function sk(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,a)=>a({transform:s,...r}),n):n}function XH(e){return m.useMemo(()=>({draggable:{...Gd.draggable,...e==null?void 0:e.draggable},droppable:{...Gd.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Gd.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function JH(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const a=m.useRef(!1),{x:i,y:l}=typeof s=="boolean"?{x:s,y:s}:s;$r(()=>{if(!i&&!l||!t){a.current=!1;return}if(a.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=zA(d,r);if(i||(f.x=0),l||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=WA(u);p&&p.scrollBy({top:f.y,left:f.x})}},[t,i,l,r,n])}const rp=m.createContext({..._r,scaleX:1,scaleY:1});var po;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(po||(po={}));const sp=m.memo(function(t){var n,r,s,a;let{id:i,accessibility:l,autoScroll:c=!0,children:u,sensors:d=WH,collisionDetection:f=aH,measuring:p,modifiers:h,...g}=t;const v=m.useReducer(qH,void 0,YH),[b,x]=v,[y,w]=XW(),[j,N]=m.useState(po.Uninitialized),C=j===po.Initialized,{draggable:{active:S,nodes:P,translate:R},droppable:{containers:E}}=b,D=S!=null?P.get(S):null,A=m.useRef({initial:null,translated:null}),$=m.useMemo(()=>{var vt;return S!=null?{id:S,data:(vt=D==null?void 0:D.data)!=null?vt:HH,rect:A}:null},[S,D]),I=m.useRef(null),[z,V]=m.useState(null),[k,T]=m.useState(null),_=Kc(g,Object.values(g)),O=Au("DndDescribedBy",i),M=m.useMemo(()=>E.getEnabled(),[E]),F=XH(p),{droppableRects:W,measureDroppableContainers:J,measuringScheduled:ie}=MH(M,{dragging:C,dependencies:[R.x,R.y],config:F.droppable}),H=kH(P,S),U=m.useMemo(()=>k?Yf(k):null,[k]),oe=Qa(),ae=IH(H,F.draggable.measure);JH({activeNode:S!=null?P.get(S):null,config:oe.layoutShiftCompensation,initialRect:ae,measure:F.draggable.measure});const q=vN(H,F.draggable.measure,ae),de=vN(H?H.parentElement:null),ce=m.useRef({activatorEvent:null,active:null,activeNode:H,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Pe=E.getNodeFor((n=ce.current.over)==null?void 0:n.id),ke=UH({measure:F.dragOverlay.measure}),Xe=(r=ke.nodeRef.current)!=null?r:H,Y=C?(s=ke.rect)!=null?s:q:null,re=!!(ke.nodeRef.current&&ke.rect),Oe=_H(re?null:q),Ke=ek(Xe?yn(Xe):null),gt=LH(C?Pe??H:null),br=zH(gt),tr=sk(h,{transform:{x:R.x-Oe.x,y:R.y-Oe.y,scaleX:1,scaleY:1},activatorEvent:k,active:$,activeNodeRect:q,containerNodeRect:de,draggingNodeRect:Y,over:ce.current.over,overlayNodeRect:ke.rect,scrollableAncestors:gt,scrollableAncestorRects:br,windowRect:Ke}),vs=U?Vi(U,R):null,ea=FH(gt),ta=yN(ea),Qs=yN(ea,[q]),bn=Vi(tr,ta),X=Y?cH(Y,tr):null,se=$&&X?f({active:$,collisionRect:X,droppableRects:W,droppableContainers:M,pointerCoordinates:vs}):null,te=sH(se,"id"),[me,$e]=m.useState(null),ze=re?tr:Vi(tr,Qs),Be=iH(ze,(a=me==null?void 0:me.rect)!=null?a:null,q),Je=m.useRef(null),$n=m.useCallback((vt,bt)=>{let{sensor:Rt,options:Ve}=bt;if(I.current==null)return;const We=P.get(I.current);if(!We)return;const _e=vt.nativeEvent,wn=new Rt({active:I.current,activeNode:We,event:_e,options:Ve,context:ce,onAbort(Ct){if(!P.get(Ct))return;const{onDragAbort:Ln}=_.current,qt={id:Ct};Ln==null||Ln(qt),y({type:"onDragAbort",event:qt})},onPending(Ct,zr,Ln,qt){if(!P.get(Ct))return;const{onDragPending:to}=_.current,Ur={id:Ct,constraint:zr,initialCoordinates:Ln,offset:qt};to==null||to(Ur),y({type:"onDragPending",event:Ur})},onStart(Ct){const zr=I.current;if(zr==null)return;const Ln=P.get(zr);if(!Ln)return;const{onDragStart:qt}=_.current,eo={activatorEvent:_e,active:{id:zr,data:Ln.data,rect:A}};$t.unstable_batchedUpdates(()=>{qt==null||qt(eo),N(po.Initializing),x({type:Tt.DragStart,initialCoordinates:Ct,active:zr}),y({type:"onDragStart",event:eo}),V(Je.current),T(_e)})},onMove(Ct){x({type:Tt.DragMove,coordinates:Ct})},onEnd:Zs(Tt.DragEnd),onCancel:Zs(Tt.DragCancel)});Je.current=wn;function Zs(Ct){return async function(){const{active:Ln,collisions:qt,over:eo,scrollAdjustedTranslate:to}=ce.current;let Ur=null;if(Ln&&to){const{cancelDrop:na}=_.current;Ur={activatorEvent:_e,active:Ln,collisions:qt,delta:to,over:eo},Ct===Tt.DragEnd&&typeof na=="function"&&await Promise.resolve(na(Ur))&&(Ct=Tt.DragCancel)}I.current=null,$t.unstable_batchedUpdates(()=>{x({type:Ct}),N(po.Uninitialized),$e(null),V(null),T(null),Je.current=null;const na=Ct===Tt.DragEnd?"onDragEnd":"onDragCancel";if(Ur){const ys=_.current[na];ys==null||ys(Ur),y({type:na,event:Ur})}})}}},[P]),xs=m.useCallback((vt,bt)=>(Rt,Ve)=>{const We=Rt.nativeEvent,_e=P.get(Ve);if(I.current!==null||!_e||We.dndKit||We.defaultPrevented)return;const wn={active:_e};vt(Rt,bt.options,wn)===!0&&(We.dndKit={capturedBy:bt.sensor},I.current=Ve,$n(Rt,bt))},[P,$n]),_n=RH(d,xs);BH(d),$r(()=>{q&&j===po.Initializing&&N(po.Initialized)},[q,j]),m.useEffect(()=>{const{onDragMove:vt}=_.current,{active:bt,activatorEvent:Rt,collisions:Ve,over:We}=ce.current;if(!bt||!Rt)return;const _e={active:bt,activatorEvent:Rt,collisions:Ve,delta:{x:bn.x,y:bn.y},over:We};$t.unstable_batchedUpdates(()=>{vt==null||vt(_e),y({type:"onDragMove",event:_e})})},[bn.x,bn.y]),m.useEffect(()=>{const{active:vt,activatorEvent:bt,collisions:Rt,droppableContainers:Ve,scrollAdjustedTranslate:We}=ce.current;if(!vt||I.current==null||!bt||!We)return;const{onDragOver:_e}=_.current,wn=Ve.get(te),Zs=wn&&wn.rect.current?{id:wn.id,rect:wn.rect.current,data:wn.data,disabled:wn.disabled}:null,Ct={active:vt,activatorEvent:bt,collisions:Rt,delta:{x:We.x,y:We.y},over:Zs};$t.unstable_batchedUpdates(()=>{$e(Zs),_e==null||_e(Ct),y({type:"onDragOver",event:Ct})})},[te]),$r(()=>{ce.current={activatorEvent:k,active:$,activeNode:H,collisionRect:X,collisions:se,droppableRects:W,draggableNodes:P,draggingNode:Xe,draggingNodeRect:Y,droppableContainers:E,over:me,scrollableAncestors:gt,scrollAdjustedTranslate:bn},A.current={initial:Y,translated:X}},[$,H,se,X,P,Xe,Y,W,E,me,gt,bn]),DH({...oe,delta:R,draggingRect:X,pointerCoordinates:vs,scrollableAncestors:gt,scrollableAncestorRects:br});const Xa=m.useMemo(()=>({active:$,activeNode:H,activeNodeRect:q,activatorEvent:k,collisions:se,containerNodeRect:de,dragOverlay:ke,draggableNodes:P,droppableContainers:E,droppableRects:W,over:me,measureDroppableContainers:J,scrollableAncestors:gt,scrollableAncestorRects:br,measuringConfiguration:F,measuringScheduled:ie,windowRect:Ke}),[$,H,q,k,se,de,ke,P,E,W,me,J,gt,br,F,ie,Ke]),Ja=m.useMemo(()=>({activatorEvent:k,activators:_n,active:$,activeNodeRect:q,ariaDescribedById:{draggable:O},dispatch:x,draggableNodes:P,over:me,measureDroppableContainers:J}),[k,_n,$,q,x,O,P,me,J]);return G.createElement(VA.Provider,{value:w},G.createElement(ku.Provider,{value:Ja},G.createElement(rk.Provider,{value:Xa},G.createElement(rp.Provider,{value:Be},u)),G.createElement(KH,{disabled:(l==null?void 0:l.restoreFocus)===!1})),G.createElement(ZW,{...l,hiddenTextDescribedById:O}));function Qa(){const vt=(z==null?void 0:z.autoScrollEnabled)===!1,bt=typeof c=="object"?c.enabled===!1:c===!1,Rt=C&&!vt&&!bt;return typeof c=="object"?{...c,enabled:Rt}:{enabled:Rt}}}),QH=m.createContext(null),wN="button",ZH="Draggable";function eG(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const a=Au(ZH),{activators:i,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:p}=m.useContext(ku),{role:h=wN,roleDescription:g="draggable",tabIndex:v=0}=s??{},b=(c==null?void 0:c.id)===t,x=m.useContext(b?rp:QH),[y,w]=Wf(),[j,N]=Wf(),C=VH(i,t),S=Kc(n);$r(()=>(f.set(t,{id:t,key:a,node:y,activatorNode:j,data:S}),()=>{const R=f.get(t);R&&R.key===a&&f.delete(t)}),[f,t]);const P=m.useMemo(()=>({role:h,tabIndex:v,"aria-disabled":r,"aria-pressed":b&&h===wN?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[r,h,v,b,g,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:P,isDragging:b,listeners:r?void 0:C,node:y,over:p,setNodeRef:w,setActivatorNodeRef:N,transform:x}}function ok(){return m.useContext(rk)}const tG="Droppable",nG={timeout:25};function rG(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const a=Au(tG),{active:i,dispatch:l,over:c,measureDroppableContainers:u}=m.useContext(ku),d=m.useRef({disabled:n}),f=m.useRef(!1),p=m.useRef(null),h=m.useRef(null),{disabled:g,updateMeasurementsFor:v,timeout:b}={...nG,...s},x=Kc(v??r),y=m.useCallback(()=>{if(!f.current){f.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),h.current=null},b)},[b]),w=np({callback:y,disabled:g||!i}),j=m.useCallback((P,R)=>{w&&(R&&(w.unobserve(R),f.current=!1),P&&w.observe(P))},[w]),[N,C]=Wf(j),S=Kc(t);return m.useEffect(()=>{!w||!N.current||(w.disconnect(),f.current=!1,w.observe(N.current))},[N,w]),m.useEffect(()=>(l({type:Tt.RegisterDroppable,element:{id:r,key:a,disabled:n,node:N,rect:p,data:S}}),()=>l({type:Tt.UnregisterDroppable,key:a,id:r})),[r]),m.useEffect(()=>{n!==d.current.disabled&&(l({type:Tt.SetDroppableDisabled,id:r,key:a,disabled:n}),d.current.disabled=n)},[r,a,n,l]),{active:i,rect:p,isOver:(c==null?void 0:c.id)===r,node:N,over:c,setNodeRef:C}}function sG(e){let{animation:t,children:n}=e;const[r,s]=m.useState(null),[a,i]=m.useState(null),l=Hf(n);return!n&&!r&&l&&s(l),$r(()=>{if(!a)return;const c=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(c==null||u==null){s(null);return}Promise.resolve(t(u,a)).then(()=>{s(null)})},[t,r,a]),G.createElement(G.Fragment,null,n,r?m.cloneElement(r,{ref:i}):null)}const oG={x:0,y:0,scaleX:1,scaleY:1};function aG(e){let{children:t}=e;return G.createElement(ku.Provider,{value:nk},G.createElement(rp.Provider,{value:oG},t))}const iG={position:"fixed",touchAction:"none"},lG=e=>tp(e)?"transform 250ms ease":void 0,cG=m.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:s,children:a,className:i,rect:l,style:c,transform:u,transition:d=lG}=e;if(!l)return null;const f=s?u:{...u,scaleX:1,scaleY:1},p={...iG,width:l.width,height:l.height,top:l.top,left:l.left,transform:Ws.Transform.toString(f),transformOrigin:s&&r?tH(r,l):void 0,transition:typeof d=="function"?d(r):d,...c};return G.createElement(n,{className:i,style:p,ref:t},a)}),uG=e=>t=>{let{active:n,dragOverlay:r}=t;const s={},{styles:a,className:i}=e;if(a!=null&&a.active)for(const[l,c]of Object.entries(a.active))c!==void 0&&(s[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(a!=null&&a.dragOverlay)for(const[l,c]of Object.entries(a.dragOverlay))c!==void 0&&r.node.style.setProperty(l,c);return i!=null&&i.active&&n.node.classList.add(i.active),i!=null&&i.dragOverlay&&r.node.classList.add(i.dragOverlay),function(){for(const[c,u]of Object.entries(s))n.node.style.setProperty(c,u);i!=null&&i.active&&n.node.classList.remove(i.active)}},dG=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Ws.Transform.toString(t)},{transform:Ws.Transform.toString(n)}]},fG={duration:250,easing:"ease",keyframes:dG,sideEffects:uG({styles:{active:{opacity:"0"}}})};function mG(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=e;return ep((a,i)=>{if(t===null)return;const l=n.get(a);if(!l)return;const c=l.node.current;if(!c)return;const u=tk(i);if(!u)return;const{transform:d}=yn(i).getComputedStyle(i),f=UA(d);if(!f)return;const p=typeof t=="function"?t:pG(t);return XA(c,s.draggable.measure),p({active:{id:a,data:l.data,node:c,rect:s.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:i,rect:s.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:s,transform:f})})}function pG(e){const{duration:t,easing:n,sideEffects:r,keyframes:s}={...fG,...e};return a=>{let{active:i,dragOverlay:l,transform:c,...u}=a;if(!t)return;const d={x:l.rect.left-i.rect.left,y:l.rect.top-i.rect.top},f={scaleX:c.scaleX!==1?i.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?i.rect.height*c.scaleY/l.rect.height:1},p={x:c.x-d.x,y:c.y-d.y,...f},h=s({...u,active:i,dragOverlay:l,transform:{initial:c,final:p}}),[g]=h,v=h[h.length-1];if(JSON.stringify(g)===JSON.stringify(v))return;const b=r==null?void 0:r({active:i,dragOverlay:l,...u}),x=l.node.animate(h,{duration:t,easing:n,fill:"forwards"});return new Promise(y=>{x.onfinish=()=>{b==null||b(),y()}})}}let jN=0;function hG(e){return m.useMemo(()=>{if(e!=null)return jN++,jN},[e])}const gG=G.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:s,transition:a,modifiers:i,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:p,containerNodeRect:h,draggableNodes:g,droppableContainers:v,dragOverlay:b,over:x,measuringConfiguration:y,scrollableAncestors:w,scrollableAncestorRects:j,windowRect:N}=ok(),C=m.useContext(rp),S=hG(f==null?void 0:f.id),P=sk(i,{activatorEvent:d,active:f,activeNodeRect:p,containerNodeRect:h,draggingNodeRect:b.rect,over:x,overlayNodeRect:b.rect,scrollableAncestors:w,scrollableAncestorRects:j,transform:C,windowRect:N}),R=Yy(p),E=mG({config:r,draggableNodes:g,droppableContainers:v,measuringConfiguration:y}),D=R?b.setRef:void 0;return G.createElement(aG,null,G.createElement(sG,{animation:E},f&&S?G.createElement(cG,{key:S,id:f.id,ref:D,as:l,activatorEvent:d,adjustScale:t,className:c,transition:a,rect:R,style:{zIndex:u,...s},transform:P},n):null))});function ak(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function vG(e,t){return e.reduce((n,r,s)=>{const a=t.get(r);return a&&(n[s]=a),n},Array(e.length))}function gd(e){return e!==null&&e>=0}function xG(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function yG(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const ik=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const a=ak(t,r,n),i=t[s],l=a[s];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},vd={scaleX:1,scaleY:1},op=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:s,rects:a,overIndex:i}=e;const l=(t=a[n])!=null?t:r;if(!l)return null;if(s===n){const u=a[i];return u?{x:0,y:n<i?u.top+u.height-(l.top+l.height):u.top-l.top,...vd}:null}const c=bG(a,s,n);return s>n&&s<=i?{x:0,y:-l.height-c,...vd}:s<n&&s>=i?{x:0,y:l.height+c,...vd}:{x:0,y:0,...vd}};function bG(e,t,n){const r=e[t],s=e[t-1],a=e[t+1];return r?n<t?s?r.top-(s.top+s.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const lk="Sortable",ck=G.createContext({activeIndex:-1,containerId:lk,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ik,disabled:{draggable:!1,droppable:!1}});function ap(e){let{children:t,id:n,items:r,strategy:s=ik,disabled:a=!1}=e;const{active:i,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=ok(),f=Au(lk,n),p=l.rect!==null,h=m.useMemo(()=>r.map(C=>typeof C=="object"&&"id"in C?C.id:C),[r]),g=i!=null,v=i?h.indexOf(i.id):-1,b=u?h.indexOf(u.id):-1,x=m.useRef(h),y=!xG(h,x.current),w=b!==-1&&v===-1||y,j=yG(a);$r(()=>{y&&g&&d(h)},[y,h,g,d]),m.useEffect(()=>{x.current=h},[h]);const N=m.useMemo(()=>({activeIndex:v,containerId:f,disabled:j,disableTransforms:w,items:h,overIndex:b,useDragOverlay:p,sortedRects:vG(h,c),strategy:s}),[v,f,j.draggable,j.droppable,w,h,b,c,p,s]);return G.createElement(ck.Provider,{value:N},t)}const wG=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return ak(n,r,s).indexOf(t)},jG=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:a,newIndex:i,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!r||l!==a&&s===i?!1:n?!0:i!==s&&t===c},NG={duration:200,easing:"ease"},uk="transform",CG=Ws.Transition.toString({property:uk,duration:0,easing:"linear"}),SG={roleDescription:"sortable"};function PG(e){let{disabled:t,index:n,node:r,rect:s}=e;const[a,i]=m.useState(null),l=m.useRef(n);return $r(()=>{if(!t&&n!==l.current&&r.current){const c=s.current;if(c){const u=vl(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&i(d)}}n!==l.current&&(l.current=n)},[t,n,r,s]),m.useEffect(()=>{a&&i(null)},[a]),a}function dk(e){let{animateLayoutChanges:t=jG,attributes:n,disabled:r,data:s,getNewIndex:a=wG,id:i,strategy:l,resizeObserverConfig:c,transition:u=NG}=e;const{items:d,containerId:f,activeIndex:p,disabled:h,disableTransforms:g,sortedRects:v,overIndex:b,useDragOverlay:x,strategy:y}=m.useContext(ck),w=EG(r,h),j=d.indexOf(i),N=m.useMemo(()=>({sortable:{containerId:f,index:j,items:d},...s}),[f,s,j,d]),C=m.useMemo(()=>d.slice(d.indexOf(i)),[d,i]),{rect:S,node:P,isOver:R,setNodeRef:E}=rG({id:i,data:N,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...c}}),{active:D,activatorEvent:A,activeNodeRect:$,attributes:I,setNodeRef:z,listeners:V,isDragging:k,over:T,setActivatorNodeRef:_,transform:O}=eG({id:i,data:N,attributes:{...SG,...n},disabled:w.draggable}),M=BW(E,z),F=!!D,W=F&&!g&&gd(p)&&gd(b),J=!x&&k,ie=J&&W?O:null,U=W?ie??(l??y)({rects:v,activeNodeRect:$,activeIndex:p,overIndex:b,index:j}):null,oe=gd(p)&&gd(b)?a({id:i,items:d,activeIndex:p,overIndex:b}):j,ae=D==null?void 0:D.id,q=m.useRef({activeId:ae,items:d,newIndex:oe,containerId:f}),de=d!==q.current.items,ce=t({active:D,containerId:f,isDragging:k,isSorting:F,id:i,index:j,items:d,newIndex:q.current.newIndex,previousItems:q.current.items,previousContainerId:q.current.containerId,transition:u,wasDragging:q.current.activeId!=null}),Pe=PG({disabled:!ce,index:j,node:P,rect:S});return m.useEffect(()=>{F&&q.current.newIndex!==oe&&(q.current.newIndex=oe),f!==q.current.containerId&&(q.current.containerId=f),d!==q.current.items&&(q.current.items=d)},[F,oe,f,d]),m.useEffect(()=>{if(ae===q.current.activeId)return;if(ae&&!q.current.activeId){q.current.activeId=ae;return}const Xe=setTimeout(()=>{q.current.activeId=ae},50);return()=>clearTimeout(Xe)},[ae]),{active:D,activeIndex:p,attributes:I,data:N,rect:S,index:j,newIndex:oe,items:d,isOver:R,isSorting:F,isDragging:k,listeners:V,node:P,overIndex:b,over:T,setNodeRef:M,setActivatorNodeRef:_,setDroppableNodeRef:E,setDraggableNodeRef:z,transform:Pe??U,transition:ke()};function ke(){if(Pe||de&&q.current.newIndex===j)return CG;if(!(J&&!tp(A)||!u)&&(F||ce))return Ws.Transition.toString({...u,property:uk})}}function EG(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}Ue.Down,Ue.Right,Ue.Up,Ue.Left;const DG={ACC:"bg-blue-100 text-blue-800",Autonomie:"bg-green-100 text-green-800",Centrale:"bg-orange-100 text-orange-800",Investissement:"bg-teal-100 text-teal-800",ProducteurPro:"bg-purple-100 text-purple-800"},TG=({prospect:e,onClick:t})=>{const{attributes:n,listeners:r,setNodeRef:s,transform:a,transition:i,isDragging:l}=dk({id:e.id,data:{prospect:e}}),c={transform:Ws.Transform.toString(a),transition:i,zIndex:l?10:"auto",opacity:l?.8:1},u=e.tags||[],d=e.hasAppointment||!1,f=e.name||"Nom manquant";return o.jsx("div",{ref:s,style:c,...n,...r,children:o.jsxs(ee.div,{layoutId:`prospect-card-${e.id}`,whileHover:{y:-4,scale:1.02},onClick:t,className:"bg-white rounded-xl shadow-card hover:shadow-soft p-4 cursor-grab active:cursor-grabbing transition-all",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:"font-semibold text-gray-800",children:f}),d&&o.jsxs("div",{className:"flex items-center text-xs text-yellow-600 bg-yellow-100 px-2 py-1 rounded-full",children:[o.jsx(gr,{className:"h-3 w-3 mr-1"}),o.jsx("span",{children:"RDV"})]})]}),u.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:u.map((p,h)=>o.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${DG[p]||"bg-gray-100 text-gray-800"}`,children:p},`${p}-${h}`))})]})})},fe=G.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));fe.displayName="Input";var AG="Label",fk=m.forwardRef((e,t)=>o.jsx(Me.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));fk.displayName=AG;var mk=fk;const kG=Dm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Z=G.forwardRef(({className:e,...t},n)=>o.jsx(mk,{ref:n,className:le(kG(),e),...t}));Z.displayName=mk.displayName;const RG={ACC:"bg-blue-100 text-blue-800",Autonomie:"bg-green-100 text-green-800",Centrale:"bg-orange-100 text-orange-800",Investissement:"bg-teal-100 text-teal-800",ProducteurPro:"bg-purple-100 text-purple-800"},pk=({prospect:e,onBack:t,onUpdate:n})=>{const{users:r={},projectsData:s={}}=Ce(),[a,i]=m.useState(!1),[l,c]=m.useState({...e});m.useEffect(()=>{c({...e})},[e]);const u=()=>{n&&(n(l),K({title:"✅ Contact mis à jour !",description:"Les modifications ont été sauvegardées."})),i(!1)},d=()=>{c({...e}),i(!1)},f=(g,v)=>{c(b=>({...b,[g]:v}))},p=g=>{const v=r[g];return v?v.name:"Non assigné"},h=g=>{const v=Object.values(s).find(b=>b.type===g);return v?v.title:g};return o.jsxs(ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(B,{variant:"outline",size:"sm",onClick:t,className:"flex items-center space-x-2",children:[o.jsx(Ic,{className:"w-4 h-4"}),o.jsx("span",{children:"Retour"})]}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a?"Modifier le contact":"Détails du contact"})]}),o.jsx("div",{className:"flex items-center space-x-2",children:a?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(B,{variant:"outline",onClick:d,className:"flex items-center space-x-2",children:[o.jsx(Br,{className:"w-4 h-4"}),o.jsx("span",{children:"Annuler"})]}),o.jsxs(B,{onClick:u,className:"flex items-center space-x-2",children:[o.jsx(V0,{className:"w-4 h-4"}),o.jsx("span",{children:"Sauvegarder"})]})]}):o.jsxs(B,{onClick:()=>i(!0),className:"flex items-center space-x-2",children:[o.jsx(Oc,{className:"w-4 h-4"}),o.jsx("span",{children:"Modifier"})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-soft",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(hs,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a?o.jsx(fe,{value:l.name||"",onChange:g=>f("name",g.target.value),className:"text-xl font-semibold"}):e.name}),o.jsx("p",{className:"text-gray-500",children:"Contact"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Z,{className:"text-sm font-medium text-gray-700 flex items-center space-x-2",children:[o.jsx(Lt,{className:"w-4 h-4"}),o.jsx("span",{children:"Email"})]}),a?o.jsx(fe,{type:"email",value:l.email||"",onChange:g=>f("email",g.target.value)}):o.jsx("p",{className:"text-gray-900",children:e.email})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Z,{className:"text-sm font-medium text-gray-700 flex items-center space-x-2",children:[o.jsx(yt,{className:"w-4 h-4"}),o.jsx("span",{children:"Téléphone"})]}),a?o.jsx(fe,{value:l.phone||"",onChange:g=>f("phone",g.target.value)}):o.jsx("p",{className:"text-gray-900",children:e.phone})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Z,{className:"text-sm font-medium text-gray-700 flex items-center space-x-2",children:[o.jsx(Tm,{className:"w-4 h-4"}),o.jsx("span",{children:"Propriétaire"})]}),a?o.jsx("select",{value:l.ownerId||"",onChange:g=>f("ownerId",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:Object.values(r).map(g=>o.jsx("option",{value:g.id,children:g.name},g.id))}):o.jsx("p",{className:"text-gray-900",children:p(e.ownerId)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{className:"text-sm font-medium text-gray-700",children:"Statut"}),a?o.jsxs("select",{value:l.status||"Intéressé",onChange:g=>f("status",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Intéressé",children:"Intéressé"}),o.jsx("option",{value:"Contacté",children:"Contacté"}),o.jsx("option",{value:"Qualifié",children:"Qualifié"}),o.jsx("option",{value:"Négociation",children:"Négociation"}),o.jsx("option",{value:"Terminé",children:"Terminé"})]}):o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.status||"Intéressé"})]})]})]})}),e.tags&&e.tags.length>0&&o.jsxs("div",{className:"bg-white rounded-lg shadow-soft p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Projets d'intérêt"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(g=>o.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${RG[g]||"bg-gray-100 text-gray-800"}`,children:h(g)},g))})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-soft p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions rapides"}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs(B,{variant:"outline",className:"flex items-center space-x-2",children:[o.jsx(yt,{className:"w-4 h-4"}),o.jsx("span",{children:"Appeler"})]}),o.jsxs(B,{variant:"outline",className:"flex items-center space-x-2",children:[o.jsx(Lt,{className:"w-4 h-4"}),o.jsx("span",{children:"Envoyer un email"})]}),o.jsxs(B,{variant:"outline",className:"flex items-center space-x-2",children:[o.jsx("span",{children:"📅"}),o.jsx("span",{children:"Planifier RDV"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-soft p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notes"}),a?o.jsx("textarea",{value:l.notes||"",onChange:g=>f("notes",g.target.value),placeholder:"Ajouter des notes...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4}):o.jsx("p",{className:"text-gray-600",children:e.notes||"Aucune note pour ce contact."})]})]})};function hk(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ip="Checkbox",[MG,$oe]=Fr(ip),[IG,qy]=MG(ip);function OG(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:a,form:i,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[p,h]=Ua({prop:n,defaultProp:s??!1,onChange:c,caller:ip}),[g,v]=m.useState(null),[b,x]=m.useState(null),y=m.useRef(!1),w=g?!!i||!!g.closest("form"):!0,j={checked:p,disabled:a,setChecked:h,control:g,setControl:v,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:Ro(s)?!1:s,isFormControl:w,bubbleInput:b,setBubbleInput:x};return o.jsx(IG,{scope:t,...j,children:$G(f)?f(j):r})}var gk="CheckboxTrigger",vk=m.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:a,value:i,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:g}=qy(gk,e),v=Qe(s,d),b=m.useRef(c);return m.useEffect(()=>{const x=a==null?void 0:a.form;if(x){const y=()=>f(b.current);return x.addEventListener("reset",y),()=>x.removeEventListener("reset",y)}},[a,f]),o.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":Ro(c)?"mixed":c,"aria-required":u,"data-state":jk(c),"data-disabled":l?"":void 0,disabled:l,value:i,...r,ref:v,onKeyDown:ge(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:ge(n,x=>{f(y=>Ro(y)?!0:!y),g&&h&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})})});vk.displayName=gk;var Ky=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:i,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return o.jsx(OG,{__scopeCheckbox:n,checked:s,defaultChecked:a,disabled:l,required:i,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>o.jsxs(o.Fragment,{children:[o.jsx(vk,{...f,ref:t,__scopeCheckbox:n}),p&&o.jsx(wk,{__scopeCheckbox:n})]})})});Ky.displayName=ip;var xk="CheckboxIndicator",yk=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=qy(xk,n);return o.jsx(xr,{present:r||Ro(a.checked)||a.checked===!0,children:o.jsx(Me.span,{"data-state":jk(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});yk.displayName=xk;var bk="CheckboxBubbleInput",wk=m.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:i,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:p,setBubbleInput:h}=qy(bk,e),g=Qe(n,h),v=hk(a),b=xy(r);m.useEffect(()=>{const y=p;if(!y)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,C=!s.current;if(v!==a&&N){const S=new Event("click",{bubbles:C});y.indeterminate=Ro(a),N.call(y,Ro(a)?!1:a),y.dispatchEvent(S)}},[p,v,a,s]);const x=m.useRef(Ro(a)?!1:a);return o.jsx(Me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??x.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});wk.displayName=bk;function $G(e){return typeof e=="function"}function Ro(e){return e==="indeterminate"}function jk(e){return Ro(e)?"indeterminate":e?"checked":"unchecked"}const Mn=G.forwardRef(({className:e,...t},n)=>o.jsx(Ky,{ref:n,className:le("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(yk,{className:le("flex items-center justify-center text-current"),children:o.jsx(fn,{className:"h-4 w-4"})})}));Mn.displayName=Ky.displayName;let Nk,Ck,Sk,Pk,Ek,Dk,Tk;try{const e=require("@/components/ui/dialog");Nk=e.Dialog,Ck=e.DialogContent,Sk=e.DialogHeader,Pk=e.DialogTitle,Ek=e.DialogDescription,Dk=e.DialogFooter,Tk=e.DialogClose}catch{console.warn("Dialog components not available, using fallback")}const _G=({open:e,onOpenChange:t,children:n})=>e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-auto",children:n})}):null,LG=({children:e,className:t})=>o.jsx("div",{className:t,children:e}),FG=({children:e})=>o.jsx("div",{className:"p-6 pb-4",children:e}),BG=({children:e})=>o.jsx("h2",{className:"text-lg font-semibold",children:e}),VG=({children:e})=>o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e}),zG=({children:e})=>o.jsx("div",{className:"flex justify-end gap-2 p-6 pt-4",children:e}),UG=({children:e,asChild:t,...n})=>t?G.cloneElement(e,n):o.jsx("button",{...n,children:e}),Xy=({open:e,onOpenChange:t,onAddProspect:n})=>{const{currentUser:r,activeAdminUser:s,projectsData:a={},formContactConfig:i=[]}=Ce(),l=Object.values(a).filter(N=>N.isPublic),c=()=>{const N=i.reduce((C,S)=>(C[S.id]="",C),{});return N.tags=[],N},[u,d]=m.useState(c());m.useEffect(()=>{e&&d(c())},[e,i]);const f=N=>{const{id:C,value:S}=N.target;d(P=>({...P,[C]:S}))},p=N=>{d(C=>{const S=C.tags.includes(N)?C.tags.filter(P=>P!==N):[...C.tags,N];return{...C,tags:S}})},h=N=>{var P;N.preventDefault();const C=i.find(R=>R.required);if(C&&!u[C.id]){K({title:"Champs requis",description:`Le champ "${C.name.replace("*","")}" est obligatoire.`,variant:"destructive"});return}if(!u.email){K({title:"Champs requis",description:"L'email est obligatoire.",variant:"destructive"});return}const S={id:`prospect-${Date.now()}`,...u,tags:u.tags,hasAppointment:!1,ownerId:((P=r||s)==null?void 0:P.id)||"user-1"};n(S),K({title:"✅ Prospect ajouté !",description:`${S.name} a été ajouté à la colonne "Intéressé".`}),t(!1)},g=Nk||_G,v=Ck||LG,b=Sk||FG,x=Pk||BG,y=Ek||VG,w=Dk||zG,j=Tk||UG;return o.jsx(g,{open:e,onOpenChange:t,children:o.jsxs(v,{className:"sm:max-w-md",children:[o.jsxs(b,{children:[o.jsx(x,{children:"Ajouter un nouveau prospect"}),o.jsx(y,{children:"Remplissez les informations pour créer un nouveau prospect."})]}),o.jsxs("form",{onSubmit:h,children:[o.jsxs("div",{className:"grid gap-4 py-4 px-6",children:[i.map(N=>o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Z,{htmlFor:N.id,className:"text-right",children:N.name}),o.jsx(fe,{id:N.id,type:N.type,value:u[N.id]||"",onChange:f,placeholder:N.placeholder,className:"col-span-3",required:N.required})]},N.id)),l.length>0&&o.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[o.jsx(Z,{className:"text-right pt-2",children:"Projets"}),o.jsx("div",{className:"col-span-3 grid grid-cols-2 gap-2",children:l.map(N=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Mn,{id:`tag-${N.type}`,checked:u.tags.includes(N.type),onCheckedChange:()=>p(N.type)}),o.jsx(Z,{htmlFor:`tag-${N.type}`,className:"font-normal",children:N.title})]},N.type))})]})]}),o.jsxs(w,{children:[o.jsx(j,{asChild:!0,children:o.jsx(B,{type:"button",variant:"secondary",onClick:()=>t(!1),children:"Annuler"})}),o.jsx(B,{type:"submit",children:"Créer le prospect"})]})]})]})})};var NN=1,WG=.9,HG=.8,GG=.17,ng=.1,rg=.999,YG=.9999,qG=.99,KG=/[\\\/_+.#"@\[\(\{&]/,XG=/[\\\/_+.#"@\[\(\{&]/g,JG=/[\s-]/,Ak=/[\s-]/g;function mx(e,t,n,r,s,a,i){if(a===t.length)return s===e.length?NN:qG;var l=`${s},${a}`;if(i[l]!==void 0)return i[l];for(var c=r.charAt(a),u=n.indexOf(c,s),d=0,f,p,h,g;u>=0;)f=mx(e,t,n,r,u+1,a+1,i),f>d&&(u===s?f*=NN:KG.test(e.charAt(u-1))?(f*=HG,h=e.slice(s,u-1).match(XG),h&&s>0&&(f*=Math.pow(rg,h.length))):JG.test(e.charAt(u-1))?(f*=WG,g=e.slice(s,u-1).match(Ak),g&&s>0&&(f*=Math.pow(rg,g.length))):(f*=GG,s>0&&(f*=Math.pow(rg,u-s))),e.charAt(u)!==t.charAt(a)&&(f*=YG)),(f<ng&&n.charAt(u-1)===r.charAt(a+1)||r.charAt(a+1)===r.charAt(a)&&n.charAt(u-1)!==r.charAt(a))&&(p=mx(e,t,n,r,u+1,a+2,i),p*ng>f&&(f=p*ng)),f>d&&(d=f),u=n.indexOf(c,u+1);return i[l]=d,d}function CN(e){return e.toLowerCase().replace(Ak," ")}function QG(e,t){return mx(e,t,CN(e),CN(t),0,0,{})}function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne.apply(null,arguments)}function zi(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function ZG(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function kk(...e){return t=>e.forEach(n=>ZG(n,t))}function Ru(...e){return m.useCallback(kk(...e),e)}function eY(e,t=[]){let n=[];function r(a,i){const l=m.createContext(i),c=n.length;n=[...n,i];function u(f){const{scope:p,children:h,...g}=f,v=(p==null?void 0:p[e][c])||l,b=m.useMemo(()=>g,Object.values(g));return m.createElement(v.Provider,{value:b},h)}function d(f,p){const h=(p==null?void 0:p[e][c])||l,g=m.useContext(h);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,tY(s,...t)]}function tY(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}const px=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},nY=iu["useId".toString()]||(()=>{});let rY=0;function sg(e){const[t,n]=m.useState(nY());return px(()=>{e||n(r=>r??String(rY++))},[e]),e||(t?`radix-${t}`:"")}function Ma(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function sY({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=oY({defaultProp:t,onChange:n}),a=e!==void 0,i=a?e:r,l=Ma(n),c=m.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[a,e,s,l]);return[i,c]}function oY({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,s=m.useRef(r),a=Ma(t);return m.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}const Jy=m.forwardRef((e,t)=>{const{children:n,...r}=e,s=m.Children.toArray(n),a=s.find(iY);if(a){const i=a.props.children,l=s.map(c=>c===a?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return m.createElement(hx,Ne({},r,{ref:t}),m.isValidElement(i)?m.cloneElement(i,void 0,l):null)}return m.createElement(hx,Ne({},r,{ref:t}),n)});Jy.displayName="Slot";const hx=m.forwardRef((e,t)=>{const{children:n,...r}=e;return m.isValidElement(n)?m.cloneElement(n,{...lY(r,n.props),ref:kk(t,n.ref)}):m.Children.count(n)>1?m.Children.only(null):null});hx.displayName="SlotClone";const aY=({children:e})=>m.createElement(m.Fragment,null,e);function iY(e){return m.isValidElement(e)&&e.type===aY}function lY(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?n[r]=(...l)=>{a==null||a(...l),s==null||s(...l)}:r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}const cY=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],lp=cY.reduce((e,t)=>{const n=m.forwardRef((r,s)=>{const{asChild:a,...i}=r,l=a?Jy:t;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(l,Ne({},i,{ref:s}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function uY(e,t){e&&$t.flushSync(()=>e.dispatchEvent(t))}function dY(e){const t=Ma(e);m.useEffect(()=>{const n=r=>{r.key==="Escape"&&t(r)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t])}const gx="dismissableLayer.update",fY="dismissableLayer.pointerDownOutside",mY="dismissableLayer.focusOutside";let SN;const pY=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hY=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(pY),[d,f]=m.useState(null),[,p]=m.useState({}),h=Ru(t,C=>f(C)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(v),x=d?g.indexOf(d):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,w=x>=b,j=gY(C=>{const S=C.target,P=[...u.branches].some(R=>R.contains(S));!w||P||(s==null||s(C),i==null||i(C),C.defaultPrevented||l==null||l())}),N=vY(C=>{const S=C.target;[...u.branches].some(R=>R.contains(S))||(a==null||a(C),i==null||i(C),C.defaultPrevented||l==null||l())});return dY(C=>{x===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))}),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(SN=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),PN(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=SN)}},[d,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),PN())},[d,u]),m.useEffect(()=>{const C=()=>p({});return document.addEventListener(gx,C),()=>document.removeEventListener(gx,C)},[]),m.createElement(lp.div,Ne({},c,{ref:h,style:{pointerEvents:y?w?"auto":"none":void 0,...e.style},onFocusCapture:zi(e.onFocusCapture,N.onFocusCapture),onBlurCapture:zi(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:zi(e.onPointerDownCapture,j.onPointerDownCapture)}))});function gY(e){const t=Ma(e),n=m.useRef(!1),r=m.useRef(()=>{});return m.useEffect(()=>{const s=i=>{if(i.target&&!n.current){let u=function(){Rk(fY,t,c,{discrete:!0})};var l=u;const c={originalEvent:i};i.pointerType==="touch"?(document.removeEventListener("click",r.current),r.current=u,document.addEventListener("click",r.current,{once:!0})):u()}n.current=!1},a=window.setTimeout(()=>{document.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),document.removeEventListener("pointerdown",s),document.removeEventListener("click",r.current)}},[t]),{onPointerDownCapture:()=>n.current=!0}}function vY(e){const t=Ma(e),n=m.useRef(!1);return m.useEffect(()=>{const r=s=>{s.target&&!n.current&&Rk(mY,t,{originalEvent:s},{discrete:!1})};return document.addEventListener("focusin",r),()=>document.removeEventListener("focusin",r)},[t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function PN(){const e=new CustomEvent(gx);document.dispatchEvent(e)}function Rk(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?uY(s,a):s.dispatchEvent(a)}const og="focusScope.autoFocusOnMount",ag="focusScope.autoFocusOnUnmount",EN={bubbles:!1,cancelable:!0},xY=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=m.useState(null),u=Ma(s),d=Ma(a),f=m.useRef(null),p=Ru(t,v=>c(v)),h=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let x=function(w){if(h.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:da(f.current,{select:!0})},y=function(w){h.paused||!l||l.contains(w.relatedTarget)||da(f.current,{select:!0})};var v=x,b=y;return document.addEventListener("focusin",x),document.addEventListener("focusout",y),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y)}}},[r,l,h.paused]),m.useEffect(()=>{if(l){TN.add(h);const v=document.activeElement;if(!l.contains(v)){const x=new CustomEvent(og,EN);l.addEventListener(og,u),l.dispatchEvent(x),x.defaultPrevented||(yY(CY(Mk(l)),{select:!0}),document.activeElement===v&&da(l))}return()=>{l.removeEventListener(og,u),setTimeout(()=>{const x=new CustomEvent(ag,EN);l.addEventListener(ag,d),l.dispatchEvent(x),x.defaultPrevented||da(v??document.body,{select:!0}),l.removeEventListener(ag,d),TN.remove(h)},0)}}},[l,u,d,h]);const g=m.useCallback(v=>{if(!n&&!r||h.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(b&&x){const y=v.currentTarget,[w,j]=bY(y);w&&j?!v.shiftKey&&x===j?(v.preventDefault(),n&&da(w,{select:!0})):v.shiftKey&&x===w&&(v.preventDefault(),n&&da(j,{select:!0})):x===y&&v.preventDefault()}},[n,r,h.paused]);return m.createElement(lp.div,Ne({tabIndex:-1},i,{ref:p,onKeyDown:g}))});function yY(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(da(r,{select:t}),document.activeElement!==n)return}function bY(e){const t=Mk(e),n=DN(t,e),r=DN(t.reverse(),e);return[n,r]}function Mk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function DN(e,t){for(const n of e)if(!wY(n,{upTo:t}))return n}function wY(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function jY(e){return e instanceof HTMLInputElement&&"select"in e}function da(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&jY(e)&&t&&e.select()}}const TN=NY();function NY(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=AN(e,t),e.unshift(t)},remove(t){var n;e=AN(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function AN(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function CY(e){return e.filter(t=>t.tagName!=="A")}const SY=m.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...s}=e;return r?Nm.createPortal(m.createElement(lp.div,Ne({},s,{ref:t})),r):null});function PY(e,t){return m.useReducer((n,r)=>{const s=t[n][r];return s??n},e)}const cp=e=>{const{present:t,children:n}=e,r=EY(t),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),a=Ru(r.ref,s.ref);return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:a}):null};cp.displayName="Presence";function EY(e){const[t,n]=m.useState(),r=m.useRef({}),s=m.useRef(e),a=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=PY(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=xd(r.current);a.current=l==="mounted"?u:"none"},[l]),px(()=>{const u=r.current,d=s.current;if(d!==e){const p=a.current,h=xd(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),px(()=>{if(t){const u=f=>{const h=xd(r.current).includes(f.animationName);f.target===t&&h&&$t.flushSync(()=>c("ANIMATION_END"))},d=f=>{f.target===t&&(a.current=xd(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function xd(e){return(e==null?void 0:e.animationName)||"none"}let ig=0;function DY(){m.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:kN()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:kN()),ig++,()=>{ig===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),ig--}},[])}function kN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Ik=Cy(),lg=function(){},up=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:lg,onWheelCapture:lg,onTouchMoveCapture:lg}),s=r[0],a=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,h=e.noIsolation,g=e.inert,v=e.allowPinchZoom,b=e.as,x=b===void 0?"div":b,y=Hm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=p,j=Ny([n,t]),N=ht(ht({},y),s);return m.createElement(m.Fragment,null,d&&m.createElement(w,{sideCar:Ik,removeScrollBar:u,shards:f,noIsolation:h,inert:g,setCallbacks:a,allowPinchZoom:!!v,lockRef:n}),i?m.cloneElement(m.Children.only(l),ht(ht({},N),{ref:j})):m.createElement(x,ht({},N,{className:c,ref:j}),l))});up.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};up.classNames={fullWidth:_i,zeroRight:$i};var vx=!1;if(typeof window<"u")try{var yd=Object.defineProperty({},"passive",{get:function(){return vx=!0,!0}});window.addEventListener("test",yd,yd),window.removeEventListener("test",yd,yd)}catch{vx=!1}var ai=vx?{passive:!1}:!1,TY=function(e){var t=window.getComputedStyle(e);return t.overflowY!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowY==="visible")},AY=function(e){var t=window.getComputedStyle(e);return t.overflowX!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowX==="visible")},RN=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=Ok(e,n);if(r){var s=$k(e,n),a=s[1],i=s[2];if(a>i)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},kY=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},RY=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Ok=function(e,t){return e==="v"?TY(t):AY(t)},$k=function(e,t){return e==="v"?kY(t):RY(t)},MY=function(e,t){return e==="h"&&t==="rtl"?-1:1},IY=function(e,t,n,r,s){var a=MY(e,window.getComputedStyle(t).direction),i=a*r,l=n.target,c=t.contains(l),u=!1,d=i>0,f=0,p=0;do{var h=$k(e,l),g=h[0],v=h[1],b=h[2],x=v-b-a*g;(g||x)&&Ok(e,l)&&(f+=x,p+=g),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(s&&f===0||!s&&i>f)||!d&&(s&&p===0||!s&&-i>p))&&(u=!0),u},bd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},MN=function(e){return[e.deltaX,e.deltaY]},IN=function(e){return e&&"current"in e?e.current:e},OY=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$Y=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_Y=0,ii=[];function LY(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(_Y++)[0],a=m.useState(function(){return Ym()})[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=jy([e.lockRef.current],(e.shards||[]).map(IN),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(v,b){if("touches"in v&&v.touches.length===2)return!i.current.allowPinchZoom;var x=bd(v),y=n.current,w="deltaX"in v?v.deltaX:y[0]-x[0],j="deltaY"in v?v.deltaY:y[1]-x[1],N,C=v.target,S=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in v&&S==="h"&&C.type==="range")return!1;var P=RN(S,C);if(!P)return!0;if(P?N=S:(N=S==="v"?"h":"v",P=RN(S,C)),!P)return!1;if(!r.current&&"changedTouches"in v&&(w||j)&&(r.current=N),!N)return!0;var R=r.current||N;return IY(R,b,v,R==="h"?w:j,!0)},[]),c=m.useCallback(function(v){var b=v;if(!(!ii.length||ii[ii.length-1]!==a)){var x="deltaY"in b?MN(b):bd(b),y=t.current.filter(function(N){return N.name===b.type&&N.target===b.target&&OY(N.delta,x)})[0];if(y&&y.should){b.preventDefault();return}if(!y){var w=(i.current.shards||[]).map(IN).filter(Boolean).filter(function(N){return N.contains(b.target)}),j=w.length>0?l(b,w[0]):!i.current.noIsolation;j&&b.preventDefault()}}},[]),u=m.useCallback(function(v,b,x,y){var w={name:v,delta:b,target:x,should:y};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=m.useCallback(function(v){n.current=bd(v),r.current=void 0},[]),f=m.useCallback(function(v){u(v.type,MN(v),v.target,l(v,e.lockRef.current))},[]),p=m.useCallback(function(v){u(v.type,bd(v),v.target,l(v,e.lockRef.current))},[]);m.useEffect(function(){return ii.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,ai),document.addEventListener("touchmove",c,ai),document.addEventListener("touchstart",d,ai),function(){ii=ii.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,ai),document.removeEventListener("touchmove",c,ai),document.removeEventListener("touchstart",d,ai)}},[]);var h=e.removeScrollBar,g=e.inert;return m.createElement(m.Fragment,null,g?m.createElement(a,{styles:$Y(s)}):null,h?m.createElement(Py,{gapMode:"margin"}):null)}const FY=Sy(Ik,LY);var _k=m.forwardRef(function(e,t){return m.createElement(up,ht({},e,{ref:t,sideCar:FY}))});_k.classNames=up.classNames;const BY=_k,Lk="Dialog",[Fk,_oe]=eY(Lk),[VY,qa]=Fk(Lk),zY=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,d]=sY({prop:r,defaultProp:s,onChange:a});return m.createElement(VY,{scope:t,triggerRef:l,contentRef:c,contentId:sg(),titleId:sg(),descriptionId:sg(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i},n)},Bk="DialogPortal",[UY,Vk]=Fk(Bk,{forceMount:void 0}),WY=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=qa(Bk,t);return m.createElement(UY,{scope:t,forceMount:n},m.Children.map(r,i=>m.createElement(cp,{present:n||a.open},m.createElement(SY,{asChild:!0,container:s},i))))},xx="DialogOverlay",HY=m.forwardRef((e,t)=>{const n=Vk(xx,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=qa(xx,e.__scopeDialog);return a.modal?m.createElement(cp,{present:r||a.open},m.createElement(GY,Ne({},s,{ref:t}))):null}),GY=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=qa(xx,n);return m.createElement(BY,{as:Jy,allowPinchZoom:!0,shards:[s.contentRef]},m.createElement(lp.div,Ne({"data-state":Uk(s.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),Jc="DialogContent",YY=m.forwardRef((e,t)=>{const n=Vk(Jc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=qa(Jc,e.__scopeDialog);return m.createElement(cp,{present:r||a.open},a.modal?m.createElement(qY,Ne({},s,{ref:t})):m.createElement(KY,Ne({},s,{ref:t})))}),qY=m.forwardRef((e,t)=>{const n=qa(Jc,e.__scopeDialog),r=m.useRef(null),s=Ru(t,n.contentRef,r);return m.useEffect(()=>{const a=r.current;if(a)return Su(a)},[]),m.createElement(zk,Ne({},e,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:zi(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:zi(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:zi(e.onFocusOutside,a=>a.preventDefault())}))}),KY=m.forwardRef((e,t)=>{const n=qa(Jc,e.__scopeDialog),r=m.useRef(!1);return m.createElement(zk,Ne({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a;if((a=e.onCloseAutoFocus)===null||a===void 0||a.call(e,s),!s.defaultPrevented){var i;r.current||(i=n.triggerRef.current)===null||i===void 0||i.focus(),s.preventDefault()}r.current=!1},onInteractOutside:s=>{var a,i;(a=e.onInteractOutside)===null||a===void 0||a.call(e,s),s.defaultPrevented||(r.current=!0);const l=s.target;((i=n.triggerRef.current)===null||i===void 0?void 0:i.contains(l))&&s.preventDefault()}}))}),zk=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=qa(Jc,n),c=m.useRef(null),u=Ru(t,c);return DY(),m.createElement(m.Fragment,null,m.createElement(xY,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a},m.createElement(hY,Ne({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Uk(l.open)},i,{ref:u,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function Uk(e){return e?"open":"closed"}const XY=zY,JY=WY,QY=HY,ZY=YY;var eq='[cmdk-list-sizer=""]',Fl='[cmdk-group=""]',cg='[cmdk-group-items=""]',tq='[cmdk-group-heading=""]',Qy='[cmdk-item=""]',ON=`${Qy}:not([aria-disabled="true"])`,yx="cmdk-item-select",Ns="data-value",nq=(e,t)=>QG(e,t),Wk=m.createContext(void 0),Mu=()=>m.useContext(Wk),Hk=m.createContext(void 0),Zy=()=>m.useContext(Hk),Gk=m.createContext(void 0),Yk=m.forwardRef((e,t)=>{let n=m.useRef(null),r=di(()=>{var O,M,F;return{search:"",value:(F=(M=e.value)!=null?M:(O=e.defaultValue)==null?void 0:O.toLowerCase())!=null?F:"",filtered:{count:0,items:new Map,groups:new Set}}}),s=di(()=>new Set),a=di(()=>new Map),i=di(()=>new Map),l=di(()=>new Set),c=qk(e),{label:u,children:d,value:f,onValueChange:p,filter:h,shouldFilter:g,vimBindings:v=!0,...b}=e,x=m.useId(),y=m.useId(),w=m.useId(),j=mq();xl(()=>{if(f!==void 0){let O=f.trim().toLowerCase();r.current.value=O,j(6,D),N.emit()}},[f]);let N=m.useMemo(()=>({subscribe:O=>(l.current.add(O),()=>l.current.delete(O)),snapshot:()=>r.current,setState:(O,M,F)=>{var W,J,ie;if(!Object.is(r.current[O],M)){if(r.current[O]=M,O==="search")E(),P(),j(1,R);else if(O==="value")if(((W=c.current)==null?void 0:W.value)!==void 0){let H=M??"";(ie=(J=c.current).onValueChange)==null||ie.call(J,H);return}else F||j(5,D);N.emit()}},emit:()=>{l.current.forEach(O=>O())}}),[]),C=m.useMemo(()=>({value:(O,M)=>{M!==i.current.get(O)&&(i.current.set(O,M),r.current.filtered.items.set(O,S(M)),j(2,()=>{P(),N.emit()}))},item:(O,M)=>(s.current.add(O),M&&(a.current.has(M)?a.current.get(M).add(O):a.current.set(M,new Set([O]))),j(3,()=>{E(),P(),r.current.value||R(),N.emit()}),()=>{i.current.delete(O),s.current.delete(O),r.current.filtered.items.delete(O);let F=A();j(4,()=>{E(),(F==null?void 0:F.getAttribute("id"))===O&&R(),N.emit()})}),group:O=>(a.current.has(O)||a.current.set(O,new Set),()=>{i.current.delete(O),a.current.delete(O)}),filter:()=>c.current.shouldFilter,label:u||e["aria-label"],commandRef:n,listId:x,inputId:w,labelId:y}),[]);function S(O){var M,F;let W=(F=(M=c.current)==null?void 0:M.filter)!=null?F:nq;return O?W(O,r.current.search):0}function P(){if(!n.current||!r.current.search||c.current.shouldFilter===!1)return;let O=r.current.filtered.items,M=[];r.current.filtered.groups.forEach(W=>{let J=a.current.get(W),ie=0;J.forEach(H=>{let U=O.get(H);ie=Math.max(U,ie)}),M.push([W,ie])});let F=n.current.querySelector(eq);$().sort((W,J)=>{var ie,H;let U=W.getAttribute(Ns),oe=J.getAttribute(Ns);return((ie=O.get(oe))!=null?ie:0)-((H=O.get(U))!=null?H:0)}).forEach(W=>{let J=W.closest(cg);J?J.appendChild(W.parentElement===J?W:W.closest(`${cg} > *`)):F.appendChild(W.parentElement===F?W:W.closest(`${cg} > *`))}),M.sort((W,J)=>J[1]-W[1]).forEach(W=>{let J=n.current.querySelector(`${Fl}[${Ns}="${W[0]}"]`);J==null||J.parentElement.appendChild(J)})}function R(){let O=$().find(F=>!F.ariaDisabled),M=O==null?void 0:O.getAttribute(Ns);N.setState("value",M||void 0)}function E(){if(!r.current.search||c.current.shouldFilter===!1){r.current.filtered.count=s.current.size;return}r.current.filtered.groups=new Set;let O=0;for(let M of s.current){let F=i.current.get(M),W=S(F);r.current.filtered.items.set(M,W),W>0&&O++}for(let[M,F]of a.current)for(let W of F)if(r.current.filtered.items.get(W)>0){r.current.filtered.groups.add(M);break}r.current.filtered.count=O}function D(){var O,M,F;let W=A();W&&(((O=W.parentElement)==null?void 0:O.firstChild)===W&&((F=(M=W.closest(Fl))==null?void 0:M.querySelector(tq))==null||F.scrollIntoView({block:"nearest"})),W.scrollIntoView({block:"nearest"}))}function A(){var O;return(O=n.current)==null?void 0:O.querySelector(`${Qy}[aria-selected="true"]`)}function $(){return Array.from(n.current.querySelectorAll(ON))}function I(O){let M=$()[O];M&&N.setState("value",M.getAttribute(Ns))}function z(O){var M;let F=A(),W=$(),J=W.findIndex(H=>H===F),ie=W[J+O];(M=c.current)!=null&&M.loop&&(ie=J+O<0?W[W.length-1]:J+O===W.length?W[0]:W[J+O]),ie&&N.setState("value",ie.getAttribute(Ns))}function V(O){let M=A(),F=M==null?void 0:M.closest(Fl),W;for(;F&&!W;)F=O>0?dq(F,Fl):fq(F,Fl),W=F==null?void 0:F.querySelector(ON);W?N.setState("value",W.getAttribute(Ns)):z(O)}let k=()=>I($().length-1),T=O=>{O.preventDefault(),O.metaKey?k():O.altKey?V(1):z(1)},_=O=>{O.preventDefault(),O.metaKey?I(0):O.altKey?V(-1):z(-1)};return m.createElement("div",{ref:Iu([n,t]),...b,"cmdk-root":"",onKeyDown:O=>{var M;if((M=b.onKeyDown)==null||M.call(b,O),!O.defaultPrevented)switch(O.key){case"n":case"j":{v&&O.ctrlKey&&T(O);break}case"ArrowDown":{T(O);break}case"p":case"k":{v&&O.ctrlKey&&_(O);break}case"ArrowUp":{_(O);break}case"Home":{O.preventDefault(),I(0);break}case"End":{O.preventDefault(),k();break}case"Enter":if(!O.nativeEvent.isComposing){O.preventDefault();let F=A();if(F){let W=new Event(yx);F.dispatchEvent(W)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:pq},u),m.createElement(Hk.Provider,{value:N},m.createElement(Wk.Provider,{value:C},d)))}),rq=m.forwardRef((e,t)=>{var n,r;let s=m.useId(),a=m.useRef(null),i=m.useContext(Gk),l=Mu(),c=qk(e),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:i==null?void 0:i.forceMount;xl(()=>l.item(s,i==null?void 0:i.id),[]);let d=Kk(s,a,[e.value,e.children,a]),f=Zy(),p=Ia(N=>N.value&&N.value===d.current),h=Ia(N=>u||l.filter()===!1?!0:N.search?N.filtered.items.get(s)>0:!0);m.useEffect(()=>{let N=a.current;if(!(!N||e.disabled))return N.addEventListener(yx,g),()=>N.removeEventListener(yx,g)},[h,e.onSelect,e.disabled]);function g(){var N,C;v(),(C=(N=c.current).onSelect)==null||C.call(N,d.current)}function v(){f.setState("value",d.current,!0)}if(!h)return null;let{disabled:b,value:x,onSelect:y,forceMount:w,...j}=e;return m.createElement("div",{ref:Iu([a,t]),...j,id:s,"cmdk-item":"",role:"option","aria-disabled":b||void 0,"aria-selected":p||void 0,"data-disabled":b||void 0,"data-selected":p||void 0,onPointerMove:b?void 0:v,onClick:b?void 0:g},e.children)}),sq=m.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:s,...a}=e,i=m.useId(),l=m.useRef(null),c=m.useRef(null),u=m.useId(),d=Mu(),f=Ia(g=>s||d.filter()===!1?!0:g.search?g.filtered.groups.has(i):!0);xl(()=>d.group(i),[]),Kk(i,l,[e.value,e.heading,c]);let p=m.useMemo(()=>({id:i,forceMount:s}),[s]),h=m.createElement(Gk.Provider,{value:p},r);return m.createElement("div",{ref:Iu([l,t]),...a,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&m.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},h))}),oq=m.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,s=m.useRef(null),a=Ia(i=>!i.search);return!n&&!a?null:m.createElement("div",{ref:Iu([s,t]),...r,"cmdk-separator":"",role:"separator"})}),aq=m.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,s=e.value!=null,a=Zy(),i=Ia(d=>d.search),l=Ia(d=>d.value),c=Mu(),u=m.useMemo(()=>{var d;let f=(d=c.commandRef.current)==null?void 0:d.querySelector(`${Qy}[${Ns}="${l}"]`);return f==null?void 0:f.getAttribute("id")},[l,c.commandRef]);return m.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),m.createElement("input",{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":u,id:c.inputId,type:"text",value:s?e.value:i,onChange:d=>{s||a.setState("search",d.target.value),n==null||n(d.target.value)}})}),iq=m.forwardRef((e,t)=>{let{children:n,...r}=e,s=m.useRef(null),a=m.useRef(null),i=Mu();return m.useEffect(()=>{if(a.current&&s.current){let l=a.current,c=s.current,u,d=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let f=l.offsetHeight;c.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return d.observe(l),()=>{cancelAnimationFrame(u),d.unobserve(l)}}},[]),m.createElement("div",{ref:Iu([s,t]),...r,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:i.listId,"aria-labelledby":i.inputId},m.createElement("div",{ref:a,"cmdk-list-sizer":""},n))}),lq=m.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:s,contentClassName:a,container:i,...l}=e;return m.createElement(XY,{open:n,onOpenChange:r},m.createElement(JY,{container:i},m.createElement(QY,{"cmdk-overlay":"",className:s}),m.createElement(ZY,{"aria-label":e.label,"cmdk-dialog":"",className:a},m.createElement(Yk,{ref:t,...l}))))}),cq=m.forwardRef((e,t)=>{let n=m.useRef(!0),r=Ia(s=>s.filtered.count===0);return m.useEffect(()=>{n.current=!1},[]),n.current||!r?null:m.createElement("div",{ref:t,...e,"cmdk-empty":"",role:"presentation"})}),uq=m.forwardRef((e,t)=>{let{progress:n,children:r,...s}=e;return m.createElement("div",{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},m.createElement("div",{"aria-hidden":!0},r))}),On=Object.assign(Yk,{List:iq,Item:rq,Input:aq,Group:sq,Separator:oq,Dialog:lq,Empty:cq,Loading:uq});function dq(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function fq(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function qk(e){let t=m.useRef(e);return xl(()=>{t.current=e}),t}var xl=typeof window>"u"?m.useEffect:m.useLayoutEffect;function di(e){let t=m.useRef();return t.current===void 0&&(t.current=e()),t}function Iu(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function Ia(e){let t=Zy(),n=()=>e(t.snapshot());return m.useSyncExternalStore(t.subscribe,n,n)}function Kk(e,t,n){let r=m.useRef(),s=Mu();return xl(()=>{var a;let i=(()=>{var l;for(let c of n){if(typeof c=="string")return c.trim().toLowerCase();if(typeof c=="object"&&"current"in c)return c.current?(l=c.current.textContent)==null?void 0:l.trim().toLowerCase():r.current}})();s.value(e,i),(a=t.current)==null||a.setAttribute(Ns,i),r.current=i}),r}var mq=()=>{let[e,t]=m.useState(),n=di(()=>new Map);return xl(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,s)=>{n.current.set(r,s),t({})}},pq={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},dp="Dialog",[Xk,Jk]=Fr(dp),[hq,Vr]=Xk(dp),Qk=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=Ua({prop:r,defaultProp:s??!1,onChange:a,caller:dp});return o.jsx(hq,{scope:t,triggerRef:l,contentRef:c,contentId:ja(),titleId:ja(),descriptionId:ja(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};Qk.displayName=dp;var Zk="DialogTrigger",eR=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Vr(Zk,n),a=Qe(t,s.triggerRef);return o.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":nb(s.open),...r,ref:a,onClick:ge(e.onClick,s.onOpenToggle)})});eR.displayName=Zk;var eb="DialogPortal",[gq,tR]=Xk(eb,{forceMount:void 0}),nR=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Vr(eb,t);return o.jsx(gq,{scope:t,forceMount:n,children:m.Children.map(r,i=>o.jsx(xr,{present:n||a.open,children:o.jsx(pu,{asChild:!0,container:s,children:i})}))})};nR.displayName=eb;var Xf="DialogOverlay",rR=m.forwardRef((e,t)=>{const n=tR(Xf,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Vr(Xf,e.__scopeDialog);return a.modal?o.jsx(xr,{present:r||a.open,children:o.jsx(xq,{...s,ref:t})}):null});rR.displayName=Xf;var vq=Da("DialogOverlay.RemoveScroll"),xq=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Vr(Xf,n);return o.jsx(Ey,{as:vq,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Me.div,{"data-state":nb(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Oa="DialogContent",sR=m.forwardRef((e,t)=>{const n=tR(Oa,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Vr(Oa,e.__scopeDialog);return o.jsx(xr,{present:r||a.open,children:a.modal?o.jsx(yq,{...s,ref:t}):o.jsx(bq,{...s,ref:t})})});sR.displayName=Oa;var yq=m.forwardRef((e,t)=>{const n=Vr(Oa,e.__scopeDialog),r=m.useRef(null),s=Qe(t,n.contentRef,r);return m.useEffect(()=>{const a=r.current;if(a)return Su(a)},[]),o.jsx(oR,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:ge(e.onFocusOutside,a=>a.preventDefault())})}),bq=m.forwardRef((e,t)=>{const n=Vr(Oa,e.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return o.jsx(oR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),oR=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=Vr(Oa,n),c=m.useRef(null),u=Qe(t,c);return dy(),o.jsxs(o.Fragment,{children:[o.jsx(Fm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(mu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":nb(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(jq,{titleId:l.titleId}),o.jsx(Cq,{contentRef:c,descriptionId:l.descriptionId})]})]})}),tb="DialogTitle",aR=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Vr(tb,n);return o.jsx(Me.h2,{id:s.titleId,...r,ref:t})});aR.displayName=tb;var iR="DialogDescription",lR=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Vr(iR,n);return o.jsx(Me.p,{id:s.descriptionId,...r,ref:t})});lR.displayName=iR;var cR="DialogClose",uR=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Vr(cR,n);return o.jsx(Me.button,{type:"button",...r,ref:t,onClick:ge(e.onClick,()=>s.onOpenChange(!1))})});uR.displayName=cR;function nb(e){return e?"open":"closed"}var dR="DialogTitleWarning",[wq,fR]=u3(dR,{contentName:Oa,titleName:tb,docsSlug:"dialog"}),jq=({titleId:e})=>{const t=fR(dR),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Nq="DialogDescriptionWarning",Cq=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fR(Nq).contentName}}.`;return m.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},mR=Qk,pR=eR,hR=nR,rb=rR,sb=sR,ob=aR,ab=lR,fp=uR;const Ot=mR,ug=pR,Sq=hR,gR=fp,vR=G.forwardRef(({className:e,...t},n)=>o.jsx(rb,{ref:n,className:le("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));vR.displayName=rb.displayName;const Pt=G.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(Sq,{children:[o.jsx(vR,{}),o.jsxs(sb,{ref:r,className:le("fixed left-1/2 top-1/2 z-50 flex w-full max-w-lg -translate-x-1/2 -translate-y-1/2 flex-col border bg-background shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg max-h-[90vh]",e),...n,children:[t,o.jsxs(fp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Br,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Pt.displayName=sb.displayName;const Et=({className:e,...t})=>o.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left p-6",e),...t});Et.displayName="DialogHeader";const Zt=({className:e,...t})=>o.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 p-6 border-t",e),...t});Zt.displayName="DialogFooter";const Dt=G.forwardRef(({className:e,...t},n)=>o.jsx(ob,{ref:n,className:le("text-lg font-semibold leading-none tracking-tight",e),...t}));Dt.displayName=ob.displayName;const Hn=G.forwardRef(({className:e,...t},n)=>o.jsx(ab,{ref:n,className:le("text-sm text-muted-foreground",e),...t}));Hn.displayName=ab.displayName;const zo=G.forwardRef(({className:e,...t},n)=>o.jsx(On,{ref:n,className:le("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));zo.displayName=On.displayName;const Uo=G.forwardRef(({className:e,...t},n)=>o.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o.jsx($c,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(On.Input,{ref:n,className:le("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Uo.displayName=On.Input.displayName;const Wo=G.forwardRef(({className:e,...t},n)=>o.jsx(On.List,{ref:n,className:le("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Wo.displayName=On.List.displayName;const Ho=G.forwardRef((e,t)=>o.jsx(On.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Ho.displayName=On.Empty.displayName;const Go=G.forwardRef(({className:e,...t},n)=>o.jsx(On.Group,{ref:n,className:le("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Go.displayName=On.Group.displayName;const xR=G.forwardRef(({className:e,...t},n)=>o.jsx(On.Separator,{ref:n,className:le("-mx-1 h-px bg-border",e),...t}));xR.displayName=On.Separator.displayName;const fs=G.forwardRef(({className:e,...t},n)=>o.jsx(On.Item,{ref:n,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t}));fs.displayName=On.Item.displayName;var mp="Popover",[yR,Loe]=Fr(mp,[Wm]),Ou=Wm(),[Pq,Zo]=yR(mp),bR=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!1}=e,l=Ou(t),c=m.useRef(null),[u,d]=m.useState(!1),[f,p]=Ua({prop:r,defaultProp:s??!1,onChange:a,caller:mp});return o.jsx(wT,{...l,children:o.jsx(Pq,{scope:t,contentId:ja(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:m.useCallback(()=>p(h=>!h),[p]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:i,children:n})})};bR.displayName=mp;var wR="PopoverAnchor",Eq=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Zo(wR,n),a=Ou(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return m.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(wy,{...a,...r,ref:t})});Eq.displayName=wR;var jR="PopoverTrigger",NR=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Zo(jR,n),a=Ou(n),i=Qe(t,s.triggerRef),l=o.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":DR(s.open),...r,ref:i,onClick:ge(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(wy,{asChild:!0,...a,children:l})});NR.displayName=jR;var ib="PopoverPortal",[Dq,Tq]=yR(ib,{forceMount:void 0}),CR=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,a=Zo(ib,t);return o.jsx(Dq,{scope:t,forceMount:n,children:o.jsx(xr,{present:n||a.open,children:o.jsx(pu,{asChild:!0,container:s,children:r})})})};CR.displayName=ib;var rl="PopoverContent",SR=m.forwardRef((e,t)=>{const n=Tq(rl,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,a=Zo(rl,e.__scopePopover);return o.jsx(xr,{present:r||a.open,children:a.modal?o.jsx(kq,{...s,ref:t}):o.jsx(Rq,{...s,ref:t})})});SR.displayName=rl;var Aq=Da("PopoverContent.RemoveScroll"),kq=m.forwardRef((e,t)=>{const n=Zo(rl,e.__scopePopover),r=m.useRef(null),s=Qe(t,r),a=m.useRef(!1);return m.useEffect(()=>{const i=r.current;if(i)return Su(i)},[]),o.jsx(Ey,{as:Aq,allowPinchZoom:!0,children:o.jsx(PR,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ge(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Rq=m.forwardRef((e,t)=>{const n=Zo(rl,e.__scopePopover),r=m.useRef(!1),s=m.useRef(!1);return o.jsx(PR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),PR=m.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,p=Zo(rl,n),h=Ou(n);return dy(),o.jsx(Fm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(mu,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:o.jsx(jT,{"data-state":DR(p.open),role:"dialog",id:p.contentId,...h,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ER="PopoverClose",Mq=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Zo(ER,n);return o.jsx(Me.button,{type:"button",...r,ref:t,onClick:ge(e.onClick,()=>s.onOpenChange(!1))})});Mq.displayName=ER;var Iq="PopoverArrow",Oq=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Ou(n);return o.jsx(NT,{...s,...r,ref:t})});Oq.displayName=Iq;function DR(e){return e?"open":"closed"}var $q=bR,_q=NR,Lq=CR,TR=SR;const cs=$q,us=_q,Ar=G.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>o.jsx(Lq,{children:o.jsx(TR,{ref:s,align:t,sideOffset:n,className:le("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ar.displayName=TR.displayName;const Yo=({options:e,value:t,onSelect:n,placeholder:r,searchPlaceholder:s,emptyText:a})=>{const[i,l]=m.useState(!1),c=e.find(u=>u.value===t);return o.jsxs(cs,{open:i,onOpenChange:l,children:[o.jsx(us,{asChild:!0,children:o.jsxs(B,{variant:"outline",role:"combobox","aria-expanded":i,className:"w-full justify-between",children:[c?c.label:r,o.jsx(u2,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Ar,{className:"w-[--radix-popover-trigger-width] p-0",children:o.jsxs(zo,{children:[o.jsx(Uo,{placeholder:s}),o.jsxs(Wo,{children:[o.jsx(Ho,{children:a}),o.jsx(Go,{children:e.map(u=>o.jsxs(fs,{value:u.label,onSelect:()=>{n(u.value),l(!1)},children:[o.jsx(fn,{className:le("mr-2 h-4 w-4",t===u.value?"opacity-100":"opacity-0")}),u.label]},u.value))})]})]})})]})},Fq=({column:e,onProspectClick:t})=>o.jsxs("div",{className:"bg-gray-100 rounded-xl p-4 h-full flex flex-col",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 px-2 flex justify-between items-center",children:[e.name,o.jsx("span",{className:"text-sm font-medium bg-gray-200 text-gray-600 rounded-full px-2 py-0.5",children:e.items.length})]}),o.jsx("div",{className:"space-y-4 overflow-y-auto flex-1 no-scrollbar",children:o.jsx(ap,{items:e.items.map(n=>n.id),strategy:op,children:e.items.map(n=>o.jsx(TG,{prospect:n,onClick:()=>t(n)},n.id))})})]}),AR=()=>{const{prospects:e,addProspect:t,updateProspect:n,users:r,projectsData:s,getProjectSteps:a,activeAdminUser:i}=Ce();Vt();const[l,c]=ps(),[u,d]=m.useState({}),[f,p]=m.useState(null),[h,g]=m.useState(!1),v=m.useMemo(()=>{var D;if(!i)return[];if(i.role==="Global Admin"||i.role==="Admin")return Object.values(r);const E=[i.id,...((D=i.accessRights)==null?void 0:D.users)||[]];return Object.values(r).filter(A=>E.includes(A.id))},[i,r]),b=m.useMemo(()=>[{value:"all",label:"Tous les utilisateurs"},...v.map(E=>({value:E.id,label:E.name}))],[v]),x=m.useMemo(()=>Object.entries(s).map(([E,D])=>({value:E,label:D.title})),[s]),y=l.get("owner")||(i==null?void 0:i.id),w=l.get("project")||(x.length>0?x[0].value:""),j=l.get("prospect");m.useEffect(()=>{i&&!v.some(E=>E.id===y)&&y!=="all"&&N("owner",i.id)},[y,v,i]),m.useEffect(()=>{const E=e.find(D=>D.id===j);p(E||null)},[j,e]),m.useEffect(()=>{if(!w||!s[w]){d({});return}const D=s[w].steps.reduce((I,z)=>(I[Ms(z.name)]={name:z.name,items:[]},I),{});e.filter(I=>{var V;return i?i.role==="Global Admin"||i.role==="Admin"?!0:[i.id,...((V=i.accessRights)==null?void 0:V.users)||[]].includes(I.ownerId):!1}).filter(I=>{const z=Array.isArray(I.tags)?I.tags:[];return(y==="all"||I.ownerId===y)&&z.includes(w)}).forEach(I=>{const V=a(I.id,w).find(k=>k.status==="in_progress"||k.status==="current");if(V){const k=Ms(V.name);D[k]&&D[k].items.push(I)}}),d(D)},[e,y,w,s,a,i]);const N=(E,D)=>{const A=new URLSearchParams(l);D?A.set(E,D):A.delete(E),c(A)},C=E=>{N("prospect",E.id)},S=()=>{N("prospect",null)},P=E=>{t({...E,ownerId:(i==null?void 0:i.id)||"user-1"})},R=E=>{n(E),p(E)};return m.useEffect(()=>{i&&!l.get("owner")&&N("owner",i.id)},[i]),o.jsx(vn,{mode:"wait",children:f?o.jsx(ee.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:o.jsx(pk,{prospect:f,onBack:S,onUpdate:R})},"prospect-details"):o.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"w-full flex flex-col h-full",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pipeline"}),o.jsx("div",{className:"w-56",children:o.jsx(Yo,{options:x,value:w,onSelect:E=>N("project",E),placeholder:"Choisir un projet",searchPlaceholder:"Rechercher...",emptyText:"Aucun projet."})}),o.jsx("div",{className:"w-56",children:o.jsx(Yo,{options:b,value:y,onSelect:E=>N("owner",E),placeholder:"Filtrer par utilisateur",searchPlaceholder:"Rechercher...",emptyText:"Aucun utilisateur."})})]}),o.jsxs(B,{onClick:()=>g(!0),className:"w-full md:w-auto",children:[o.jsx(et,{className:"mr-2 h-4 w-4"})," Nouveau Prospect"]})]}),o.jsx("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6 overflow-x-auto pb-4",children:Object.entries(u).map(([E,D],A)=>o.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.1},className:"w-[300px] flex-shrink-0",children:o.jsx(Fq,{column:D,onProspectClick:C})},E))}),o.jsx(Xy,{open:h,onOpenChange:g,onAddProspect:P})]},"pipeline-view")})},Bq={ACC:"bg-blue-100 text-blue-800",Autonomie:"bg-green-100 text-green-800",Centrale:"bg-orange-100 text-orange-800",Investissement:"bg-teal-100 text-teal-800",ProducteurPro:"bg-purple-100 text-purple-800"},yl=({prospect:e,onClick:t})=>{const{attributes:n,listeners:r,setNodeRef:s,transform:a,transition:i,isDragging:l}=dk({id:e.id,data:{prospect:e}}),c={transform:Ws.Transform.toString(a),transition:i,zIndex:l?10:"auto",opacity:l?.8:1};return o.jsx("div",{ref:s,style:c,...n,...r,children:o.jsxs(ee.div,{layoutId:`prospect-card-${e.id}`,whileHover:{y:-4,scale:1.02},onClick:t,className:"bg-white rounded-xl shadow-card hover:shadow-soft p-4 cursor-grab active:cursor-grabbing transition-all",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:"font-semibold text-gray-800",children:e.name}),e.hasAppointment&&o.jsxs("div",{className:"flex items-center text-xs text-yellow-600 bg-yellow-100 px-2 py-1 rounded-full",children:[o.jsx(gr,{className:"h-3 w-3 mr-1"}),o.jsx("span",{children:"RDV"})]})]}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:e.tags.map(u=>o.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${Bq[u]||"bg-gray-100 text-gray-800"}`,children:u},u))})]})})};function $N(e,[t,n]){return Math.min(n,Math.max(t,e))}function un(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function lb(e,t=[]){let n=[];function r(a,i){const l=m.createContext(i),c=n.length;n=[...n,i];function u(f){const{scope:p,children:h,...g}=f,v=(p==null?void 0:p[e][c])||l,b=m.useMemo(()=>g,Object.values(g));return m.createElement(v.Provider,{value:b},h)}function d(f,p){const h=(p==null?void 0:p[e][c])||l,g=m.useContext(h);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,Vq(s,...t)]}function Vq(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function zq(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function kR(...e){return t=>e.forEach(n=>zq(n,t))}function In(...e){return m.useCallback(kR(...e),e)}const Qc=m.forwardRef((e,t)=>{const{children:n,...r}=e,s=m.Children.toArray(n),a=s.find(Wq);if(a){const i=a.props.children,l=s.map(c=>c===a?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return m.createElement(bx,Ne({},r,{ref:t}),m.isValidElement(i)?m.cloneElement(i,void 0,l):null)}return m.createElement(bx,Ne({},r,{ref:t}),n)});Qc.displayName="Slot";const bx=m.forwardRef((e,t)=>{const{children:n,...r}=e;return m.isValidElement(n)?m.cloneElement(n,{...Hq(r,n.props),ref:t?kR(t,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});bx.displayName="SlotClone";const Uq=({children:e})=>m.createElement(m.Fragment,null,e);function Wq(e){return m.isValidElement(e)&&e.type===Uq}function Hq(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function Gq(e){const t=e+"CollectionProvider",[n,r]=lb(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=h=>{const{scope:g,children:v}=h,b=G.useRef(null),x=G.useRef(new Map).current;return G.createElement(s,{scope:g,itemMap:x,collectionRef:b},v)},l=e+"CollectionSlot",c=G.forwardRef((h,g)=>{const{scope:v,children:b}=h,x=a(l,v),y=In(g,x.collectionRef);return G.createElement(Qc,{ref:y},b)}),u=e+"CollectionItemSlot",d="data-radix-collection-item",f=G.forwardRef((h,g)=>{const{scope:v,children:b,...x}=h,y=G.useRef(null),w=In(g,y),j=a(u,v);return G.useEffect(()=>(j.itemMap.set(y,{ref:y,...x}),()=>void j.itemMap.delete(y))),G.createElement(Qc,{[d]:"",ref:w},b)});function p(h){const g=a(e+"CollectionConsumer",h);return G.useCallback(()=>{const b=g.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((j,N)=>x.indexOf(j.ref.current)-x.indexOf(N.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},p,r]}const Yq=m.createContext(void 0);function qq(e){const t=m.useContext(Yq);return e||t||"ltr"}const Kq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],sn=Kq.reduce((e,t)=>{const n=m.forwardRef((r,s)=>{const{asChild:a,...i}=r,l=a?Qc:t;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(l,Ne({},i,{ref:s}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Xq(e,t){e&&$t.flushSync(()=>e.dispatchEvent(t))}function Hs(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function Jq(e,t=globalThis==null?void 0:globalThis.document){const n=Hs(e);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const wx="dismissableLayer.update",Qq="dismissableLayer.pointerDownOutside",Zq="dismissableLayer.focusOutside";let _N;const eK=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tK=m.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...u}=e,d=m.useContext(eK),[f,p]=m.useState(null),h=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,g]=m.useState({}),v=In(t,P=>p(P)),b=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=b.indexOf(x),w=f?b.indexOf(f):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,N=w>=y,C=nK(P=>{const R=P.target,E=[...d.branches].some(D=>D.contains(R));!N||E||(a==null||a(P),l==null||l(P),P.defaultPrevented||c==null||c())},h),S=rK(P=>{const R=P.target;[...d.branches].some(D=>D.contains(R))||(i==null||i(P),l==null||l(P),P.defaultPrevented||c==null||c())},h);return Jq(P=>{w===d.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&c&&(P.preventDefault(),c()))},h),m.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(_N=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),LN(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=_N)}},[f,h,r,d]),m.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),LN())},[f,d]),m.useEffect(()=>{const P=()=>g({});return document.addEventListener(wx,P),()=>document.removeEventListener(wx,P)},[]),m.createElement(sn.div,Ne({},u,{ref:v,style:{pointerEvents:j?N?"auto":"none":void 0,...e.style},onFocusCapture:un(e.onFocusCapture,S.onFocusCapture),onBlurCapture:un(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:un(e.onPointerDownCapture,C.onPointerDownCapture)}))});function nK(e,t=globalThis==null?void 0:globalThis.document){const n=Hs(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let d=function(){RR(Qq,n,u,{discrete:!0})};var c=d;const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function rK(e,t=globalThis==null?void 0:globalThis.document){const n=Hs(e),r=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!r.current&&RR(Zq,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function LN(){const e=new CustomEvent(wx);document.dispatchEvent(e)}function RR(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Xq(s,a):s.dispatchEvent(a)}let dg=0;function sK(){m.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:FN()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:FN()),dg++,()=>{dg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),dg--}},[])}function FN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const fg="focusScope.autoFocusOnMount",mg="focusScope.autoFocusOnUnmount",BN={bubbles:!1,cancelable:!0},oK=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=m.useState(null),u=Hs(s),d=Hs(a),f=m.useRef(null),p=In(t,v=>c(v)),h=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(C){if(h.paused||!l)return;const S=C.target;l.contains(S)?f.current=S:co(f.current,{select:!0})},w=function(C){if(h.paused||!l)return;const S=C.relatedTarget;S!==null&&(l.contains(S)||co(f.current,{select:!0}))},j=function(C){const S=document.activeElement;for(const P of C)P.removedNodes.length>0&&(l!=null&&l.contains(S)||co(l))};var v=y,b=w,x=j;document.addEventListener("focusin",y),document.addEventListener("focusout",w);const N=new MutationObserver(j);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),N.disconnect()}}},[r,l,h.paused]),m.useEffect(()=>{if(l){zN.add(h);const v=document.activeElement;if(!l.contains(v)){const x=new CustomEvent(fg,BN);l.addEventListener(fg,u),l.dispatchEvent(x),x.defaultPrevented||(aK(dK(MR(l)),{select:!0}),document.activeElement===v&&co(l))}return()=>{l.removeEventListener(fg,u),setTimeout(()=>{const x=new CustomEvent(mg,BN);l.addEventListener(mg,d),l.dispatchEvent(x),x.defaultPrevented||co(v??document.body,{select:!0}),l.removeEventListener(mg,d),zN.remove(h)},0)}}},[l,u,d,h]);const g=m.useCallback(v=>{if(!n&&!r||h.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(b&&x){const y=v.currentTarget,[w,j]=iK(y);w&&j?!v.shiftKey&&x===j?(v.preventDefault(),n&&co(w,{select:!0})):v.shiftKey&&x===w&&(v.preventDefault(),n&&co(j,{select:!0})):x===y&&v.preventDefault()}},[n,r,h.paused]);return m.createElement(sn.div,Ne({tabIndex:-1},i,{ref:p,onKeyDown:g}))});function aK(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(co(r,{select:t}),document.activeElement!==n)return}function iK(e){const t=MR(e),n=VN(t,e),r=VN(t.reverse(),e);return[n,r]}function MR(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function VN(e,t){for(const n of e)if(!lK(n,{upTo:t}))return n}function lK(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function cK(e){return e instanceof HTMLInputElement&&"select"in e}function co(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&cK(e)&&t&&e.select()}}const zN=uK();function uK(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=UN(e,t),e.unshift(t)},remove(t){var n;e=UN(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function UN(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function dK(e){return e.filter(t=>t.tagName!=="A")}const Gs=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},fK=iu["useId".toString()]||(()=>{});let mK=0;function IR(e){const[t,n]=m.useState(fK());return Gs(()=>{e||n(r=>r??String(mK++))},[e]),e||(t?`radix-${t}`:"")}function pK(e){const[t,n]=m.useState(void 0);return Gs(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const OR="Popper",[$R,_R]=lb(OR),[hK,LR]=$R(OR),gK=e=>{const{__scopePopper:t,children:n}=e,[r,s]=m.useState(null);return m.createElement(hK,{scope:t,anchor:r,onAnchorChange:s},n)},vK="PopperAnchor",xK=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=LR(vK,n),i=m.useRef(null),l=In(t,i);return m.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:m.createElement(sn.div,Ne({},s,{ref:l}))}),FR="PopperContent",[yK,Foe]=$R(FR),bK=m.forwardRef((e,t)=>{var n,r,s,a,i,l,c,u;const{__scopePopper:d,side:f="bottom",sideOffset:p=0,align:h="center",alignOffset:g=0,arrowPadding:v=0,collisionBoundary:b=[],collisionPadding:x=0,sticky:y="partial",hideWhenDetached:w=!1,avoidCollisions:j=!0,onPlaced:N,...C}=e,S=LR(FR,d),[P,R]=m.useState(null),E=In(t,ke=>R(ke)),[D,A]=m.useState(null),$=pK(D),I=(n=$==null?void 0:$.width)!==null&&n!==void 0?n:0,z=(r=$==null?void 0:$.height)!==null&&r!==void 0?r:0,V=f+(h!=="center"?"-"+h:""),k=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},T=Array.isArray(b)?b:[b],_=T.length>0,O={padding:k,boundary:T.filter(wK),altBoundary:_},{refs:M,floatingStyles:F,placement:W,isPositioned:J,middlewareData:ie}=rT({strategy:"fixed",placement:V,whileElementsMounted:tT,elements:{reference:S.anchor},middleware:[sT({mainAxis:p+z,alignmentAxis:g}),j&&oT({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?aT():void 0,...O}),j&&iT({...O}),lT({...O,apply:({elements:ke,rects:Xe,availableWidth:Y,availableHeight:re})=>{const{width:Oe,height:Ke}=Xe.reference,gt=ke.floating.style;gt.setProperty("--radix-popper-available-width",`${Y}px`),gt.setProperty("--radix-popper-available-height",`${re}px`),gt.setProperty("--radix-popper-anchor-width",`${Oe}px`),gt.setProperty("--radix-popper-anchor-height",`${Ke}px`)}}),D&&uT({element:D,padding:v}),jK({arrowWidth:I,arrowHeight:z}),w&&cT({strategy:"referenceHidden"})]}),[H,U]=BR(W),oe=Hs(N);Gs(()=>{J&&(oe==null||oe())},[J,oe]);const ae=(s=ie.arrow)===null||s===void 0?void 0:s.x,q=(a=ie.arrow)===null||a===void 0?void 0:a.y,de=((i=ie.arrow)===null||i===void 0?void 0:i.centerOffset)!==0,[ce,Pe]=m.useState();return Gs(()=>{P&&Pe(window.getComputedStyle(P).zIndex)},[P]),m.createElement("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:J?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(l=ie.transformOrigin)===null||l===void 0?void 0:l.x,(c=ie.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:e.dir},m.createElement(yK,{scope:d,placedSide:H,onArrowChange:A,arrowX:ae,arrowY:q,shouldHideArrow:de},m.createElement(sn.div,Ne({"data-side":H,"data-align":U},C,{ref:E,style:{...C.style,animation:J?void 0:"none",opacity:(u=ie.hide)!==null&&u!==void 0&&u.referenceHidden?0:void 0}}))))});function wK(e){return e!==null}const jK=e=>({name:"transformOrigin",options:e,fn(t){var n,r,s,a,i;const{placement:l,rects:c,middlewareData:u}=t,f=((n=u.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,p=f?0:e.arrowWidth,h=f?0:e.arrowHeight,[g,v]=BR(l),b={start:"0%",center:"50%",end:"100%"}[v],x=((r=(s=u.arrow)===null||s===void 0?void 0:s.x)!==null&&r!==void 0?r:0)+p/2,y=((a=(i=u.arrow)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0)+h/2;let w="",j="";return g==="bottom"?(w=f?b:`${x}px`,j=`${-h}px`):g==="top"?(w=f?b:`${x}px`,j=`${c.floating.height+h}px`):g==="right"?(w=`${-h}px`,j=f?b:`${y}px`):g==="left"&&(w=`${c.floating.width+h}px`,j=f?b:`${y}px`),{data:{x:w,y:j}}}});function BR(e){const[t,n="center"]=e.split("-");return[t,n]}const NK=gK,CK=xK,SK=bK,PK=m.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...s}=e;return r?Nm.createPortal(m.createElement(sn.div,Ne({},s,{ref:t})),r):null});function WN({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=EK({defaultProp:t,onChange:n}),a=e!==void 0,i=a?e:r,l=Hs(n),c=m.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[a,e,s,l]);return[i,c]}function EK({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,s=m.useRef(r),a=Hs(t);return m.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}function DK(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const TK=m.forwardRef((e,t)=>m.createElement(sn.span,Ne({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var VR=Cy(),pg=function(){},pp=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:pg,onWheelCapture:pg,onTouchMoveCapture:pg}),s=r[0],a=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,h=e.noIsolation,g=e.inert,v=e.allowPinchZoom,b=e.as,x=b===void 0?"div":b,y=Hm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=p,j=Ny([n,t]),N=ht(ht({},y),s);return m.createElement(m.Fragment,null,d&&m.createElement(w,{sideCar:VR,removeScrollBar:u,shards:f,noIsolation:h,inert:g,setCallbacks:a,allowPinchZoom:!!v,lockRef:n}),i?m.cloneElement(m.Children.only(l),ht(ht({},N),{ref:j})):m.createElement(x,ht({},N,{className:c,ref:j}),l))});pp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pp.classNames={fullWidth:_i,zeroRight:$i};var jx=!1;if(typeof window<"u")try{var wd=Object.defineProperty({},"passive",{get:function(){return jx=!0,!0}});window.addEventListener("test",wd,wd),window.removeEventListener("test",wd,wd)}catch{jx=!1}var li=jx?{passive:!1}:!1,AK=function(e){return e.tagName==="TEXTAREA"},zR=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!AK(e)&&n[t]==="visible")},kK=function(e){return zR(e,"overflowY")},RK=function(e){return zR(e,"overflowX")},HN=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=UR(e,n);if(r){var s=WR(e,n),a=s[1],i=s[2];if(a>i)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},MK=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},IK=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},UR=function(e,t){return e==="v"?kK(t):RK(t)},WR=function(e,t){return e==="v"?MK(t):IK(t)},OK=function(e,t){return e==="h"&&t==="rtl"?-1:1},$K=function(e,t,n,r,s){var a=OK(e,window.getComputedStyle(t).direction),i=a*r,l=n.target,c=t.contains(l),u=!1,d=i>0,f=0,p=0;do{var h=WR(e,l),g=h[0],v=h[1],b=h[2],x=v-b-a*g;(g||x)&&UR(e,l)&&(f+=x,p+=g),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(s&&f===0||!s&&i>f)||!d&&(s&&p===0||!s&&-i>p))&&(u=!0),u},jd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},GN=function(e){return[e.deltaX,e.deltaY]},YN=function(e){return e&&"current"in e?e.current:e},_K=function(e,t){return e[0]===t[0]&&e[1]===t[1]},LK=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},FK=0,ci=[];function BK(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(FK++)[0],a=m.useState(function(){return Ym()})[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=jy([e.lockRef.current],(e.shards||[]).map(YN),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(v,b){if("touches"in v&&v.touches.length===2)return!i.current.allowPinchZoom;var x=jd(v),y=n.current,w="deltaX"in v?v.deltaX:y[0]-x[0],j="deltaY"in v?v.deltaY:y[1]-x[1],N,C=v.target,S=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in v&&S==="h"&&C.type==="range")return!1;var P=HN(S,C);if(!P)return!0;if(P?N=S:(N=S==="v"?"h":"v",P=HN(S,C)),!P)return!1;if(!r.current&&"changedTouches"in v&&(w||j)&&(r.current=N),!N)return!0;var R=r.current||N;return $K(R,b,v,R==="h"?w:j,!0)},[]),c=m.useCallback(function(v){var b=v;if(!(!ci.length||ci[ci.length-1]!==a)){var x="deltaY"in b?GN(b):jd(b),y=t.current.filter(function(N){return N.name===b.type&&N.target===b.target&&_K(N.delta,x)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var w=(i.current.shards||[]).map(YN).filter(Boolean).filter(function(N){return N.contains(b.target)}),j=w.length>0?l(b,w[0]):!i.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=m.useCallback(function(v,b,x,y){var w={name:v,delta:b,target:x,should:y};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=m.useCallback(function(v){n.current=jd(v),r.current=void 0},[]),f=m.useCallback(function(v){u(v.type,GN(v),v.target,l(v,e.lockRef.current))},[]),p=m.useCallback(function(v){u(v.type,jd(v),v.target,l(v,e.lockRef.current))},[]);m.useEffect(function(){return ci.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,li),document.addEventListener("touchmove",c,li),document.addEventListener("touchstart",d,li),function(){ci=ci.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,li),document.removeEventListener("touchmove",c,li),document.removeEventListener("touchstart",d,li)}},[]);var h=e.removeScrollBar,g=e.inert;return m.createElement(m.Fragment,null,g?m.createElement(a,{styles:LK(s)}):null,h?m.createElement(Py,{gapMode:"margin"}):null)}const VK=Sy(VR,BK);var HR=m.forwardRef(function(e,t){return m.createElement(pp,ht({},e,{ref:t,sideCar:VK}))});HR.classNames=pp.classNames;const zK=HR,UK=[" ","Enter","ArrowUp","ArrowDown"],WK=[" ","Enter"],hp="Select",[gp,cb,HK]=Gq(hp),[bl,Boe]=lb(hp,[HK,_R]),ub=_R(),[GK,Ka]=bl(hp),[YK,qK]=bl(hp),KK=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:h}=e,g=ub(t),[v,b]=m.useState(null),[x,y]=m.useState(null),[w,j]=m.useState(!1),N=qq(u),[C=!1,S]=WN({prop:r,defaultProp:s,onChange:a}),[P,R]=WN({prop:i,defaultProp:l,onChange:c}),E=m.useRef(null),D=v?!!v.closest("form"):!0,[A,$]=m.useState(new Set),I=Array.from(A).map(z=>z.props.value).join(";");return m.createElement(NK,g,m.createElement(GK,{required:h,scope:t,trigger:v,onTriggerChange:b,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:w,onValueNodeHasChildrenChange:j,contentId:IR(),value:P,onValueChange:R,open:C,onOpenChange:S,dir:N,triggerPointerDownPosRef:E,disabled:p},m.createElement(gp.Provider,{scope:t},m.createElement(YK,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(z=>{$(V=>new Set(V).add(z))},[]),onNativeOptionRemove:m.useCallback(z=>{$(V=>{const k=new Set(V);return k.delete(z),k})},[])},n)),D?m.createElement(qR,{key:I,"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:z=>R(z.target.value),disabled:p},P===void 0?m.createElement("option",{value:""}):null,Array.from(A)):null))},XK="SelectTrigger",JK=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=ub(n),i=Ka(XK,n),l=i.disabled||r,c=In(t,i.onTriggerChange),u=cb(n),[d,f,p]=KR(g=>{const v=u().filter(y=>!y.disabled),b=v.find(y=>y.value===i.value),x=XR(v,g,b);x!==void 0&&i.onValueChange(x.value)}),h=()=>{l||(i.onOpenChange(!0),p())};return m.createElement(CK,Ne({asChild:!0},a),m.createElement(sn.button,Ne({type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":i.value===void 0?"":void 0},s,{ref:c,onClick:un(s.onClick,g=>{g.currentTarget.focus()}),onPointerDown:un(s.onPointerDown,g=>{const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&(h(),i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)},g.preventDefault())}),onKeyDown:un(s.onKeyDown,g=>{const v=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(v&&g.key===" ")&&UK.includes(g.key)&&(h(),g.preventDefault())})})))}),QK="SelectValue",ZK=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:i,...l}=e,c=Ka(QK,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=In(t,c.onValueNodeChange);return Gs(()=>{u(d)},[u,d]),m.createElement(sn.span,Ne({},l,{ref:f,style:{pointerEvents:"none"}}),c.value===void 0&&i!==void 0?i:a)}),eX=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return m.createElement(sn.span,Ne({"aria-hidden":!0},s,{ref:t}),r||"▼")}),tX=e=>m.createElement(PK,Ne({asChild:!0},e)),sl="SelectContent",nX=m.forwardRef((e,t)=>{const n=Ka(sl,e.__scopeSelect),[r,s]=m.useState();if(Gs(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?$t.createPortal(m.createElement(GR,{scope:e.__scopeSelect},m.createElement(gp.Slot,{scope:e.__scopeSelect},m.createElement("div",null,e.children))),a):null}return m.createElement(rX,Ne({},e,{ref:t}))}),Cs=10,[GR,vp]=bl(sl),rX=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:g,hideWhenDetached:v,avoidCollisions:b,...x}=e,y=Ka(sl,n),[w,j]=m.useState(null),[N,C]=m.useState(null),S=In(t,U=>j(U)),[P,R]=m.useState(null),[E,D]=m.useState(null),A=cb(n),[$,I]=m.useState(!1),z=m.useRef(!1);m.useEffect(()=>{if(w)return Su(w)},[w]),sK();const V=m.useCallback(U=>{const[oe,...ae]=A().map(ce=>ce.ref.current),[q]=ae.slice(-1),de=document.activeElement;for(const ce of U)if(ce===de||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===oe&&N&&(N.scrollTop=0),ce===q&&N&&(N.scrollTop=N.scrollHeight),ce==null||ce.focus(),document.activeElement!==de))return},[A,N]),k=m.useCallback(()=>V([P,w]),[V,P,w]);m.useEffect(()=>{$&&k()},[$,k]);const{onOpenChange:T,triggerPointerDownPosRef:_}=y;m.useEffect(()=>{if(w){let U={x:0,y:0};const oe=q=>{var de,ce,Pe,ke;U={x:Math.abs(Math.round(q.pageX)-((de=(ce=_.current)===null||ce===void 0?void 0:ce.x)!==null&&de!==void 0?de:0)),y:Math.abs(Math.round(q.pageY)-((Pe=(ke=_.current)===null||ke===void 0?void 0:ke.y)!==null&&Pe!==void 0?Pe:0))}},ae=q=>{U.x<=10&&U.y<=10?q.preventDefault():w.contains(q.target)||T(!1),document.removeEventListener("pointermove",oe),_.current=null};return _.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",ae,{capture:!0})}}},[w,T,_]),m.useEffect(()=>{const U=()=>T(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[T]);const[O,M]=KR(U=>{const oe=A().filter(de=>!de.disabled),ae=oe.find(de=>de.ref.current===document.activeElement),q=XR(oe,U,ae);q&&setTimeout(()=>q.ref.current.focus())}),F=m.useCallback((U,oe,ae)=>{const q=!z.current&&!ae;(y.value!==void 0&&y.value===oe||q)&&(R(U),q&&(z.current=!0))},[y.value]),W=m.useCallback(()=>w==null?void 0:w.focus(),[w]),J=m.useCallback((U,oe,ae)=>{const q=!z.current&&!ae;(y.value!==void 0&&y.value===oe||q)&&D(U)},[y.value]),ie=r==="popper"?qN:sX,H=ie===qN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:g,hideWhenDetached:v,avoidCollisions:b}:{};return m.createElement(GR,{scope:n,content:w,viewport:N,onViewportChange:C,itemRefCallback:F,selectedItem:P,onItemLeave:W,itemTextRefCallback:J,focusSelectedItem:k,selectedItemText:E,position:r,isPositioned:$,searchRef:O},m.createElement(zK,{as:Qc,allowPinchZoom:!0},m.createElement(oK,{asChild:!0,trapped:y.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:un(s,U=>{var oe;(oe=y.trigger)===null||oe===void 0||oe.focus({preventScroll:!0}),U.preventDefault()})},m.createElement(tK,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>y.onOpenChange(!1)},m.createElement(ie,Ne({role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:U=>U.preventDefault()},x,H,{onPlaced:()=>I(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:un(x.onKeyDown,U=>{const oe=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!oe&&U.key.length===1&&M(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let q=A().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(U.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const de=U.target,ce=q.indexOf(de);q=q.slice(ce+1)}setTimeout(()=>V(q)),U.preventDefault()}})}))))))}),sX=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=Ka(sl,n),i=vp(sl,n),[l,c]=m.useState(null),[u,d]=m.useState(null),f=In(t,S=>d(S)),p=cb(n),h=m.useRef(!1),g=m.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:x,focusSelectedItem:y}=i,w=m.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&v&&b&&x){const S=a.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),R=a.valueNode.getBoundingClientRect(),E=x.getBoundingClientRect();if(a.dir!=="rtl"){const de=E.left-P.left,ce=R.left-de,Pe=S.left-ce,ke=S.width+Pe,Xe=Math.max(ke,P.width),Y=window.innerWidth-Cs,re=$N(ce,[Cs,Y-Xe]);l.style.minWidth=ke+"px",l.style.left=re+"px"}else{const de=P.right-E.right,ce=window.innerWidth-R.right-de,Pe=window.innerWidth-S.right-ce,ke=S.width+Pe,Xe=Math.max(ke,P.width),Y=window.innerWidth-Cs,re=$N(ce,[Cs,Y-Xe]);l.style.minWidth=ke+"px",l.style.right=re+"px"}const D=p(),A=window.innerHeight-Cs*2,$=v.scrollHeight,I=window.getComputedStyle(u),z=parseInt(I.borderTopWidth,10),V=parseInt(I.paddingTop,10),k=parseInt(I.borderBottomWidth,10),T=parseInt(I.paddingBottom,10),_=z+V+$+T+k,O=Math.min(b.offsetHeight*5,_),M=window.getComputedStyle(v),F=parseInt(M.paddingTop,10),W=parseInt(M.paddingBottom,10),J=S.top+S.height/2-Cs,ie=A-J,H=b.offsetHeight/2,U=b.offsetTop+H,oe=z+V+U,ae=_-oe;if(oe<=J){const de=b===D[D.length-1].ref.current;l.style.bottom="0px";const ce=u.clientHeight-v.offsetTop-v.offsetHeight,Pe=Math.max(ie,H+(de?W:0)+ce+k),ke=oe+Pe;l.style.height=ke+"px"}else{const de=b===D[0].ref.current;l.style.top="0px";const Pe=Math.max(J,z+v.offsetTop+(de?F:0)+H)+ae;l.style.height=Pe+"px",v.scrollTop=oe-J+v.offsetTop}l.style.margin=`${Cs}px 0`,l.style.minHeight=O+"px",l.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[p,a.trigger,a.valueNode,l,u,v,b,x,a.dir,r]);Gs(()=>w(),[w]);const[j,N]=m.useState();Gs(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const C=m.useCallback(S=>{S&&g.current===!0&&(w(),y==null||y(),g.current=!1)},[w,y]);return m.createElement(oX,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:C},m.createElement("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j}},m.createElement(sn.div,Ne({},s,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}}))))}),qN=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Cs,...a}=e,i=ub(n);return m.createElement(SK,Ne({},i,a,{ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[oX,aX]=bl(sl,{}),KN="SelectViewport",iX=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=vp(KN,n),a=aX(KN,n),i=In(t,s.onViewportChange),l=m.useRef(0);return m.createElement(m.Fragment,null,m.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),m.createElement(gp.Slot,{scope:n},m.createElement(sn.div,Ne({"data-radix-select-viewport":"",role:"presentation"},r,{ref:i,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:un(r.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&d){const p=Math.abs(l.current-u.scrollTop);if(p>0){const h=window.innerHeight-Cs*2,g=parseFloat(d.style.minHeight),v=parseFloat(d.style.height),b=Math.max(g,v);if(b<h){const x=b+p,y=Math.min(h,x),w=x-y;d.style.height=y+"px",d.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})}))))}),lX="SelectGroup",[Voe,cX]=bl(lX),uX="SelectLabel",dX=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=cX(uX,n);return m.createElement(sn.div,Ne({id:s.id},r,{ref:t}))}),Nx="SelectItem",[fX,YR]=bl(Nx),mX=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...i}=e,l=Ka(Nx,n),c=vp(Nx,n),u=l.value===r,[d,f]=m.useState(a??""),[p,h]=m.useState(!1),g=In(t,x=>{var y;return(y=c.itemRefCallback)===null||y===void 0?void 0:y.call(c,x,r,s)}),v=IR(),b=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};return m.createElement(fX,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:m.useCallback(x=>{f(y=>{var w;return y||((w=x==null?void 0:x.textContent)!==null&&w!==void 0?w:"").trim()})},[])},m.createElement(gp.ItemSlot,{scope:n,value:r,disabled:s,textValue:d},m.createElement(sn.div,Ne({role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1},i,{ref:g,onFocus:un(i.onFocus,()=>h(!0)),onBlur:un(i.onBlur,()=>h(!1)),onPointerUp:un(i.onPointerUp,b),onPointerMove:un(i.onPointerMove,x=>{if(s){var y;(y=c.onItemLeave)===null||y===void 0||y.call(c)}else x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:un(i.onPointerLeave,x=>{if(x.currentTarget===document.activeElement){var y;(y=c.onItemLeave)===null||y===void 0||y.call(c)}}),onKeyDown:un(i.onKeyDown,x=>{var y;((y=c.searchRef)===null||y===void 0?void 0:y.current)!==""&&x.key===" "||(WK.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})}))))}),Nd="SelectItemText",pX=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,i=Ka(Nd,n),l=vp(Nd,n),c=YR(Nd,n),u=qK(Nd,n),[d,f]=m.useState(null),p=In(t,x=>f(x),c.onItemTextChange,x=>{var y;return(y=l.itemTextRefCallback)===null||y===void 0?void 0:y.call(l,x,c.value,c.disabled)}),h=d==null?void 0:d.textContent,g=m.useMemo(()=>m.createElement("option",{key:c.value,value:c.value,disabled:c.disabled},h),[c.disabled,c.value,h]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=u;return Gs(()=>(v(g),()=>b(g)),[v,b,g]),m.createElement(m.Fragment,null,m.createElement(sn.span,Ne({id:c.textId},a,{ref:p})),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?$t.createPortal(a.children,i.valueNode):null)}),hX="SelectItemIndicator",gX=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return YR(hX,n).isSelected?m.createElement(sn.span,Ne({"aria-hidden":!0},r,{ref:t})):null}),vX=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return m.createElement(sn.div,Ne({"aria-hidden":!0},r,{ref:t}))}),qR=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=m.useRef(null),a=In(t,s),i=DK(n);return m.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&d){const f=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(f)}},[i,n]),m.createElement(TK,{asChild:!0},m.createElement("select",Ne({},r,{ref:a,defaultValue:n})))});qR.displayName="BubbleSelect";function KR(e){const t=Hs(e),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function XR(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=xX(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function xX(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const yX=KK,JR=JK,bX=ZK,wX=eX,jX=tX,QR=nX,NX=iX,ZR=dX,eM=mX,CX=pX,SX=gX,tM=vX,mn=yX,pn=bX,tn=G.forwardRef(({className:e,children:t,iconClassName:n,...r},s)=>o.jsxs(JR,{ref:s,className:le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:[t,o.jsx(wX,{asChild:!0,children:o.jsx(An,{className:le("h-4 w-4 opacity-50",n)})})]}));tn.displayName=JR.displayName;const nn=G.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>o.jsx(jX,{children:o.jsx(QR,{ref:s,className:le("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:o.jsx(NX,{className:le("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));nn.displayName=QR.displayName;const PX=G.forwardRef(({className:e,...t},n)=>o.jsx(ZR,{ref:n,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));PX.displayName=ZR.displayName;const je=G.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(eM,{ref:r,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(SX,{children:o.jsx(fn,{className:"h-4 w-4"})})}),o.jsx(CX,{children:t})]}));je.displayName=eM.displayName;const EX=G.forwardRef(({className:e,...t},n)=>o.jsx(tM,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));EX.displayName=tM.displayName;var xp="Switch",[DX,zoe]=Fr(xp),[TX,AX]=DX(xp),nM=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[p,h]=m.useState(null),g=Qe(t,w=>h(w)),v=m.useRef(!1),b=p?d||!!p.closest("form"):!0,[x,y]=Ua({prop:s,defaultProp:a??!1,onChange:u,caller:xp});return o.jsxs(TX,{scope:n,checked:x,disabled:l,children:[o.jsx(Me.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":aM(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:ge(e.onClick,w=>{y(j=>!j),b&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),b&&o.jsx(oM,{control:p,bubbles:!v.current,name:r,value:c,checked:x,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});nM.displayName=xp;var rM="SwitchThumb",sM=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=AX(rM,n);return o.jsx(Me.span,{"data-state":aM(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});sM.displayName=rM;var kX="SwitchBubbleInput",oM=m.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},a)=>{const i=m.useRef(null),l=Qe(i,a),c=hk(n),u=xy(t);return m.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&h){const g=new Event("click",{bubbles:r});h.call(d,n),d.dispatchEvent(g)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});oM.displayName=kX;function aM(e){return e?"checked":"unchecked"}var iM=nM,RX=sM;const wl=G.forwardRef(({className:e,...t},n)=>o.jsx(iM,{className:le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-green-500 data-[state=unchecked]:bg-input",e),...t,ref:n,children:o.jsx(RX,{className:le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));wl.displayName=iM.displayName;var lM="AlertDialog",[MX,Uoe]=Fr(lM,[Jk]),Js=Jk(),cM=e=>{const{__scopeAlertDialog:t,...n}=e,r=Js(t);return o.jsx(mR,{...r,...n,modal:!0})};cM.displayName=lM;var IX="AlertDialogTrigger",uM=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Js(n);return o.jsx(pR,{...s,...r,ref:t})});uM.displayName=IX;var OX="AlertDialogPortal",dM=e=>{const{__scopeAlertDialog:t,...n}=e,r=Js(t);return o.jsx(hR,{...r,...n})};dM.displayName=OX;var $X="AlertDialogOverlay",fM=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Js(n);return o.jsx(rb,{...s,...r,ref:t})});fM.displayName=$X;var Ui="AlertDialogContent",[_X,LX]=MX(Ui),FX=p3("AlertDialogContent"),mM=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,a=Js(n),i=m.useRef(null),l=Qe(t,i),c=m.useRef(null);return o.jsx(wq,{contentName:Ui,titleName:pM,docsSlug:"alert-dialog",children:o.jsx(_X,{scope:n,cancelRef:c,children:o.jsxs(sb,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:ge(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(FX,{children:r}),o.jsx(VX,{contentRef:i})]})})})});mM.displayName=Ui;var pM="AlertDialogTitle",hM=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Js(n);return o.jsx(ob,{...s,...r,ref:t})});hM.displayName=pM;var gM="AlertDialogDescription",vM=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Js(n);return o.jsx(ab,{...s,...r,ref:t})});vM.displayName=gM;var BX="AlertDialogAction",xM=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Js(n);return o.jsx(fp,{...s,...r,ref:t})});xM.displayName=BX;var yM="AlertDialogCancel",bM=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=LX(yM,n),a=Js(n),i=Qe(t,s);return o.jsx(fp,{...a,...r,ref:i})});bM.displayName=yM;var VX=({contentRef:e})=>{const t=`\`${Ui}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ui}\` by passing a \`${gM}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ui}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},zX=cM,UX=uM,WX=dM,wM=fM,jM=mM,NM=xM,CM=bM,SM=hM,PM=vM;const Ps=zX,Es=UX,HX=WX,EM=G.forwardRef(({className:e,...t},n)=>o.jsx(wM,{className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));EM.displayName=wM.displayName;const Jr=G.forwardRef(({className:e,...t},n)=>o.jsxs(HX,{children:[o.jsx(EM,{}),o.jsx(jM,{ref:n,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Jr.displayName=jM.displayName;const Qr=({className:e,...t})=>o.jsx("div",{className:le("flex flex-col space-y-2 text-center sm:text-left",e),...t});Qr.displayName="AlertDialogHeader";const Zr=({className:e,...t})=>o.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Zr.displayName="AlertDialogFooter";const es=G.forwardRef(({className:e,...t},n)=>o.jsx(SM,{ref:n,className:le("text-lg font-semibold",e),...t}));es.displayName=SM.displayName;const ts=G.forwardRef(({className:e,...t},n)=>o.jsx(PM,{ref:n,className:le("text-sm text-muted-foreground",e),...t}));ts.displayName=PM.displayName;const ns=G.forwardRef(({className:e,...t},n)=>o.jsx(NM,{ref:n,className:le(Bc(),e),...t}));ns.displayName=NM.displayName;const rs=G.forwardRef(({className:e,...t},n)=>o.jsx(CM,{ref:n,className:le(Bc({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));rs.displayName=CM.displayName;var we=function(){return we=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},we.apply(this,arguments)};function GX(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function DM(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function $u(e){return e.mode==="multiple"}function _u(e){return e.mode==="range"}function yp(e){return e.mode==="single"}var YX={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function qX(e,t){return Fe(e,"LLLL y",t)}function KX(e,t){return Fe(e,"d",t)}function XX(e,t){return Fe(e,"LLLL",t)}function JX(e){return"".concat(e)}function QX(e,t){return Fe(e,"cccccc",t)}function ZX(e,t){return Fe(e,"yyyy",t)}var eJ=Object.freeze({__proto__:null,formatCaption:qX,formatDay:KX,formatMonthCaption:XX,formatWeekNumber:JX,formatWeekdayName:QX,formatYearCaption:ZX}),tJ=function(e,t,n){return Fe(e,"do MMMM (EEEE)",n)},nJ=function(){return"Month: "},rJ=function(){return"Go to next month"},sJ=function(){return"Go to previous month"},oJ=function(e,t){return Fe(e,"cccc",t)},aJ=function(e){return"Week n. ".concat(e)},iJ=function(){return"Year: "},lJ=Object.freeze({__proto__:null,labelDay:tJ,labelMonthDropdown:nJ,labelNext:rJ,labelPrevious:sJ,labelWeekNumber:aJ,labelWeekday:oJ,labelYearDropdown:iJ});function cJ(){var e="buttons",t=YX,n=_y,r={},s={},a=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:eJ,labels:lJ,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:a,styles:i,today:l,mode:"default"}}function uJ(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,a=e.fromDate,i=e.toDate;return r?a=kn(r):t&&(a=new Date(t,0,1)),s?i=Qm(s):n&&(i=new Date(n,11,31)),{fromDate:a?tl(a):void 0,toDate:i?tl(i):void 0}}var TM=m.createContext(void 0);function dJ(e){var t,n=e.initialProps,r=cJ(),s=uJ(n),a=s.fromDate,i=s.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!a||!i)&&(l="buttons");var c;(yp(n)||$u(n)||_u(n))&&(c=n.onSelect);var u=we(we(we({},r),n),{captionLayout:l,classNames:we(we({},r.classNames),n.classNames),components:we({},n.components),formatters:we(we({},r.formatters),n.formatters),fromDate:a,labels:we(we({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:we(we({},r.modifiers),n.modifiers),modifiersClassNames:we(we({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:we(we({},r.styles),n.styles),toDate:i});return o.jsx(TM.Provider,{value:u,children:e.children})}function nt(){var e=m.useContext(TM);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function AM(e){var t=nt(),n=t.locale,r=t.classNames,s=t.styles,a=t.formatters.formatCaption;return o.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:n})})}function fJ(e){return o.jsx("svg",we({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function kM(e){var t,n,r=e.onChange,s=e.value,a=e.children,i=e.caption,l=e.className,c=e.style,u=nt(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:fJ;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:a}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function mJ(e){var t,n=nt(),r=n.fromDate,s=n.toDate,a=n.styles,i=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});var f=[];if(ZU(r,s))for(var p=kn(r),h=r.getMonth();h<=s.getMonth();h++)f.push(Hd(p,h));else for(var p=kn(new Date),h=0;h<=11;h++)f.push(Hd(p,h));var g=function(b){var x=Number(b.target.value),y=Hd(kn(e.displayMonth),x);e.onChange(y)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:kM;return o.jsx(v,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:f.map(function(b){return o.jsx("option",{value:b.getMonth(),children:l(b,{locale:i})},b.getMonth())})})}function pJ(e){var t,n=e.displayMonth,r=nt(),s=r.fromDate,a=r.toDate,i=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,p=[];if(!s)return o.jsx(o.Fragment,{});if(!a)return o.jsx(o.Fragment,{});for(var h=s.getFullYear(),g=a.getFullYear(),v=h;v<=g;v++)p.push(iN(Pz(new Date),v));var b=function(y){var w=iN(kn(n),Number(y.target.value));e.onChange(w)},x=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:kM;return o.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:b,value:n.getFullYear(),caption:d(n,{locale:i}),children:p.map(function(y){return o.jsx("option",{value:y.getFullYear(),children:d(y,{locale:i})},y.getFullYear())})})}function hJ(e,t){var n=m.useState(e),r=n[0],s=n[1],a=t===void 0?r:t;return[a,s]}function gJ(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,a=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&nl(a,s)<0){var u=-1*(c-1);s=Jn(a,u)}return i&&nl(s,i)<0&&(s=i),kn(s)}function vJ(){var e=nt(),t=gJ(e),n=hJ(t,e.month),r=n[0],s=n[1],a=function(i){var l;if(!e.disableNavigation){var c=kn(i);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,a]}function xJ(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=kn(e),a=kn(Jn(s,r)),i=nl(a,s),l=[],c=0;c<i;c++){var u=Jn(s,c);l.push(u)}return n&&(l=l.reverse()),l}function yJ(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,i=r?a:1,l=kn(e);if(!n)return Jn(l,i);var c=nl(n,e);if(!(c<a))return Jn(l,i)}}function bJ(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,i=r?a:1,l=kn(e);if(!n)return Jn(l,-i);var c=nl(l,n);if(!(c<=0))return Jn(l,-i)}}var RM=m.createContext(void 0);function wJ(e){var t=nt(),n=vJ(),r=n[0],s=n[1],a=xJ(r,t),i=yJ(r,t),l=bJ(r,t),c=function(f){return a.some(function(p){return Fy(f,p)})},u=function(f,p){c(f)||(p&&LA(f,p)?s(Jn(f,1+t.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:a,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return o.jsx(RM.Provider,{value:d,children:e.children})}function Lu(){var e=m.useContext(RM);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function XN(e){var t,n=nt(),r=n.classNames,s=n.styles,a=n.components,i=Lu().goToMonth,l=function(d){i(Jn(d,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:AM,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[o.jsx("div",{className:r.vhidden,children:u}),o.jsx(mJ,{onChange:l,displayMonth:e.displayMonth}),o.jsx(pJ,{onChange:l,displayMonth:e.displayMonth})]})}function jJ(e){return o.jsx("svg",we({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function NJ(e){return o.jsx("svg",we({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Jf=m.forwardRef(function(e,t){var n=nt(),r=n.classNames,s=n.styles,a=[r.button_reset,r.button];e.className&&a.push(e.className);var i=a.join(" "),l=we(we({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),o.jsx("button",we({},e,{ref:t,type:"button",className:i,style:l}))});function CJ(e){var t,n,r=nt(),s=r.dir,a=r.locale,i=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var p=u(e.previousMonth,{locale:a}),h=[i.nav_button,i.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:a}),v=[i.nav_button,i.nav_button_next].join(" "),b=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:NJ,x=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:jJ;return o.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(Jf,{name:"previous-month","aria-label":p,className:h,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?o.jsx(b,{className:i.nav_icon,style:l.nav_icon}):o.jsx(x,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(Jf,{name:"next-month","aria-label":g,className:v,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?o.jsx(x,{className:i.nav_icon,style:l.nav_icon}):o.jsx(b,{className:i.nav_icon,style:l.nav_icon})})]})}function JN(e){var t=nt().numberOfMonths,n=Lu(),r=n.previousMonth,s=n.nextMonth,a=n.goToMonth,i=n.displayMonths,l=i.findIndex(function(g){return Fy(e.displayMonth,g)}),c=l===0,u=l===i.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),p=function(){r&&a(r)},h=function(){s&&a(s)};return o.jsx(CJ,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:p,onNextClick:h})}function SJ(e){var t,n=nt(),r=n.classNames,s=n.disableNavigation,a=n.styles,i=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:AM,u;return s?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=o.jsx(XN,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(XN,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(JN,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(JN,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:r.caption,style:a.caption,children:u})}function PJ(e){var t=nt(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?o.jsx("tfoot",{className:s,style:r.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:n})})}):o.jsx(o.Fragment,{})}function EJ(e,t,n){for(var r=n?ka(new Date):Or(new Date,{locale:e,weekStartsOn:t}),s=[],a=0;a<7;a++){var i=Wt(r,a);s.push(i)}return s}function DJ(){var e=nt(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,a=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=EJ(s,a,i);return o.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&o.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function TJ(){var e,t=nt(),n=t.classNames,r=t.styles,s=t.components,a=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:DJ;return o.jsx("thead",{style:r.head,className:n.head,children:o.jsx(a,{})})}function AJ(e){var t=nt(),n=t.locale,r=t.formatters.formatDay;return o.jsx(o.Fragment,{children:r(e.date,{locale:n})})}var db=m.createContext(void 0);function kJ(e){if(!$u(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(db.Provider,{value:t,children:e.children})}return o.jsx(RJ,{initialProps:e.initialProps,children:e.children})}function RJ(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,a=t.max,i=function(u,d,f){var p,h;(p=t.onDayClick)===null||p===void 0||p.call(t,u,d,f);var g=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!g){var v=!!(!d.selected&&a&&(r==null?void 0:r.length)===a);if(!v){var b=r?DM([],r,!0):[];if(d.selected){var x=b.findIndex(function(y){return kt(u,y)});b.splice(x,1)}else b.push(u);(h=t.onSelect)===null||h===void 0||h.call(t,b,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=a&&r.length>a-1,f=r.some(function(p){return kt(p,u)});return!!(d&&!f)});var c={selected:r,onDayClick:i,modifiers:l};return o.jsx(db.Provider,{value:c,children:n})}function fb(){var e=m.useContext(db);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function MJ(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?kt(s,e)&&kt(r,e)?void 0:kt(s,e)?{from:s,to:void 0}:kt(r,e)?void 0:ix(r,e)?{from:e,to:s}:{from:r,to:e}:s?ix(e,s)?{from:s,to:e}:{from:e,to:s}:r?LA(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var mb=m.createContext(void 0);function IJ(e){if(!_u(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(mb.Provider,{value:t,children:e.children})}return o.jsx(OJ,{initialProps:e.initialProps,children:e.children})}function OJ(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},a=s.from,i=s.to,l=t.min,c=t.max,u=function(h,g,v){var b,x;(b=t.onDayClick)===null||b===void 0||b.call(t,h,g,v);var y=MJ(h,r);(x=t.onSelect)===null||x===void 0||x.call(t,y,h,g,v)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],i?(d.range_end=[i],kt(a,i)||(d.range_middle=[{after:a,before:i}])):d.range_end=[a]):i&&(d.range_start=[i],d.range_end=[i]),l&&(a&&!i&&d.disabled.push({after:Wd(a,l-1),before:Wt(a,l-1)}),a&&i&&d.disabled.push({after:a,before:Wt(a,l-1)}),!a&&i&&d.disabled.push({after:Wd(i,l-1),before:Wt(i,l-1)})),c){if(a&&!i&&(d.disabled.push({before:Wt(a,-c+1)}),d.disabled.push({after:Wt(a,c-1)})),a&&i){var f=ks(i,a)+1,p=c-f;d.disabled.push({before:Wd(a,p)}),d.disabled.push({after:Wt(i,p)})}!a&&i&&(d.disabled.push({before:Wt(i,-c+1)}),d.disabled.push({after:Wt(i,c-1)}))}return o.jsx(mb.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function pb(){var e=m.useContext(mb);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Yd(e){return Array.isArray(e)?DM([],e,!0):e!==void 0?[e]:[]}function $J(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=Yd(s)}),t}var Lr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Lr||(Lr={}));var _J=Lr.Selected,ws=Lr.Disabled,LJ=Lr.Hidden,FJ=Lr.Today,hg=Lr.RangeEnd,gg=Lr.RangeMiddle,vg=Lr.RangeStart,BJ=Lr.Outside;function VJ(e,t,n){var r,s=(r={},r[_J]=Yd(e.selected),r[ws]=Yd(e.disabled),r[LJ]=Yd(e.hidden),r[FJ]=[e.today],r[hg]=[],r[gg]=[],r[vg]=[],r[BJ]=[],r);return e.fromDate&&s[ws].push({before:e.fromDate}),e.toDate&&s[ws].push({after:e.toDate}),$u(e)?s[ws]=s[ws].concat(t.modifiers[ws]):_u(e)&&(s[ws]=s[ws].concat(n.modifiers[ws]),s[vg]=n.modifiers[vg],s[gg]=n.modifiers[gg],s[hg]=n.modifiers[hg]),s}var MM=m.createContext(void 0);function zJ(e){var t=nt(),n=fb(),r=pb(),s=VJ(t,n,r),a=$J(t.modifiers),i=we(we({},s),a);return o.jsx(MM.Provider,{value:i,children:e.children})}function IM(){var e=m.useContext(MM);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function UJ(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function WJ(e){return!!(e&&typeof e=="object"&&"from"in e)}function HJ(e){return!!(e&&typeof e=="object"&&"after"in e)}function GJ(e){return!!(e&&typeof e=="object"&&"before"in e)}function YJ(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function qJ(e,t){var n,r=t.from,s=t.to;if(r&&s){var a=ks(s,r)<0;a&&(n=[s,r],r=n[0],s=n[1]);var i=ks(e,r)>=0&&ks(s,e)>=0;return i}return s?kt(s,e):r?kt(r,e):!1}function KJ(e){return Oy(e)}function XJ(e){return Array.isArray(e)&&e.every(Oy)}function JJ(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(KJ(n))return kt(e,n);if(XJ(n))return n.includes(e);if(WJ(n))return qJ(e,n);if(YJ(n))return n.dayOfWeek.includes(e.getDay());if(UJ(n)){var r=ks(n.before,e),s=ks(n.after,e),a=r>0,i=s<0,l=ix(n.before,n.after);return l?i&&a:a||i}return HJ(n)?ks(e,n.after)>0:GJ(n)?ks(n.before,e)>0:typeof n=="function"?n(e):!1})}function hb(e,t,n){var r=Object.keys(t).reduce(function(a,i){var l=t[i];return JJ(e,l)&&a.push(i),a},[]),s={};return r.forEach(function(a){return s[a]=!0}),n&&!Fy(e,n)&&(s.outside=!0),s}function QJ(e,t){for(var n=kn(e[0]),r=Qm(e[e.length-1]),s,a,i=n;i<=r;){var l=hb(i,t),c=!l.disabled&&!l.hidden;if(!c){i=Wt(i,1);continue}if(l.selected)return i;l.today&&!a&&(a=i),s||(s=i),i=Wt(i,1)}return a||s}var ZJ=365;function OM(e,t){var n=t.moveBy,r=t.direction,s=t.context,a=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,p={day:Wt,week:ax,month:Jn,year:mz,startOfWeek:function(b){return s.ISOWeek?ka(b):Or(b,{locale:f,weekStartsOn:c})},endOfWeek:function(b){return s.ISOWeek?RA(b):$y(b,{locale:f,weekStartsOn:c})}},h=p[n](e,r==="after"?1:-1);r==="before"&&u?h=pz([u,h]):r==="after"&&d&&(h=hz([d,h]));var g=!0;if(a){var v=hb(h,a);g=!v.disabled&&!v.hidden}return g?h:l.count>ZJ?l.lastFocused:OM(h,{moveBy:n,direction:r,context:s,modifiers:a,retry:we(we({},l),{count:l.count+1})})}var $M=m.createContext(void 0);function eQ(e){var t=Lu(),n=IM(),r=m.useState(),s=r[0],a=r[1],i=m.useState(),l=i[0],c=i[1],u=QJ(t.displayMonths,n),d=s??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(s),a(void 0)},p=function(b){a(b)},h=nt(),g=function(b,x){if(s){var y=OM(s,{moveBy:b,direction:x,context:h,modifiers:n});kt(s,y)||(t.goToDate(y,s),p(y))}},v={focusedDay:s,focusTarget:d,blur:f,focus:p,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return o.jsx($M.Provider,{value:v,children:e.children})}function gb(){var e=m.useContext($M);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function tQ(e,t){var n=IM(),r=hb(e,n,t);return r}var vb=m.createContext(void 0);function nQ(e){if(!yp(e.initialProps)){var t={selected:void 0};return o.jsx(vb.Provider,{value:t,children:e.children})}return o.jsx(rQ,{initialProps:e.initialProps,children:e.children})}function rQ(e){var t=e.initialProps,n=e.children,r=function(a,i,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,i,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,a,a,i,l)},s={selected:t.selected,onDayClick:r};return o.jsx(vb.Provider,{value:s,children:n})}function _M(){var e=m.useContext(vb);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function sQ(e,t){var n=nt(),r=_M(),s=fb(),a=pb(),i=gb(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,p=i.focus,h=i.focusMonthBefore,g=i.focusMonthAfter,v=i.focusYearBefore,b=i.focusYearAfter,x=i.focusStartOfWeek,y=i.focusEndOfWeek,w=function(k){var T,_,O,M;yp(n)?(T=r.onDayClick)===null||T===void 0||T.call(r,e,t,k):$u(n)?(_=s.onDayClick)===null||_===void 0||_.call(s,e,t,k):_u(n)?(O=a.onDayClick)===null||O===void 0||O.call(a,e,t,k):(M=n.onDayClick)===null||M===void 0||M.call(n,e,t,k)},j=function(k){var T;p(e),(T=n.onDayFocus)===null||T===void 0||T.call(n,e,t,k)},N=function(k){var T;f(),(T=n.onDayBlur)===null||T===void 0||T.call(n,e,t,k)},C=function(k){var T;(T=n.onDayMouseEnter)===null||T===void 0||T.call(n,e,t,k)},S=function(k){var T;(T=n.onDayMouseLeave)===null||T===void 0||T.call(n,e,t,k)},P=function(k){var T;(T=n.onDayPointerEnter)===null||T===void 0||T.call(n,e,t,k)},R=function(k){var T;(T=n.onDayPointerLeave)===null||T===void 0||T.call(n,e,t,k)},E=function(k){var T;(T=n.onDayTouchCancel)===null||T===void 0||T.call(n,e,t,k)},D=function(k){var T;(T=n.onDayTouchEnd)===null||T===void 0||T.call(n,e,t,k)},A=function(k){var T;(T=n.onDayTouchMove)===null||T===void 0||T.call(n,e,t,k)},$=function(k){var T;(T=n.onDayTouchStart)===null||T===void 0||T.call(n,e,t,k)},I=function(k){var T;(T=n.onDayKeyUp)===null||T===void 0||T.call(n,e,t,k)},z=function(k){var T;switch(k.key){case"ArrowLeft":k.preventDefault(),k.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":k.preventDefault(),k.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":k.preventDefault(),k.stopPropagation(),u();break;case"ArrowUp":k.preventDefault(),k.stopPropagation(),d();break;case"PageUp":k.preventDefault(),k.stopPropagation(),k.shiftKey?v():h();break;case"PageDown":k.preventDefault(),k.stopPropagation(),k.shiftKey?b():g();break;case"Home":k.preventDefault(),k.stopPropagation(),x();break;case"End":k.preventDefault(),k.stopPropagation(),y();break}(T=n.onDayKeyDown)===null||T===void 0||T.call(n,e,t,k)},V={onClick:w,onFocus:j,onBlur:N,onKeyDown:z,onKeyUp:I,onMouseEnter:C,onMouseLeave:S,onPointerEnter:P,onPointerLeave:R,onTouchCancel:E,onTouchEnd:D,onTouchMove:A,onTouchStart:$};return V}function oQ(){var e=nt(),t=_M(),n=fb(),r=pb(),s=yp(e)?t.selected:$u(e)?n.selected:_u(e)?r.selected:void 0;return s}function aQ(e){return Object.values(Lr).includes(e)}function iQ(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(aQ(r)){var a=e.classNames["day_".concat(r)];a&&n.push(a)}}),n}function lQ(e,t){var n=we({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=we(we({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function cQ(e,t,n){var r,s,a,i=nt(),l=gb(),c=tQ(e,t),u=sQ(e,c),d=oQ(),f=!!(i.onDayClick||i.mode!=="default");m.useEffect(function(){var C;c.outside||l.focusedDay&&f&&kt(l.focusedDay,e)&&((C=n.current)===null||C===void 0||C.focus())},[l.focusedDay,e,n,f,c.outside]);var p=iQ(i,c).join(" "),h=lQ(i,c),g=!!(c.outside&&!i.showOutsideDays||c.hidden),v=(a=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:AJ,b=o.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),x={style:h,className:p,children:b,role:"gridcell"},y=l.focusTarget&&kt(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&kt(l.focusedDay,e),j=we(we(we({},x),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=w||y?0:-1,r)),u),N={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:x};return N}function uQ(e){var t=m.useRef(null),n=cQ(e.date,e.displayMonth,t);return n.isHidden?o.jsx("div",{role:"gridcell"}):n.isButton?o.jsx(Jf,we({name:"day",ref:t},n.buttonProps)):o.jsx("div",we({},n.divProps))}function dQ(e){var t=e.number,n=e.dates,r=nt(),s=r.onWeekNumberClick,a=r.styles,i=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!s)return o.jsx("span",{className:i.weeknumber,style:a.weeknumber,children:d});var f=c(Number(t),{locale:l}),p=function(h){s(t,n,h)};return o.jsx(Jf,{name:"week-number","aria-label":f,className:i.weeknumber,style:a.weeknumber,onClick:p,children:d})}function fQ(e){var t,n,r=nt(),s=r.styles,a=r.classNames,i=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:uQ,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:dQ,d;return i&&(d=o.jsx("td",{className:a.cell,style:s.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:a.row,style:s.row,children:[d,e.dates.map(function(f){return o.jsx("td",{className:a.cell,style:s.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:f})},UU(f))})]})}function QN(e,t,n){for(var r=n!=null&&n.ISOWeek?RA(t):$y(t,n),s=n!=null&&n.ISOWeek?ka(e):Or(e,n),a=ks(r,s),i=[],l=0;l<=a;l++)i.push(Wt(s,l));var c=i.reduce(function(u,d){var f=n!=null&&n.ISOWeek?VU(d):YU(d,n),p=u.find(function(h){return h.weekNumber===f});return p?(p.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function mQ(e,t){var n=QN(kn(e),Qm(e),t);if(t!=null&&t.useFixedWeeks){var r=KU(e,t);if(r<6){var s=n[n.length-1],a=s.dates[s.dates.length-1],i=ax(a,6-r),l=QN(ax(a,1),i,t);n.push.apply(n,l)}}return n}function pQ(e){var t,n,r,s=nt(),a=s.locale,i=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,p=s.firstWeekContainsDate,h=s.ISOWeek,g=mQ(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:h,locale:a,weekStartsOn:f,firstWeekContainsDate:p}),v=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:TJ,b=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:fQ,x=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:PJ;return o.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(v,{}),o.jsx("tbody",{className:i.tbody,style:l.tbody,children:g.map(function(y){return o.jsx(b,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),o.jsx(x,{displayMonth:e.displayMonth})]})}function hQ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var gQ=hQ()?m.useLayoutEffect:m.useEffect,xg=!1,vQ=0;function ZN(){return"react-day-picker-".concat(++vQ)}function xQ(e){var t,n=e??(xg?ZN():null),r=m.useState(n),s=r[0],a=r[1];return gQ(function(){s===null&&a(ZN())},[]),m.useEffect(function(){xg===!1&&(xg=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function yQ(e){var t,n,r=nt(),s=r.dir,a=r.classNames,i=r.styles,l=r.components,c=Lu().displayMonths,u=xQ(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,f=[a.month],p=i.month,h=e.displayIndex===0,g=e.displayIndex===c.length-1,v=!h&&!g;s==="rtl"&&(t=[h,g],g=t[0],h=t[1]),h&&(f.push(a.caption_start),p=we(we({},p),i.caption_start)),g&&(f.push(a.caption_end),p=we(we({},p),i.caption_end)),v&&(f.push(a.caption_between),p=we(we({},p),i.caption_between));var b=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:SJ;return o.jsxs("div",{className:f.join(" "),style:p,children:[o.jsx(b,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(pQ,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function bQ(e){var t=nt(),n=t.classNames,r=t.styles;return o.jsx("div",{className:n.months,style:r.months,children:e.children})}function wQ(e){var t,n,r=e.initialProps,s=nt(),a=gb(),i=Lu(),l=m.useState(!1),c=l[0],u=l[1];m.useEffect(function(){s.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[s.initialFocus,c,a.focus,a.focusTarget,a]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=we(we({},s.styles.root),s.style),p=Object.keys(r).filter(function(g){return g.startsWith("data-")}).reduce(function(g,v){var b;return we(we({},g),(b={},b[v]=r[v],b))},{}),h=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:bQ;return o.jsx("div",we({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},p,{children:o.jsx(h,{children:i.displayMonths.map(function(g,v){return o.jsx(yQ,{displayIndex:v,displayMonth:g},v)})})}))}function jQ(e){var t=e.children,n=GX(e,["children"]);return o.jsx(dJ,{initialProps:n,children:o.jsx(wJ,{children:o.jsx(nQ,{initialProps:n,children:o.jsx(kJ,{initialProps:n,children:o.jsx(IJ,{initialProps:n,children:o.jsx(zJ,{children:o.jsx(eQ,{children:t})})})})})})})}function NQ(e){return o.jsx(jQ,we({},e,{children:o.jsx(wQ,{initialProps:e})}))}function xb({className:e,classNames:t,showOutsideDays:n=!0,...r}){return o.jsx(NQ,{locale:en,showOutsideDays:n,className:le("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:le(Bc({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:le(Bc({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>o.jsx(c2,{className:"h-4 w-4"}),IconRight:({...s})=>o.jsx(gu,{className:"h-4 w-4"})},...r})}xb.displayName="Calendar";const bp=m.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));bp.displayName="Textarea";const ol={ACC:{id:1,type:"ACC",title:"ACC (Consommateur)",clientTitle:"Autoconsommation Collective (ACC)",icon:"🔌",color:"gradient-blue",progress:0,status:"Inscription",isPublic:!0,steps:[{name:"Inscription",status:"completed",icon:"✅",descriptions:{completed:"Votre compte client a été créé avec succès. Bienvenue chez Evatime !"}},{name:"Connexion à la centrale",status:"current",icon:"⚡",descriptions:{current:"Veuillez compléter les informations ci-dessous pour connecter votre centrale.",completed:"Vos informations ont été validées. Nous préparons votre contrat."},form:"ACC_CONNECTION"},{name:"Contrat",status:"pending",icon:"📝",descriptions:{current:"Veuillez signer le contrat en ligne pour finaliser votre adhésion.",completed:"Contrat signé. Le raccordement est en cours.",pending:"Disponible après validation de vos informations de connexion."}},{name:"Attente raccordement",status:"pending",icon:"⏳",descriptions:{current:"Votre centrale est en attente de raccordement, vous serez notifié dès qu’elle est connectée.",completed:"Votre centrale est raccordée et active !",pending:"Disponible après la signature du contrat."}},{name:"Actif",status:"pending",icon:"🌞",descriptions:{completed:"Félicitations ! Vous bénéficiez de l'électricité de votre centrale locale."}}]},Autonomie:{id:6,type:"Autonomie",title:"Autonomie Énergie",clientTitle:"Devenez 100 % autonome en électricité",icon:"💡",color:"gradient-blue",progress:0,status:"Inscription",isPublic:!0,steps:[{name:"Inscription",status:"current",icon:"✅"},{name:"Étude",status:"pending",icon:"🔎"},{name:"Contrat",status:"pending",icon:"📝"},{name:"Installation",status:"pending",icon:"🛠️"},{name:"Actif",status:"pending",icon:"🌞"}]},Centrale:{id:7,type:"Centrale",title:"Centrale Solaire [3-500 kWc]",clientTitle:"Devenez producteur solaire rentable",icon:"☀️",color:"gradient-orange",progress:0,status:"Inscription",isPublic:!0,steps:[{name:"Inscription",status:"completed",icon:"✅",descriptions:{completed:"Votre compte client a été créé avec succès le [date]. Vous pouvez suivre toutes les étapes de votre projet ici."}},{name:"Étude technique & financière",status:"completed",icon:"📝",descriptions:{current:"Merci de compléter vos informations pour que nous puissions vérifier la faisabilité de votre projet : Surface de toiture ou terrain disponible (m²),Adresse Longeur et largeur du batiment, Type de toiture : Bac acier, everite, Fibrociment, amiante oui/non, Orientation/inclinaison approximatives. Prendre Rdv, demande d'appel",completed:"Étude validée le [date]. Votre étude a été envoyée par email et ajoutée à vos documents."}},{name:"Dossier administratif",status:"completed",icon:"✍️",descriptions:{current:"Merci de déposer vos documents : Carte d'identité, RIB, Justificatif de propriété (ou bail), Kbis (si société).",completed:"Votre dossier administratif a été validé et transmis le [date].",pending:"Disponible une fois l'étude technique validée."}},{name:"Contrat",status:"current",icon:"✍️",descriptions:{current:"Veuillez signer le contrat en ligne. (Pour toute question, contactez Charly.)",completed:"Contrat signé le [date]. Merci de votre confiance !",pending:"Vous pourrez signer le contrat une fois votre dossier administratif validé."}},{name:"Contrat",status:"current",icon:"✍️",descriptions:{current:"Veuillez signer le contrat en ligne. (Pour toute question, contactez Charly.)",completed:"Contrat signé le [date]. Merci de votre confiance !",pending:"Vous pourrez signer le contrat une fois votre dossier administratif validé."}},{name:"Dépôt mairie",status:"pending",icon:"🏦",descriptions:{current:"Nous préparons votre dossier urbanisme. Vous serez averti automatiquement lors du résultat .",completed:"Votre dossier a été déposé en mairie le [date]. Permis accordé le ( date ).",pending:"Disponible après la signature du contrat."}},{name:"Validation Enedis",status:"pending",icon:"💡",descriptions:{current:"Demande de raccordement envoyée à Enedis. Délai moyen : [X] semaines.",completed:"Raccordement validé par Enedis le [date].",pending:"Disponible après la validation en mairie."}},{name:"Commande matériel",status:"pending",icon:"📦",descriptions:{current:"Le matériel (panneaux, onduleurs, structures) est en cours de commande. Livraison prévue le [date].",completed:"Matériel livré et prêt pour l’installation.",pending:"Disponible après validation Enedis."}},{name:"Installation chantier",status:"pending",icon:"👷",descriptions:{current:"Notre équipe installe actuellement votre centrale solaire. Durée moyenne : 1 à 3 semaines.",completed:"Installation terminée le [date].",pending:"Disponible après livraison du matériel."}},{name:"Contrôles & Consuel",status:"pending",icon:"📋",descriptions:{current:"Inspection en cours par le Consuel pour vérifier la conformité électrique.",completed:"Contrôle validé par le Consuel le [date].",pending:"Disponible après l’installation."}},{name:"Mise en service",status:"pending",icon:"⚡️",descriptions:{current:"Nous finalisons la mise en service avec Enedis. Vous serez averti dès activation.",completed:"Félicitations ! Votre centrale est en service depuis le [date]. Vous commencez à vendre votre électricité.",pending:"Disponible après validation Consuel."}}]},Investissement:{id:8,type:"Investissement",title:"Investissement Solaire",clientTitle:"Investissez dans le solaire dès 50 €",icon:"💸",color:"gradient-teal",progress:0,status:"Inscription",isPublic:!0,steps:[{name:"Inscription",status:"current",icon:"✅"},{name:"Validation",status:"pending",icon:"🔎"},{name:"Placement",status:"pending",icon:"💶"},{name:"Gains",status:"pending",icon:"📈"}]},ProducteurPro:{id:9,type:"ProducteurPro",title:"Producteur Professionnel",clientTitle:"Devenez Producteur Professionnel",icon:"🏭",color:"gradient-purple",progress:0,status:"Inscription",isPublic:!1,steps:[{name:"Inscription",status:"current",icon:"✅"},{name:"Analyse Technique",status:"pending",icon:"🔧"},{name:"Offre de rachat",status:"pending",icon:"💶"},{name:"Contrat Partenaire",status:"pending",icon:"✍️"},{name:"Actif",status:"pending",icon:"⚡️"}]}},eC=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M22.56 12.25C22.56 11.45 22.49 10.68 22.36 9.92H12.27V14.4H18.16C17.86 15.86 17.03 17.11 15.82 17.9V20.36H19.34C21.43 18.42 22.56 15.58 22.56 12.25Z",fill:"#4285F4"}),o.jsx("path",{d:"M12.27 23C15.22 23 17.73 22.03 19.34 20.36L15.82 17.9C14.86 18.53 13.66 18.88 12.27 18.88C9.56 18.88 7.23 17.13 6.38 14.71H2.74V17.2C4.43 20.62 8.03 23 12.27 23Z",fill:"#34A853"}),o.jsx("path",{d:"M6.38 14.71C6.15 14.03 6.02 13.29 6.02 12.5C6.02 11.71 6.15 10.97 6.38 10.29V7.8H2.74C1.65 9.94 1 12.12 1 14.5C1 16.88 1.65 19.06 2.74 21.2L6.38 17.81V14.71Z",fill:"#FBBC05"}),o.jsx("path",{d:"M12.27 6.12C13.75 6.12 15.05 6.63 15.98 7.5L19.41 4.08C17.73 2.54 15.22 1.5 12.27 1.5C8.03 1.5 4.43 3.88 2.74 7.29L6.38 9.71C7.23 7.37 9.56 6.12 12.27 6.12Z",fill:"#EA4335"})]}),tC=({className:e})=>o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[o.jsx("line",{x1:"8",y1:"6",x2:"8",y2:"18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("polyline",{points:"12 8 16 12 12 16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),nC=Array.from({length:15},(e,t)=>`${8+t}:00`),CQ=({event:e,onClose:t,onReport:n,onEdit:r})=>{var b;const{prospects:s,users:a,updateAppointment:i,deleteAppointment:l}=Ce(),[c,u]=m.useState((e==null?void 0:e.status)||"pending");if(m.useEffect(()=>{e&&u(e.status)},[e]),!e)return null;const d=s.find(x=>x.id===e.contactId),f=a[e.assignedUserId]||(d?a[d.ownerId]:null),p=x=>{u(x);const y={...e,status:x};i(y),setTimeout(()=>{t(),x==="reporte"&&n(e)},300)},h=()=>{l(e.id),K({title:"✅ RDV supprimé",description:"Le rendez-vous a été retiré de votre agenda."}),t()},g=x=>{if(!d){K({title:"Contact non trouvé",variant:"destructive"});return}switch(x){case"Appel":d.phone&&(window.location.href=`tel:${d.phone}`);break;case"Mail":d.email&&(window.location.href=`mailto:${d.email}`);break;case"WhatsApp":if(d.phone){let y=d.phone.replace(/\D/g,"");y.startsWith("0")&&(y=`33${y.substring(1)}`);const w=encodeURIComponent("Bonjour");window.open(`https://wa.me/${y}?text=${w}`,"_blank")}break;case"GPS":if(d.address){const y=encodeURIComponent(d.address);/Mac|iPod|iPhone|iPad/.test(navigator.platform)?window.location.href=`maps://?q=${y}`:window.open(`https://www.google.com/maps/search/?api=1&query=${y}`,"_blank")}break;default:K({title:`Action: ${x}`,description:"🚧 Cette fonctionnalité n'est pas encore implémentée."})}},v={pending:{color:"bg-blue-500",label:"Qualifier votre activité"},effectue:{color:"bg-green-500",label:"Effectué"},annule:{color:"bg-red-500",label:"Annulé"},reporte:{color:"bg-yellow-500",label:"Reporté"}};return o.jsx(Ot,{open:!!e,onOpenChange:x=>!x&&t(),children:o.jsxs(Pt,{className:"sm:max-w-md p-0",children:[o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs(Et,{className:"p-0 text-left space-y-1",children:[o.jsx(Dt,{className:"text-2xl font-bold text-gray-900",children:e.summary}),o.jsxs(Hn,{className:"text-base text-gray-500",children:[yb(Fe(e.start,"eeee d MMMM, HH:mm",{locale:en}))," - ",Fe(e.end,"HH:mm",{locale:en})]})]}),o.jsxs("div",{className:"flex items-start space-x-3 text-gray-600",children:[o.jsx(Rr,{className:"h-5 w-5 text-gray-400 mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Participants"}),d&&o.jsxs("p",{className:"text-sm",children:[d.name," (Client)"]}),f&&o.jsxs("p",{className:"text-sm",children:[f.name," (Assigné)"]})]})]})]}),o.jsxs("div",{className:"border-t border-gray-200 p-6 space-y-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:"Actions rapides"}),o.jsx("div",{className:"grid grid-cols-4 gap-2 text-center",children:[{icon:yt,label:"Appel"},{icon:Lt,label:"Mail"},{icon:xu,label:"WhatsApp"},{icon:Ks,label:"GPS"}].map(({icon:x,label:y})=>o.jsxs("button",{onClick:()=>g(y),className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-blue-600 transition-colors group",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center group-hover:bg-blue-100",children:o.jsx(x,{className:"h-6 w-6"})}),o.jsx("span",{className:"text-xs font-medium",children:y})]},y))})]}),o.jsx("div",{className:`p-4 text-white transition-colors ${v[c].color}`,children:o.jsxs(mn,{onValueChange:p,value:c,children:[o.jsx(tn,{className:"w-full bg-transparent border-none text-white text-lg font-semibold focus:ring-0 focus:ring-offset-0 h-auto p-0 text-center justify-center",iconClassName:"h-8 w-8 opacity-100",children:o.jsx(pn,{placeholder:"Qualifier votre activité"})}),o.jsxs(nn,{children:[o.jsx(je,{value:"pending",disabled:!0,children:"Qualifier votre activité"}),o.jsx(je,{value:"effectue",children:"Effectué"}),o.jsx(je,{value:"annule",children:"Annulé"}),o.jsx(je,{value:"reporte",children:"Reporté"})]})]})}),o.jsxs("div",{className:"border-t border-gray-200 p-6 space-y-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:"Infos activité"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Projet"}),o.jsx("span",{className:"font-medium text-gray-800",children:((b=ol[e.projectId])==null?void 0:b.title)||"N/A"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Étape"}),o.jsx("span",{className:"font-medium text-gray-800",children:e.step||"N/A"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Note"}),o.jsx("span",{className:"font-medium text-gray-800 text-right",children:e.description||"Aucune"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Interlocuteur"}),o.jsx("span",{className:"font-medium text-gray-800",children:(d==null?void 0:d.name)||"N/A"})]})]})]}),o.jsxs(Zt,{className:"p-6 bg-gray-50 sm:justify-between",children:[o.jsxs(Ps,{children:[o.jsx(Es,{asChild:!0,children:o.jsxs(B,{variant:"ghost",className:"text-red-600 hover:bg-red-50 hover:text-red-700",children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Supprimer"]})}),o.jsxs(Jr,{children:[o.jsxs(Qr,{children:[o.jsx(es,{children:"Voulez-vous vraiment supprimer ce RDV ?"}),o.jsx(ts,{children:"Cette action est irréversible. Le rendez-vous sera définitivement supprimé."})]}),o.jsxs(Zr,{children:[o.jsx(rs,{children:"Annuler"}),o.jsx(ns,{onClick:h,className:"bg-red-600 hover:bg-red-700",children:"Supprimer"})]})]})]}),o.jsx(B,{className:e!=null&&e.status&&e.status!=="pending"?"bg-gray-400 hover:bg-gray-500 text-gray-700":"bg-blue-600 hover:bg-blue-700",onClick:()=>r(e),children:"Modifier l’activité"})]})]})})},SQ=({activity:e,type:t,onClose:n,onEdit:r})=>{var R,E;const{prospects:s,users:a,updateCall:i,deleteCall:l,updateTask:c,deleteTask:u}=Ce(),[d,f]=m.useState((e==null?void 0:e.status)||"pending"),[p,h]=m.useState((e==null?void 0:e.done)||!1);if(m.useEffect(()=>{e&&(t==="call"&&f(e.status||"pending"),t==="task"&&h(e.done||!1))},[e,t]),!e)return null;const g=s.find(D=>D.id===e.contactId),v=a[e.assignedUserId]||(g?a[g.ownerId]:null),b=D=>{f(D);const A={...e,status:D};t==="call"&&i(A),setTimeout(()=>n(),300)},x=D=>{h(D);const A={...e,done:D};t==="task"&&c(A),setTimeout(()=>n(),300)},y=()=>{t==="call"?(l(e.id),K({title:"✅ Appel supprimé",description:"L'appel a été retiré de votre agenda."})):t==="task"&&(u(e.id),K({title:"✅ Tâche supprimée",description:"La tâche a été retirée de votre agenda."})),n()},w=D=>{if(!g){K({title:"Contact non trouvé",variant:"destructive"});return}switch(D){case"Appel":g.phone&&(window.location.href=`tel:${g.phone}`);break;case"Mail":g.email&&(window.location.href=`mailto:${g.email}`);break;case"WhatsApp":if(g.phone){let A=g.phone.replace(/\D/g,"");A.startsWith("0")&&(A=`33${A.substring(1)}`);const $=encodeURIComponent("Bonjour");window.open(`https://wa.me/${A}?text=${$}`,"_blank")}break;case"GPS":if(g.address){const A=encodeURIComponent(g.address);/Mac|iPod|iPhone|iPad/.test(navigator.platform)?window.location.href=`maps://?q=${A}`:window.open(`https://www.google.com/maps/search/?api=1&query=${A}`,"_blank")}break;default:K({title:`Action: ${D}`,description:"🚧 Cette fonctionnalité n'est pas encore implémentée."})}},j=t==="call",N=t==="task",C=j?`Appel: ${e.name}`:`Tâche: ${e.text}`,S=`Prévu le ${yb(Fe(new Date(e.date),"eeee d MMMM 'à' HH:mm",{locale:en}))}`,P={pending:{color:"bg-blue-500",label:"Qualifier votre activité"},effectue:{color:"bg-green-500",label:"Effectué"},annule:{color:"bg-red-500",label:"Annulé"}};return o.jsx(Ot,{open:!!e,onOpenChange:D=>!D&&n(),children:o.jsxs(Pt,{className:"sm:max-w-md p-0",children:[o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs(Et,{className:"p-0 text-left space-y-1",children:[o.jsx(Dt,{className:"text-2xl font-bold text-gray-900",children:C}),o.jsx(Hn,{className:"text-base text-gray-500",children:S})]}),o.jsxs("div",{className:"flex items-start space-x-3 text-gray-600",children:[o.jsx(Rr,{className:"h-5 w-5 text-gray-400 mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Participants"}),g&&o.jsxs("p",{className:"text-sm",children:[g.name," (Client)"]}),v&&o.jsxs("p",{className:"text-sm",children:[v.name," (Assigné)"]})]})]})]}),o.jsxs("div",{className:"border-t border-gray-200 p-6 space-y-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:"Actions rapides"}),o.jsx("div",{className:"grid grid-cols-4 gap-2 text-center",children:[{icon:yt,label:"Appel"},{icon:Lt,label:"Mail"},{icon:xu,label:"WhatsApp"},{icon:Ks,label:"GPS"}].map(({icon:D,label:A})=>o.jsxs("button",{onClick:()=>w(A),className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-blue-600 transition-colors group",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center group-hover:bg-blue-100",children:o.jsx(D,{className:"h-6 w-6"})}),o.jsx("span",{className:"text-xs font-medium",children:A})]},A))})]}),j&&o.jsx("div",{className:`p-4 text-white transition-colors ${P[d].color}`,children:o.jsxs(mn,{onValueChange:b,value:d,children:[o.jsx(tn,{className:"w-full bg-transparent border-none text-white text-lg font-semibold focus:ring-0 focus:ring-offset-0 h-auto p-0 text-center justify-center",iconClassName:"h-8 w-8 opacity-100",children:o.jsx(pn,{placeholder:"Qualifier votre activité"})}),o.jsxs(nn,{children:[o.jsx(je,{value:"pending",disabled:!0,children:"Qualifier votre activité"}),o.jsx(je,{value:"effectue",children:"Effectué"}),o.jsx(je,{value:"annule",children:"Annulé"})]})]})}),N&&o.jsx("div",{className:"p-6 bg-green-500 text-white",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(wl,{id:"task-done",checked:p,onCheckedChange:x,className:`relative inline-flex h-6 w-12 items-center rounded-full transition-colors duration-300 ${p?"bg-white border border-gray-300":"bg-gray-500"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full transition-transform duration-300 ${p?"translate-x-6 bg-gray-300":"translate-x-1 bg-white"}`})}),o.jsx(Z,{htmlFor:"task-done",className:"text-lg font-semibold text-white",children:p?"Tâche effectuée":"Marquer comme effectuée"})]})}),o.jsxs("div",{className:"border-t border-gray-200 p-6 space-y-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:"Infos activité"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[j&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Projet"}),o.jsx("span",{className:"font-medium text-gray-800",children:((R=ol[e.projectId])==null?void 0:R.title)||"Aucun"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Étape"}),o.jsx("span",{className:"font-medium text-gray-800",children:e.step||"Aucune"})]})]}),N&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Projet"}),o.jsx("span",{className:"font-medium text-gray-800",children:((E=ol[e.projectId])==null?void 0:E.title)||"Aucun"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Étape"}),o.jsx("span",{className:"font-medium text-gray-800",children:e.step||"Aucune"})]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Note"}),o.jsx("span",{className:"font-medium text-gray-800 text-right",children:e.details||(N?e.text:"Aucune")})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Interlocuteur"}),o.jsx("span",{className:"font-medium text-gray-800",children:(g==null?void 0:g.name)||"N/A"})]})]})]}),o.jsxs(Zt,{className:"p-6 bg-gray-50 sm:justify-between",children:[o.jsxs(Ps,{children:[o.jsx(Es,{asChild:!0,children:o.jsxs(B,{variant:"ghost",className:"text-red-600 hover:bg-red-50 hover:text-red-700",children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Supprimer"]})}),o.jsxs(Jr,{children:[o.jsxs(Qr,{children:[o.jsx(es,{children:"Voulez-vous vraiment supprimer cette activité ?"}),o.jsx(ts,{children:"Cette action est irréversible."})]}),o.jsxs(Zr,{children:[o.jsx(rs,{children:"Annuler"}),o.jsx(ns,{onClick:y,className:"bg-red-600 hover:bg-red-700",children:"Supprimer"})]})]})]}),o.jsx(B,{className:t==="call"&&(e!=null&&e.status)&&e.status!=="pending"||t==="task"&&(e!=null&&e.done)?"bg-gray-400 hover:bg-gray-500 text-gray-700":"bg-blue-600 hover:bg-blue-700",onClick:()=>r(e,t),children:"Modifier l’activité"})]})]})})},PQ=({appointment:e,onAppointmentClick:t,onDrop:n})=>{const[r,s]=m.useState(!1),a=e.start instanceof Date?e.start:new Date(e.start),i=e.end instanceof Date?e.end:new Date(e.end);if(!(a instanceof Date)||Number.isNaN(a.getTime())||!(i instanceof Date)||Number.isNaN(i.getTime()))return console.warn("[Agenda] Rendez-vous ignoré car la date est invalide.",e),null;const l=a.getHours(),c=a.getMinutes(),u=i.getHours(),d=i.getMinutes(),f=((l-8)*60+c)*(60/60)+1,p=((u-l)*60+(d-c))*(60/60),h={effectue:"bg-green-500 text-white",annule:"bg-red-500 text-white",reporte:"bg-yellow-400 text-black"},g={effectue:"Effectué",annule:"Annulé",reporte:"Reporté"},v=x=>{s(!0);const y=JSON.stringify({appointmentId:e.id,originalStart:a,originalEnd:i,duration:u-l+(d-c)/60}),w=x.target.cloneNode(!0);w.style.position="absolute",w.style.top="-1000px",w.style.width=x.target.offsetWidth+"px",w.style.height=x.target.offsetHeight+"px",w.style.transform="none",document.body.appendChild(w);const j=x.target.getBoundingClientRect();x.clientX-j.left-j.width/2,x.clientY-j.top-j.height/2,x.dataTransfer.setDragImage(w,j.width/2,j.height/2),setTimeout(()=>{document.body.contains(w)&&document.body.removeChild(w)},100);try{x.dataTransfer.setData("application/json",y)}catch{}try{x.dataTransfer.setData("text/plain",y)}catch{}x.dataTransfer.effectAllowed="move"},b=()=>{s(!1)};return o.jsxs(ee.div,{style:{top:`${f}px`,height:`${p}px`},className:le("absolute w-[90%] left-[5%] p-2 rounded-lg border-l-4 cursor-move overflow-hidden select-none",e.color,r&&"opacity-50 scale-95 shadow-lg z-50"),draggable:!0,onDragStart:v,onDragEnd:b,onClick:x=>{x.stopPropagation(),r||t({...e,start:a,end:i})},initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},title:"Glissez pour déplacer le rendez-vous",children:[o.jsx("p",{className:"font-semibold text-sm truncate",children:e.summary}),o.jsxs("p",{className:"text-xs truncate",children:[Fe(a,"HH:mm")," - ",Fe(i,"HH:mm")]}),e.description&&o.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.description}),g[e.status]&&o.jsx("span",{className:`absolute bottom-1 right-1 text-xs font-bold px-2 py-0.5 rounded-full ${h[e.status]}`,children:g[e.status]})]})},yb=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"",rC=({onAddActivity:e,currentDate:t,selectedUserId:n,onSelectActivity:r,onAppointmentClick:s})=>{const{calls:a,tasks:i,appointments:l,prospects:c,updateTask:u,activeAdminUser:d}=Ce(),f=m.useMemo(()=>{var v;if(!d)return[];const g=d.role==="Global Admin"||d.role==="Admin"?null:[d.id,...((v=d.accessRights)==null?void 0:v.users)||[]];return a.filter(b=>(g?g.includes(b.assignedUserId):!0)&&kt(new Date(b.date),t)&&b.assignedUserId===n)},[a,t,n,d]),p=m.useMemo(()=>{var v;if(!d)return[];const g=d.role==="Global Admin"||d.role==="Admin"?null:[d.id,...((v=d.accessRights)==null?void 0:v.users)||[]];return i.filter(b=>(g?g.includes(b.assignedUserId):!0)&&kt(new Date(b.date),t)&&b.assignedUserId===n)},[i,t,n,d]),h=m.useMemo(()=>{var w;if(!d)return{calls:[],tasks:[],appointments:[]};const g=d.role==="Global Admin"||d.role==="Admin"?null:[d.id,...((w=d.accessRights)==null?void 0:w.users)||[]],v=new Date,b=a.filter(j=>{const N=g?g.includes(j.assignedUserId):!0,C=new Date(`${j.date}T${j.time}`);return N&&C<v&&j.assignedUserId===n&&j.status!=="effectue"&&j.status!=="annule"}),x=i.filter(j=>{const N=g?g.includes(j.assignedUserId):!0,C=new Date(j.date);return C.setHours(23,59,59,999),N&&C<v&&j.assignedUserId===n&&!j.done}),y=l.filter(j=>{const N=g?g.includes(j.assignedUserId):!0,C=new Date(j.end||j.start);return N&&C<v&&j.assignedUserId===n&&j.status!=="effectue"&&j.status!=="annule"&&j.status!=="reporte"});return{calls:b,tasks:x,appointments:y}},[a,i,l,n,d]);return o.jsxs("aside",{className:"w-full lg:w-80 h-full p-5 space-y-6 overflow-y-auto no-scrollbar bg-white rounded-3xl shadow-lg border border-gray-100",children:[o.jsxs("div",{className:"pb-4 border-b border-gray-200 mb-4 flex justify-between items-center",children:[o.jsxs("h2",{className:"flex items-center text-xl font-bold text-gray-900",children:[o.jsx("span",{className:"mr-2 text-2xl",children:"🚀"})," Activité du jour"]}),o.jsx(B,{size:"icon",className:"rounded-full",onClick:()=>e(),children:o.jsx(et,{className:"h-5 w-5"})})]}),(h.calls.length>0||h.tasks.length>0||h.appointments.length>0)&&o.jsxs("details",{open:!0,className:"group",children:[o.jsx("summary",{className:"cursor-pointer",children:o.jsxs("div",{className:"bg-red-500 text-white p-3 rounded-lg flex items-center justify-between shadow-md",children:[o.jsxs("h3",{className:"flex items-center text-base font-semibold",children:[o.jsx(Am,{className:"mr-2 h-5 w-5"})," Activités en retard (",h.calls.length+h.tasks.length+h.appointments.length,")"]}),o.jsx(An,{className:"h-5 w-5 transition-transform duration-200 group-open:rotate-180"})]})}),o.jsxs("div",{className:"space-y-2 pt-3 pl-2",children:[h.appointments.map(g=>{const v=c.find(x=>x.id===g.contactId),b=new Date(g.start);return o.jsx("div",{onClick:()=>s&&s(g),className:"bg-white rounded-lg p-3 shadow-sm cursor-pointer hover:bg-gray-50 border-l-4 border-red-500",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[o.jsx(gr,{className:"mr-2 h-4 w-4 text-red-500 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"font-medium text-sm text-gray-800 truncate",children:g.summary||g.title||"RDV"}),v&&o.jsxs("p",{className:"text-xs text-gray-600 truncate",children:["avec ",v.name]}),g.description&&o.jsx("p",{className:"text-xs text-gray-500 truncate",children:g.description})]})]}),o.jsxs("div",{className:"flex flex-col items-end ml-2",children:[o.jsx("span",{className:"text-xs font-semibold text-red-700 bg-red-100 px-2 py-1 rounded-full whitespace-nowrap",children:Fe(b,"dd/MM")}),o.jsx("span",{className:"text-xs text-gray-500 mt-1",children:Fe(b,"HH:mm")})]})]})},`overdue-appointment-${g.id}`)}),h.calls.map(g=>o.jsxs("div",{onClick:()=>r("call",g),className:"bg-white rounded-lg p-3 flex items-center justify-between shadow-sm cursor-pointer hover:bg-gray-50 border-l-4 border-red-500",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(yt,{className:"mr-2 h-4 w-4 text-red-500"}),o.jsx("p",{className:"font-medium text-sm text-gray-800",children:g.name})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("span",{className:"text-xs font-semibold text-red-700 bg-red-100 px-2 py-1 rounded-full",children:[Fe(new Date(g.date),"dd/MM")," ",g.time]})})]},`overdue-call-${g.id}`)),h.tasks.map(g=>o.jsxs("div",{onClick:()=>r("task",g),className:"bg-white rounded-lg p-3 flex items-center justify-between shadow-sm cursor-pointer hover:bg-gray-50 border-l-4 border-red-500",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(fn,{className:"mr-2 h-4 w-4 text-red-500"}),o.jsx("p",{className:"text-sm font-medium text-gray-800",children:g.text})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{className:"text-xs font-semibold text-red-700 bg-red-100 px-2 py-1 rounded-full",children:Fe(new Date(g.date),"dd/MM")})})]},`overdue-task-${g.id}`))]})]}),o.jsxs("details",{open:!0,className:"group",children:[o.jsx("summary",{className:"cursor-pointer",children:o.jsxs("div",{className:"bg-blue-500 text-white p-3 rounded-lg flex items-center justify-between shadow-md",children:[o.jsxs("h3",{className:"flex items-center text-base font-semibold",children:[o.jsx(yt,{className:"mr-2 h-5 w-5"})," Appels du jour",h.calls.length>0&&o.jsxs("span",{className:"ml-2 text-xs font-bold bg-red-500 text-white px-2 py-1 rounded-full",children:[h.calls.length," en retard"]})]}),o.jsx(An,{className:"h-5 w-5 transition-transform duration-200 group-open:rotate-180"})]})}),o.jsx("div",{className:"space-y-2 pt-3 pl-2",children:f.length>0?f.map(g=>o.jsxs("div",{onClick:()=>r("call",g),className:"bg-white rounded-lg p-3 flex items-center justify-between shadow-sm cursor-pointer hover:bg-gray-50",children:[o.jsx("p",{className:`font-medium text-sm text-gray-800 ${g.status==="effectue"||g.status==="annule"?"line-through text-gray-400":""}`,children:g.name}),o.jsx("span",{className:"text-xs font-semibold text-blue-700 bg-blue-100 px-2 py-1 rounded-full",children:g.time})]},g.id)):o.jsx("p",{className:"text-sm text-gray-500 px-2",children:"Aucun appel aujourd'hui."})})]}),o.jsxs("details",{open:!0,className:"group",children:[o.jsx("summary",{className:"cursor-pointer",children:o.jsxs("div",{className:"bg-green-500 text-white p-3 rounded-lg flex items-center justify-between shadow-md",children:[o.jsxs("h3",{className:"flex items-center text-base font-semibold",children:[o.jsx(fn,{className:"mr-2 h-5 w-5"})," Tâches",h.tasks.length>0&&o.jsxs("span",{className:"ml-2 text-xs font-bold bg-red-500 text-white px-2 py-1 rounded-full",children:[h.tasks.length," en retard"]})]}),o.jsx(An,{className:"h-5 w-5 transition-transform duration-200 group-open:rotate-180"})]})}),o.jsx("div",{className:"space-y-2 pt-3 pl-2",children:p.length>0?p.map(g=>o.jsxs("div",{onClick:()=>r("task",g),className:"bg-white rounded-lg p-3 flex items-center justify-between shadow-sm cursor-pointer hover:bg-gray-50",children:[o.jsx("p",{className:`text-sm font-medium ${g.done?"line-through text-gray-500":"text-gray-800"}`,children:g.text}),g.done&&o.jsx(fn,{className:"h-5 w-5 text-green-500"})]},g.id)):o.jsx("p",{className:"text-sm text-gray-500 px-2",children:"Aucune tâche aujourd'hui."})})]})]})},LM=({open:e,onOpenChange:t,initialData:n,defaultAssignedUserId:r})=>{var H;const{prospects:s,users:a,addAppointment:i,addCall:l,addTask:c,updateAppointment:u,updateCall:d,updateTask:f,getProjectSteps:p}=Ce(),[h,g]=m.useState(null),[v,b]=m.useState(""),[x,y]=m.useState(""),[w,j]=m.useState("physical"),[N,C]=m.useState(new Date),[S,P]=m.useState("14:30"),[R,E]=m.useState(""),[D,A]=m.useState(!1),[$,I]=m.useState(!1),[z,V]=m.useState(!1),[k,T]=m.useState(r||"user-1"),[_,O]=m.useState(!1),M=m.useMemo(()=>Object.values(a).map(U=>({value:U.id,label:U.name})),[a]);m.useEffect(()=>{var U;if(n){O(!!n.id);const oe=s.find(ce=>ce.id===n.contactId);oe&&g(oe),b(n.projectId||""),y(n.step||""),E(n.description||n.details||n.text||""),A(n.share||!1);const ae=n.start||n.date,q=ae instanceof Date?ae:new Date(ae);C(q),P(Fe(q,"HH:mm")),T(n.assignedUserId||r||"user-1");const de=n.type||((U=n.color)!=null&&U.includes("blue")?"physical":"virtual");j(de)}else O(!1),F()},[n,s,r]),m.useEffect(()=>{if(h&&v){const oe=p(h.id,v).find(ae=>ae.status==="in_progress"||ae.status==="current");y(oe?oe.name:"")}},[h,v,p]);const F=()=>{g(null),b(""),y(""),j("physical"),C(new Date),P("14:30"),E(""),A(!1),T(r||"user-1"),O(!1)},W=()=>{t(!1)},J=()=>{if(!h||w!=="task"&&!v||!k){K({title:"Champs requis",description:"Veuillez sélectionner un contact, un projet et un utilisateur.",variant:"destructive"});return}if((w==="physical"||w==="virtual"||w==="call")&&!x){K({title:"Champs requis",description:"Veuillez sélectionner une étape.",variant:"destructive"});return}const[U,oe]=S.split(":").map(Number),ae=lx(N,{hours:U,minutes:oe,seconds:0,milliseconds:0});if(w==="call"){const q={id:_?n.id:Date.now(),name:h.name,time:Fe(ae,"HH:mm"),date:ae.toISOString(),details:R,assignedUserId:k,contactId:h.id,projectId:v,step:x,type:"call"};_?(d(q),K({title:"✅ Appel modifié !",description:"Les changements ont été enregistrés."})):(l(q),K({title:"✅ Appel ajouté !",description:`Appel avec ${h.name} planifié.`}))}else if(w==="task"){const q={id:_?n.id:Date.now(),text:R||`Tâche pour ${h.name}`,done:_?n.done:!1,date:ae.toISOString(),assignedUserId:k,contactId:h.id,projectId:v,step:x,type:"task"};_?(f(q),K({title:"✅ Tâche modifiée !",description:"Les changements ont été enregistrés."})):(c(q),K({title:"✅ Tâche ajoutée !",description:`Tâche planifiée pour ${h.name}.`}))}else{const q=ox(ae,{hours:1}),de={id:_?n.id:Date.now(),summary:`${w==="physical"?"📍":"🎥"} RDV avec ${h.name}`,description:R,start:ae,end:q,attendees:[h.email],status:_?n.status:"pending",color:w==="physical"?"bg-blue-100 border-blue-500 text-blue-800":"bg-purple-100 border-purple-500 text-purple-800",share:D,contactId:h.id,projectId:v,step:x,assignedUserId:k,type:w};_?(u(de),K({title:"✅ RDV Modifié !",description:"Le RDV a été mis à jour."})):(i(de),K({title:"✅ RDV Ajouté !",description:`${de.summary} le ${Fe(ae,"dd/MM/yy à HH:mm")}.`})),D&&K({title:"✅ RDV partagé avec le client.",description:`Placé sous l'étape: ${x}.`})}W()},ie=w==="physical"||w==="virtual";return o.jsx(Ot,{open:e,onOpenChange:W,children:o.jsxs(Pt,{className:"sm:max-w-[480px] p-0",children:[o.jsxs(Et,{children:[o.jsx(Dt,{children:_?"Modifier l'activité":"Ajouter une activité"}),o.jsx(Hn,{children:_?"Mettez à jour les détails de l'activité.":"Planifiez un nouveau rendez-vous et intégrez-le au projet d'un client."})]}),o.jsxs("div",{className:"overflow-y-auto px-6 py-4 grid gap-6 flex-1",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:"Étape 1 : Sélectionner un Contact"}),o.jsxs(cs,{open:$,onOpenChange:I,children:[o.jsx(us,{asChild:!0,children:o.jsxs(B,{variant:"outline",role:"combobox","aria-expanded":$,className:"w-full justify-between",children:[h?h.name:"Sélectionner un contact...",o.jsx(An,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Ar,{className:"w-[420px] p-0",children:o.jsxs(zo,{children:[o.jsx(Uo,{placeholder:"Rechercher un contact..."}),o.jsxs(Wo,{children:[o.jsx(Ho,{children:"Aucun contact trouvé."}),o.jsx(Go,{children:s.map(U=>o.jsx(fs,{value:U.name,onSelect:()=>{g(U),(!n||!_)&&(b(""),y("")),I(!1)},children:U.name},U.id))})]})]})})]})]}),h&&o.jsxs(o.Fragment,{children:[o.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"space-y-2",children:[o.jsx(Z,{children:"Étape 2 : Sélectionner le Projet"}),o.jsxs(mn,{value:v,onValueChange:U=>{b(U),y("")},children:[o.jsx(tn,{children:o.jsx(pn,{placeholder:"Sélectionner un projet"})}),o.jsx(nn,{children:h.tags.map(U=>{var oe;return o.jsx(je,{value:U,children:((oe=ol[U])==null?void 0:oe.title)||U},U)})})]})]}),v&&o.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:"Étape 3 : Étape du projet"}),o.jsxs("div",{className:"flex items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",children:[o.jsx("span",{children:ie||w==="call"||w==="task"?x||"Sélectionnez une étape":"Non applicable"}),(ie||w==="call"||w==="task")&&o.jsx(Am,{className:"h-4 w-4 text-gray-400"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:"Étape 4 : Créer l'activité"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs(B,{variant:w==="physical"?"default":"outline",onClick:()=>j("physical"),className:w==="physical"?"bg-blue-500 hover:bg-blue-600 text-white":"text-blue-500 border-blue-500",children:[o.jsx(Ks,{className:"mr-2 h-4 w-4"}),"RDV Physique"]}),o.jsxs(B,{variant:w==="virtual"?"default":"outline",onClick:()=>j("virtual"),className:w==="virtual"?"bg-purple-500 hover:bg-purple-600 text-white":"text-purple-500 border-purple-500",children:[o.jsx(h2,{className:"mr-2 h-4 w-4"}),"RDV Virtuel"]}),o.jsxs(B,{variant:w==="call"?"default":"outline",onClick:()=>j("call"),className:w==="call"?"bg-yellow-500 hover:bg-yellow-600 text-white":"text-yellow-500 border-yellow-500",children:[o.jsx(yt,{className:"mr-2 h-4 w-4"}),"Appel"]}),o.jsxs(B,{variant:w==="task"?"default":"outline",onClick:()=>j("task"),className:w==="task"?"bg-green-500 hover:bg-green-600 text-white":"text-green-500 border-green-500",children:[o.jsx(sL,{className:"mr-2 h-4 w-4"}),"Tâche"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{htmlFor:"date",children:"Date"}),o.jsxs(cs,{children:[o.jsx(us,{asChild:!0,children:o.jsxs(B,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[o.jsx(gr,{className:"mr-2 h-4 w-4"}),N?Fe(N,"PPP",{locale:en}):o.jsx("span",{children:"Choisir une date"})]})}),o.jsx(Ar,{className:"w-auto p-0",children:o.jsx(xb,{mode:"single",selected:N,onSelect:C,initialFocus:!0})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{htmlFor:"time",children:"Heure"}),o.jsx(fe,{id:"time",type:"time",value:S,onChange:U=>P(U.target.value)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:"Assigné à"}),o.jsxs(cs,{open:z,onOpenChange:V,children:[o.jsx(us,{asChild:!0,children:o.jsxs(B,{variant:"outline",role:"combobox","aria-expanded":z,className:"w-full justify-between",children:[k?(H=a[k])==null?void 0:H.name:"Sélectionner un utilisateur...",o.jsx(An,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Ar,{className:"w-[420px] p-0",children:o.jsxs(zo,{children:[o.jsx(Uo,{placeholder:"Rechercher un utilisateur..."}),o.jsxs(Wo,{children:[o.jsx(Ho,{children:"Aucun utilisateur trouvé."}),o.jsx(Go,{children:M.map(U=>o.jsxs(fs,{value:U.label,onSelect:()=>{T(U.value),V(!1)},children:[o.jsx(fn,{className:le("mr-2 h-4 w-4",k===U.value?"opacity-100":"opacity-0")}),U.label]},U.value))})]})]})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{htmlFor:"details",children:"Détails"}),o.jsx(bp,{id:"details",placeholder:w==="task"?"Description de la tâche...":"Ajouter des détails...",value:R,onChange:U=>E(U.target.value)})]}),ie&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(wl,{id:"share-client",checked:D,onCheckedChange:A}),o.jsx(Z,{htmlFor:"share-client",children:"Partager avec le client"})]})]})]})]}),o.jsxs(Zt,{children:[o.jsx(gR,{asChild:!0,children:o.jsx(B,{variant:"ghost",children:"Annuler"})}),o.jsx(B,{onClick:J,disabled:!h||!v||!k,className:"bg-green-600 hover:bg-green-700",children:"Valider"})]})]})})},EQ=()=>{var Xe;const{appointments:e,users:t,calls:n,tasks:r,activeAdminUser:s,updateAppointment:a,addAppointment:i}=Ce(),l=m.useMemo(()=>new Date,[]),[c,u]=m.useState(l),[d,f]=m.useState(!1),[p,h]=m.useState(null),[g,v]=m.useState({type:null,data:null}),[b,x]=m.useState(!1),[y,w]=m.useState(null),[j,N]=m.useState((s==null?void 0:s.id)||"user-1"),[C,S]=m.useState(!1),[P,R]=m.useState(!1),E=m.useMemo(()=>e.map(Y=>{const re=(Y==null?void 0:Y.start)instanceof Date?Y.start:new Date(Y==null?void 0:Y.start),Oe=(Y==null?void 0:Y.end)instanceof Date?Y.end:new Date(Y==null?void 0:Y.end);return!(re instanceof Date)||Number.isNaN(re.getTime())||!(Oe instanceof Date)||Number.isNaN(Oe.getTime())?(console.warn("[Agenda] Rendez-vous ignoré car les dates sont invalides.",Y),null):{...Y,start:re,end:Oe}}).filter(Boolean),[e]),D=m.useMemo(()=>{var re;if(!s)return[];if(s.role==="Global Admin"||s.role==="Admin")return Object.values(t);const Y=[s.id,...((re=s.accessRights)==null?void 0:re.users)||[]];return Object.values(t).filter(Oe=>Y.includes(Oe.id))},[s,t]),A=m.useMemo(()=>D.map(Y=>({value:Y.id,label:Y.name})),[D]);m.useEffect(()=>{s&&(D.some(Y=>Y.id===j)||N(s.id))},[s,j,D]);const $=Or(c,{weekStartsOn:1}),I=Array.from({length:5},(Y,re)=>Wt($,re)),z=()=>u(tW(c,{weeks:1})),V=()=>u(ox(c,{weeks:1})),k=()=>u(l),[T,_]=m.useState(null),[O,M]=m.useState(null),[F,W]=m.useState(null),J=()=>{K({title:"Connexion à Google Agenda 🚀",description:"Simulation: Authentification réussie, votre agenda est synchronisé !"}),f(!0)},ie=Y=>{const{id:re,...Oe}=Y;w({...Oe,start:new Date}),x(!0)},H=(Y,re)=>{h(null),v({type:null,data:null}),w({...Y,type:re||Y.type}),x(!0)},U=Y=>{w(Y?{start:Y}:{start:new Date}),x(!0)},oe=(Y,re)=>{v({type:Y,data:re})},ae=Y=>{Y||w(null),x(Y)},q=(Y,re)=>{const[Oe]=re.split(":"),Ke=lx(Y,{hours:parseInt(Oe,10),minutes:0,seconds:0,milliseconds:0});M(null),_(null),U(Ke)},de=(Y,re,Oe)=>{Y.preventDefault();try{Y.dataTransfer.dropEffect="move"}catch{}W({day:re.toString(),hour:Oe})},ce=Y=>{Y.currentTarget.contains(Y.relatedTarget)||W(null)},Pe=(Y,re,Oe)=>{Y.preventDefault(),W(null);try{let Ke=Y.dataTransfer.getData("application/json");Ke||(Ke=Y.dataTransfer.getData("text/plain"));const gt=JSON.parse(Ke),{appointmentId:br,duration:tr}=gt,vs=Y.currentTarget.getBoundingClientRect(),ea=vs.height,ta=Y.clientY-vs.top;let bn=Math.max(0,Math.min(59,Math.round(ta/ea*60)));F&&F.day===re.toString()&&F.hour===Oe&&(bn=0);const[X]=Oe.split(":"),se=lx(re,{hours:parseInt(X,10),minutes:bn,seconds:0,milliseconds:0});let te=Math.floor(tr),me=Math.round((tr-te)*60);me>=60&&(te+=1,me-=60);const $e=ox(se,{hours:te,minutes:me}),ze=E.find(Be=>Be.id===br);if(ze){const Be={...ze,status:"reporte"};a(Be);const Je={...ze,id:Date.now(),start:se,end:$e,status:"pending"};i(Je),K({title:"📅 RDV replanifié",description:`Original marqué comme reporté. Nouveau : ${Fe(se,"EEEE d MMMM à HH:mm",{locale:en})}`})}}catch(Ke){console.error("Erreur lors du drop:",Ke),K({title:"Erreur",description:"Impossible de déplacer le rendez-vous",variant:"destructive"})}},ke=m.useMemo(()=>{var re;if(!s)return[];const Y=s.role==="Global Admin"||s.role==="Admin"?null:[s.id,...((re=s.accessRights)==null?void 0:re.users)||[]];return E.filter(Oe=>(Y?Y.includes(Oe.assignedUserId):!0)&&Oe.assignedUserId===j)},[E,j,s]);return o.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-100px)]",children:[o.jsxs("div",{className:"flex flex-col flex-1 min-w-0 bg-white rounded-3xl shadow-lg border border-gray-100",children:[o.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-200 flex-wrap gap-2",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(cs,{children:[o.jsx(us,{asChild:!0,children:o.jsxs(B,{variant:"outline",className:"w-auto md:w-[240px] justify-start text-left font-normal",children:[o.jsx(gr,{className:"mr-2 h-4 w-4"}),o.jsx("span",{className:"truncate",children:yb(Fe(c,"MMMM yyyy",{locale:en}))})]})}),o.jsx(Ar,{className:"w-auto p-0",align:"start",children:o.jsx(xb,{mode:"single",selected:c,onSelect:Y=>Y&&u(Y),initialFocus:!0})})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(B,{variant:"ghost",size:"icon",onClick:z,className:"h-9 w-9",children:o.jsx(c2,{className:"h-4 w-4"})}),o.jsx(B,{variant:"ghost",size:"icon",onClick:V,className:"h-9 w-9",children:o.jsx(gu,{className:"h-4 w-4"})})]}),o.jsx(B,{variant:"outline",onClick:k,className:"hidden sm:inline-flex",children:"Aujourd'hui"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(cs,{open:C,onOpenChange:S,children:[o.jsx(us,{asChild:!0,children:o.jsxs(B,{variant:"outline",role:"combobox","aria-expanded":C,className:"w-[180px] justify-between",children:[o.jsx(Rr,{className:"mr-2 h-4 w-4"}),j?(Xe=t[j])==null?void 0:Xe.name:"Utilisateur",o.jsx(An,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Ar,{className:"w-[200px] p-0",children:o.jsxs(zo,{children:[o.jsx(Uo,{placeholder:"Rechercher..."}),o.jsxs(Wo,{children:[o.jsx(Ho,{children:"Aucun utilisateur"}),o.jsx(Go,{children:A.map(Y=>o.jsxs(fs,{value:Y.label,onSelect:()=>{N(Y.value),S(!1)},children:[o.jsx(fn,{className:le("mr-2 h-4 w-4",j===Y.value?"opacity-100":"opacity-0")}),Y.label]},Y.value))})]})]})})]}),d?o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-green-600 font-medium",children:[o.jsx(eC,{}),o.jsx("span",{children:"Synchronisé"})]}):o.jsxs(B,{onClick:J,className:"bg-white border-gray-300 text-gray-700 hover:bg-gray-50 shadow-sm",children:[o.jsx(eC,{}),o.jsx("span",{className:"ml-2 hidden sm:inline",children:"Connecter Google Agenda"})]})]})]}),o.jsx("div",{className:"flex flex-1 overflow-hidden rounded-b-3xl",children:o.jsxs("div",{className:"flex flex-1 overflow-auto no-scrollbar",children:[o.jsx("div",{className:"w-16 text-right pr-2 relative bg-[#f6f9ff] border-r border-gray-100 select-none",children:o.jsxs("div",{className:"absolute top-[112px] right-0 w-full",children:[o.jsx("div",{className:le("h-[60px] -translate-y-1/2 cursor-pointer pr-2 flex items-center justify-end text-xs transition-colors",T===0&&"bg-blue-50",O===0&&"bg-blue-100"),onMouseEnter:()=>_(0),onMouseLeave:()=>_(null),onClick:()=>M(0),"aria-label":"08:00",role:"button"}),nC.slice(1).map((Y,re)=>o.jsx("div",{className:le("h-[60px] -translate-y-1/2 cursor-pointer pr-2 flex items-center justify-end text-xs transition-colors",T===re+1&&"bg-blue-50",O===re+1&&"bg-blue-100 font-medium text-blue-700"),onMouseEnter:()=>_(re+1),onMouseLeave:()=>_(null),onClick:()=>M(re+1),role:"button","aria-label":Y,children:o.jsx("span",{className:le("text-gray-400",(T===re+1||O===re+1)&&"text-blue-600 font-medium"),children:Y})},Y))]})}),o.jsx("div",{className:"grid grid-cols-5 flex-1 pr-4 bg-white",onMouseLeave:()=>_(null),children:I.map(Y=>o.jsxs("div",{className:"relative border-l border-gray-200",children:[o.jsxs("div",{className:"sticky top-0 bg-white z-10 p-2 text-center border-b border-gray-200",children:[o.jsx("p",{className:`text-xs font-medium ${kt(Y,l)?"text-blue-600":"text-gray-500"}`,children:Fe(Y,"eee",{locale:en}).toUpperCase()}),o.jsx("div",{className:"flex justify-center items-center h-10",children:o.jsx("p",{className:`text-2xl font-bold ${kt(Y,l)?"text-blue-600 bg-blue-100 rounded-full w-10 h-10 flex items-center justify-center":"text-gray-800"}`,children:Fe(Y,"d")})})]}),o.jsxs("div",{className:"relative h-full",children:[o.jsx("div",{className:le("h-[60px] cursor-pointer transition-colors relative",T===0&&"bg-blue-50",O===0&&"bg-blue-100",(F==null?void 0:F.day)===Y.toString()&&(F==null?void 0:F.hour)==="08:00"&&"bg-green-100 border-2 border-green-400 border-dashed"),onMouseEnter:()=>_(0),onMouseLeave:()=>_(null),onClick:()=>q(Y,"08:00"),onDragEnter:re=>de(re,Y,"08:00"),onDragOver:re=>de(re,Y,"08:00"),onDragLeave:ce,onDrop:re=>Pe(re,Y,"08:00"),children:(F==null?void 0:F.day)===Y.toString()&&(F==null?void 0:F.hour)==="08:00"&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:o.jsx("span",{className:"text-green-600 font-medium text-sm bg-green-50 px-2 py-1 rounded shadow",children:"Déposer ici"})})}),nC.slice(1).map((re,Oe)=>o.jsx("div",{className:le("h-[60px] border-t border-gray-200 cursor-pointer transition-colors relative",T===Oe+1&&"bg-blue-50",O===Oe+1&&"bg-blue-100",(F==null?void 0:F.day)===Y.toString()&&(F==null?void 0:F.hour)===re&&"bg-green-100 border-2 border-green-400 border-dashed"),onMouseEnter:()=>_(Oe+1),onMouseLeave:()=>_(null),onClick:()=>q(Y,re),onDragEnter:Ke=>de(Ke,Y,re),onDragOver:Ke=>de(Ke,Y,re),onDragLeave:ce,onDrop:Ke=>Pe(Ke,Y,re),children:(F==null?void 0:F.day)===Y.toString()&&(F==null?void 0:F.hour)===re&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:o.jsx("span",{className:"text-green-600 font-medium text-sm bg-green-50 px-2 py-1 rounded shadow",children:"Déposer ici"})})},Oe)),ke.filter(re=>kt(re.start,Y)).map(re=>o.jsx(PQ,{appointment:re,onAppointmentClick:h,onDrop:Pe},re.id))]})]},Y.toString()))})]})})]}),o.jsx("div",{className:"block lg:hidden border-t border-gray-200",children:o.jsx(rC,{onAddActivity:U,currentDate:c,selectedUserId:j,onSelectActivity:oe,onAppointmentClick:h})}),o.jsxs(ee.div,{className:"hidden lg:flex lg:flex-shrink-0 relative h-full",initial:!1,animate:{width:P?0:320,opacity:P?0:1},transition:{duration:.3,ease:"easeInOut"},style:{overflow:"visible",pointerEvents:P?"none":"auto"},children:[o.jsx(B,{variant:"default",size:"icon",onClick:()=>R(!P),className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-6 z-30 w-12 h-12 bg-blue-600 hover:bg-blue-700 text-white shadow-xl rounded-full border-2 border-white flex items-center justify-center p-0",title:P?"Ouvrir la sidebar":"Fermer la sidebar",children:o.jsx(tC,{className:le("h-6 w-6 text-white transition-transform duration-200",P?"rotate-180":"")})}),!P&&o.jsx(rC,{onAddActivity:U,currentDate:c,selectedUserId:j,onSelectActivity:oe,onAppointmentClick:h})]}),P&&o.jsx(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"fixed right-6 top-1/2 -translate-y-1/2 z-30 lg:block hidden",children:o.jsx(B,{variant:"default",size:"icon",onClick:()=>R(!1),className:"w-12 h-12 bg-blue-600 hover:bg-blue-700 shadow-xl rounded-full border-2 border-white",title:"Ouvrir la sidebar",children:o.jsx(tC,{className:"h-6 w-6 text-white transition-transform duration-200 rotate-180"})})}),o.jsx(CQ,{event:p,onClose:()=>h(null),onReport:ie,onEdit:H}),o.jsx(SQ,{activity:g.data,type:g.type,onClose:()=>v({type:null,data:null}),onEdit:H}),o.jsx(LM,{open:b,onOpenChange:ae,initialData:y,defaultAssignedUserId:j})]})},bb="completed",wb="in_progress",xa="pending",ho={[bb]:{label:"Terminé",badge:"bg-green-100 text-green-700",icon:"bg-green-500 text-white shadow-soft",text:"text-gray-900",iconOnly:"bg-green-100 text-green-600"},[wb]:{label:"En cours",badge:"bg-blue-100 text-blue-700",icon:"bg-blue-500 text-white shadow-soft ring-4 ring-blue-200",text:"text-blue-900",iconOnly:"bg-blue-100 text-blue-600"},[xa]:{label:"À venir",badge:"bg-gray-100 text-gray-500",icon:"bg-gray-100 text-gray-400",text:"text-gray-500",iconOnly:"bg-gray-200 text-gray-500"}},DQ=({form:e,prospectId:t,onFormSubmit:n})=>{const[r,s]=m.useState({}),a=(l,c)=>{s(u=>({...u,[l]:c}))},i=()=>{n(t,e.id,r),K({title:"Réponses enregistrées",description:`Les réponses au formulaire "${e.name}" ont été sauvegardées.`,className:"bg-green-500 text-white"})};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:e.name}),(e.fields||[]).map(l=>o.jsxs("div",{children:[o.jsx(Z,{htmlFor:`${e.id}-${l.id}`,children:l.label}),o.jsx(fe,{id:`${e.id}-${l.id}`,type:l.type,value:r[l.id]||"",onChange:c=>a(l.id,c.target.value),placeholder:l.placeholder||""})]},l.id)),o.jsx(B,{onClick:i,className:"w-full",children:"Soumettre"})]})},TQ=({prospectId:e,projectType:t,currentStepIndex:n})=>{var D,A;const{getChatMessages:r,addChatMessage:s,users:a,prompts:i,projectsData:l,forms:c,updateProspect:u,prospects:d,completeStepAndProceed:f}=Ce(),[p,h]=m.useState(""),[g,v]=m.useState(null),b=r(e,t),x=m.useRef(null),y=m.useRef(null),[w,j]=m.useState(!1),N=m.useMemo(()=>Object.values(i).filter($=>{var z;if($.projectId!==t)return!1;const I=(z=$.stepsConfig)==null?void 0:z[n];return I&&I.actions&&I.actions.length>0}),[i,t,n]);m.useEffect(()=>{var $;($=x.current)==null||$.scrollIntoView({behavior:"smooth"})},[b]);const C=()=>{if(!p.trim()&&!g)return;const $={sender:"pro",text:p,file:g?{name:g.name,size:g.size}:null};s(e,t,$),h(""),v(null)},S=$=>{$.target.files&&$.target.files[0]&&v($.target.files[0])},P=()=>{K({title:"🚧 Fonctionnalité non implémentée",description:"Le téléchargement de fichiers n'est pas encore disponible."})},R=($,I,z)=>{var O;const V=d.find(M=>M.id===$);if(!V)return;const k={...V.formData||{},...z};u({...V,formData:k});const T={sender:"client",text:`A complété le formulaire : ${((O=c[I])==null?void 0:O.name)||"Formulaire"}.`};s($,t,T),Object.values(i).find(M=>{var W,J;if(M.projectId!==t)return!1;const F=(W=M.stepsConfig)==null?void 0:W[n];return F!=null&&F.autoCompleteStep?(J=F.actions)==null?void 0:J.some(ie=>ie.type==="show_form"&&ie.formId===I):!1})&&(f(e,t,n),K({title:"Étape terminée !",description:"L'étape a été automatiquement marquée comme terminée.",className:"bg-green-500 text-white"}))},E=$=>{var z;const I=(z=$.stepsConfig)==null?void 0:z[n];I&&I.actions&&I.actions.length>0&&I.actions.forEach(V=>{if(V.message){const k={sender:"pro",text:V.message};s(e,t,k)}if(V.type==="show_form"&&V.formId){const k={sender:"pro",formId:V.formId};s(e,t,k)}}),j(!1)};return o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"space-y-4 h-64 overflow-y-auto pr-2 mb-4 rounded-lg bg-gray-50 p-4 border",children:[b.map(($,I)=>{var z;return o.jsxs("div",{className:`flex items-end gap-2 ${$.sender==="pro"?"justify-end":"justify-start"}`,children:[$.sender==="client"&&o.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center font-bold text-white",children:((z=a[e])==null?void 0:z.name.charAt(0))||"?"}),o.jsxs("div",{className:`max-w-xs lg:max-w-md p-3 rounded-2xl ${$.sender==="pro"?"bg-blue-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:[$.text&&o.jsx("p",{className:"text-sm",children:$.text}),$.file&&o.jsxs("button",{onClick:P,className:"mt-2 flex items-center gap-2 text-sm bg-white/20 p-2 rounded-lg w-full text-left",children:[o.jsx(vu,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:$.file.name}),o.jsx(F0,{className:"w-4 h-4 ml-auto flex-shrink-0"})]}),$.formId&&c[$.formId]&&o.jsx("div",{className:"mt-2 bg-white text-gray-800 p-3 rounded-lg",children:o.jsx(DQ,{form:c[$.formId],prospectId:e,onFormSubmit:R})}),o.jsx("p",{className:`text-xs mt-1 ${$.sender==="pro"?"text-blue-200":"text-gray-500"}`,children:Ly(new Date($.timestamp),{addSuffix:!0,locale:en})})]}),$.sender==="pro"&&!$.formId&&o.jsx("img",{src:"https://horizons-cdn.hostinger.com/43725989-d002-4543-b65c-278701925e7e/4e3f809791e357819f31c585852d3a99.png",alt:"Charly",className:"w-8 h-8 rounded-full"})]},I)}),o.jsx("div",{ref:x})]}),g&&o.jsxs("div",{className:"mb-2 text-sm text-gray-600 flex items-center gap-2",children:[o.jsx(Ef,{className:"w-4 h-4"}),o.jsx("span",{children:g.name}),o.jsx("button",{onClick:()=>v(null),className:"text-red-500",children:"×"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(fe,{placeholder:"Écrire au client...",className:"pr-28 h-12",value:p,onChange:$=>h($.target.value),onKeyPress:$=>$.key==="Enter"&&C()}),o.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center",children:[o.jsxs(cs,{open:w,onOpenChange:j,children:[o.jsx(us,{asChild:!0,children:o.jsx(B,{variant:"ghost",size:"icon",children:o.jsx(_o,{className:"h-5 w-5 text-gray-500"})})}),o.jsx(Ar,{className:"w-80",children:o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium leading-none",children:"Prompts disponibles"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[`Pour l'étape : "`,(A=(D=l[t])==null?void 0:D.steps[n])==null?void 0:A.name,'"']})]}),o.jsx("div",{className:"grid gap-2",children:N.length>0?N.map($=>{var I;return o.jsxs("button",{onClick:()=>E($),className:"text-left p-2 hover:bg-accent rounded-md",children:[o.jsx("p",{className:"font-medium text-sm",children:$.name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:(I=l[$.projectId])==null?void 0:I.title})]},$.id)}):o.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Aucun prompt disponible pour cette étape."})})]})})]}),o.jsx(B,{variant:"ghost",size:"icon",onClick:()=>y.current.click(),children:o.jsx(Ef,{className:"h-5 w-5 text-gray-500"})}),o.jsx("input",{type:"file",ref:y,onChange:S,className:"hidden"}),o.jsx(B,{onClick:C,size:"icon",className:"bg-green-500 hover:bg-green-600 w-8 h-8",children:o.jsx(z0,{className:"h-4 w-4"})})]})]})]})},AQ=({steps:e,onUpdateStatus:t})=>e?o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-5 top-5 bottom-5 w-0.5 bg-gray-200","aria-hidden":"true"}),o.jsx("div",{className:"space-y-6",children:e.map((n,r)=>{const s=ho[n.status]||ho[xa];return o.jsxs(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.1},className:"flex items-start space-x-4 relative",children:[o.jsx("div",{className:"relative z-10",children:o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg ${s.iconOnly}`,children:n.icon})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[o.jsx("h3",{className:`font-medium ${s.text}`,children:n.name}),o.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full mt-1 sm:mt-0 ${s.badge}`,children:s.label})]}),o.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[o.jsx(B,{variant:"link",size:"sm",className:"text-xs px-1 h-auto py-0 text-blue-600",onClick:()=>t(r,wb),children:"Mettre en cours"}),o.jsx(B,{variant:"link",size:"sm",className:"text-xs px-1 h-auto py-0 text-green-600",onClick:()=>t(r,bb),children:"Terminer"}),o.jsx(B,{variant:"link",size:"sm",className:"text-xs px-1 h-auto py-0 text-gray-500",onClick:()=>t(r,xa),children:"Marquer à venir"})]})]})]},r)})})]}):null,kQ=({prospect:e,projectType:t,onUpdate:n})=>{const{forms:r}=Ce(),[s,a]=m.useState(e.formData||{}),[i,l]=m.useState(!1),c=m.useMemo(()=>Object.values(r).filter(p=>{var h;return(h=p.projectIds)==null?void 0:h.includes(t)}),[r,t]);m.useEffect(()=>{a(e.formData||{})},[e.formData,t]);const u=(p,h)=>{a(g=>({...g,[p]:h}))},d=()=>{n({...e,formData:s}),l(!1),K({title:"✅ Formulaires enregistrés",description:"Les informations ont été sauvegardées pour ce prospect."})},f=()=>{a(e.formData||{}),l(!1)};return c.length===0?null:o.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Formulaires"}),i?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(B,{variant:"ghost",size:"icon",className:"h-8 w-8 text-green-600 hover:bg-green-100",onClick:d,children:o.jsx(V0,{className:"h-4 w-4"})}),o.jsx(B,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:bg-red-100",onClick:f,children:o.jsx(Br,{className:"h-4 w-4"})})]}):o.jsx(B,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(!0),children:o.jsx(Oc,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"space-y-6",children:c.map(p=>o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-800 mb-3 border-b pb-2",children:p.name}),o.jsx("div",{className:"space-y-4",children:(p.fields||[]).map(h=>o.jsxs("div",{children:[o.jsx(Z,{htmlFor:h.id,children:h.label}),i?o.jsx(fe,{id:h.id,type:h.type,value:s[h.id]||"",onChange:g=>u(h.id,g.target.value),placeholder:h.placeholder||""}):o.jsx("p",{className:"text-sm text-gray-700 mt-1 p-2 bg-gray-50 rounded-md min-h-[2.5rem]",children:s[h.id]||o.jsx("span",{className:"text-gray-400",children:"Non renseigné"})})]},h.id))})]},p.id))})]})},RQ=e=>{switch(e.type){case"email":return o.jsx(Lt,{className:"h-4 w-4 text-gray-400"});case"phone":case"tel":return o.jsx(yt,{className:"h-4 w-4 text-gray-400"});default:return e.id.includes("company")?o.jsx(Tm,{className:"h-4 w-4 text-gray-400"}):e.id.includes("address")?o.jsx(Ks,{className:"h-4 w-4 text-gray-400"}):e.id.includes("name")?o.jsx(hs,{className:"h-4 w-4 text-gray-400"}):o.jsx(B0,{className:"h-4 w-4 text-gray-400"})}},wp=({prospect:e,onBack:t,onUpdate:n})=>{var F,W,J,ie;const{getProjectSteps:r,completeStepAndProceed:s,updateProjectSteps:a,users:i,markNotificationAsRead:l,projectsData:c,formContactConfig:u,currentUser:d,userProjects:f,setUserProjects:p}=Ce(),[h,g]=ps(),v=h.get("project"),b=h.get("notificationId"),[x,y]=m.useState(v||(e.tags&&e.tags.length>0?e.tags[0]:null)),[w,j]=m.useState(!1),[N,C]=m.useState({...e}),[S,P]=m.useState(!1),R=m.useMemo(()=>[{value:"unassigned",label:"Non assigné"},...Object.values(i).map(H=>({value:H.id,label:H.name}))],[i]),E=x?r(e.id,x):[],D=E.findIndex(H=>H.status===wb),A=E[D]||E.find(H=>H.status===xa)||E[0];m.useEffect(()=>{if(b){l(parseInt(b));const H=new URLSearchParams(h);H.delete("notificationId"),g(H,{replace:!0})}},[b,l,g,h]),m.useEffect(()=>{C({...e})},[e]);const $=H=>{y(H),g(U=>(U.set("project",H),U),{replace:!0})},I=(H,U)=>{if(U===bb)s(e.id,x,H);else{const oe=E.map((ae,q)=>{let de=ae.status;return q===H&&(de=U),{...ae,status:de}});a(e.id,x,oe)}},z=H=>{var oe;const U=e.tags||[];if(!U.includes(H)){const ae={...e,tags:[...U,H]};if(n(ae),y(H),d&&e.id===d.id&&!f.includes(H)){const q=[...f,H];p(q),localStorage.setItem("userProjects",JSON.stringify(q))}K({title:"✅ Projet ajouté !",description:`Le projet ${(oe=c[H])==null?void 0:oe.title} a été associé au prospect.`})}P(!1)},V=()=>{const H=e.tags||[];return Object.values(c).filter(U=>U.isPublic&&!H.includes(U.type))},k=H=>{switch(H){case"Appel":e.phone&&(window.location.href=`tel:${e.phone}`);break;case"Mail":e.email&&(window.location.href=`mailto:${e.email}`);break;case"WhatsApp":if(e.phone){const U=e.phone.replace(/[^0-9]/g,"");window.open(`https://wa.me/${U}`,"_blank")}else K({title:"Numéro de téléphone manquant",description:"Ce contact n'a pas de numéro de téléphone.",variant:"destructive"});break;case"GPS":if(e.address){const U=encodeURIComponent(e.address);/Mac|iPod|iPhone|iPad/.test(navigator.platform)?window.location.href=`maps://?q=${U}`:window.open(`https://www.google.com/maps/search/?api=1&query=${U}`,"_blank")}break;default:K({title:`Action: ${H}`,description:"🚧 Cette fonctionnalité n'est pas encore implémentée."})}},T=()=>{n(N),j(!1),K({title:"✅ Prospect mis à jour",description:"Les informations du prospect ont été enregistrées."})},_=(H,U)=>{C(oe=>({...oe,[H]:U}))},O=H=>{C(U=>({...U,ownerId:H==="unassigned"?null:H}))},M=c[x];return o.jsxs(o.Fragment,{children:[o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(B,{variant:"ghost",size:"icon",onClick:t,className:"rounded-full hover:bg-gray-100",children:o.jsx(Ic,{className:"h-5 w-5"})}),o.jsx("div",{children:w?o.jsx(fe,{name:"name",value:N.name,onChange:H=>_("name",H.target.value),className:"text-2xl font-bold h-auto p-0 border-0 focus-visible:ring-0"}):o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.name})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Projets associés"}),o.jsx(B,{size:"icon",className:"rounded-full",onClick:()=>P(!0),children:o.jsx(et,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[(e.tags||[]).map(H=>{var U;return o.jsx("button",{onClick:()=>$(H),className:`px-4 py-1.5 text-sm font-semibold rounded-full transition-all duration-200 ${x===H?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:((U=c[H])==null?void 0:U.title)||H},H)}),(!e.tags||e.tags.length===0)&&o.jsx("p",{className:"text-gray-400 text-sm italic",children:"Aucun projet associé"})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions rapides"}),o.jsx("div",{className:"flex flex-wrap justify-between gap-2 text-center",children:[{icon:yt,label:"Appel"},{icon:Lt,label:"Mail"},{icon:xu,label:"WhatsApp"},{icon:Ks,label:"GPS"}].map(({icon:H,label:U})=>o.jsxs("button",{onClick:()=>k(U),className:"flex flex-col items-center space-x-1 text-gray-600 hover:text-blue-600 transition-colors group",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center group-hover:bg-blue-100",children:o.jsx(H,{className:"h-6 w-6"})}),o.jsx("span",{className:"text-xs font-medium",children:U})]},U))})]}),o.jsx(MQ,{prospectId:e.id}),o.jsx(kQ,{prospect:e,projectType:x,onUpdate:n}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Informations Prospect"}),w?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(B,{variant:"ghost",size:"icon",className:"h-8 w-8 text-green-600 hover:bg-green-100",onClick:T,children:o.jsx(V0,{className:"h-4 w-4"})}),o.jsx(B,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:bg-red-100",onClick:()=>j(!1),children:o.jsx(Br,{className:"h-4 w-4"})})]}):o.jsx(B,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>j(!0),children:o.jsx(Oc,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"space-y-3 text-sm",children:[u.map(H=>o.jsxs("div",{className:"flex items-start space-x-3",children:[RQ(H),o.jsxs("div",{className:"flex-1",children:[o.jsx(Z,{htmlFor:H.id,className:"text-xs text-gray-500",children:H.name.replace("*","")}),w?o.jsx(fe,{id:H.id,name:H.id,type:H.type,value:N[H.id]||"",onChange:U=>_(H.id,U.target.value),className:"h-8 text-sm",placeholder:H.placeholder}):o.jsx("p",{className:"text-gray-700",children:e[H.id]||o.jsx("span",{className:"text-gray-400",children:"Non renseigné"})})]})]},H.id)),o.jsxs("div",{className:"flex items-center space-x-3 pt-3 border-t border-gray-100",children:[o.jsx(hs,{className:"h-4 w-4 text-gray-400"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Z,{className:"text-xs text-gray-500",children:"Suivi par"}),w?o.jsx(Yo,{options:R,value:N.ownerId||"unassigned",onSelect:O,placeholder:"Sélectionner un utilisateur",searchPlaceholder:"Rechercher...",emptyText:"Aucun utilisateur trouvé."}):o.jsx("p",{className:"text-gray-700",children:((F=i[e.ownerId])==null?void 0:F.name)||"Non assigné"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3 pt-3 border-t border-gray-100",children:[o.jsx(uL,{className:"h-4 w-4 text-gray-400 mt-1"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Z,{className:"text-xs text-gray-500",children:"ID Prospect"}),o.jsx("p",{className:"text-gray-700",children:e.id})]})]})]})]})]}),o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:["Suivi détaillé du projet : ",o.jsx("span",{className:"text-blue-600",children:(M==null?void 0:M.title)||"Aucun projet sélectionné"})]}),o.jsx(AQ,{steps:E,onUpdateStatus:I})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-6",children:[A&&o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg ${((W=ho[A.status])==null?void 0:W.iconOnly)||ho[xa].iconOnly}`,children:A.icon}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:A.name})]}),o.jsx("span",{className:`text-xs px-3 py-1 rounded-full ${((J=ho[A.status])==null?void 0:J.badge)||ho[xa].badge}`,children:((ie=ho[A.status])==null?void 0:ie.label)||ho[xa].label})]}),x&&o.jsx(TQ,{prospectId:e.id,projectType:x,currentStepIndex:D!==-1?D:0})]},A.name),!A&&!x&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(vu,{className:"h-8 w-8 text-gray-400"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun projet sélectionné"}),o.jsx("p",{className:"text-gray-500",children:"Sélectionnez un projet dans la liste ci-dessus pour voir le suivi détaillé."})]})]})]})]})]}),o.jsx(Ot,{open:S,onOpenChange:P,children:o.jsxs(Pt,{className:"sm:max-w-md",children:[o.jsxs(Et,{children:[o.jsx(Dt,{children:"Ajouter un projet"}),o.jsx(Hn,{children:"Sélectionnez un projet à associer à ce prospect."})]}),o.jsx("div",{className:"grid gap-4 py-4",children:V().length>0?V().map(H=>o.jsxs(B,{variant:"outline",onClick:()=>z(H.type),className:"flex items-center justify-start space-x-3 h-auto p-4",children:[o.jsx("span",{className:"text-2xl",children:H.icon}),o.jsx("span",{className:"font-medium",children:H.title})]},H.type)):o.jsx("p",{className:"text-center text-gray-500 italic",children:"Tous les projets disponibles sont déjà associés à ce prospect."})})]})})]})},MQ=({prospectId:e})=>{const{appointments:t,calls:n,tasks:r,prospects:s,users:a}=Ce(),[i,l]=m.useState(null),[c,u]=m.useState(null),[d,f]=m.useState(null),[p,h]=m.useState(!1),g=m.useMemo(()=>{const x=[];return t.forEach(y=>{y.contactId===e&&x.push({...y,activityType:"appointment"})}),n.forEach(y=>{y.contactId===e&&x.push({...y,activityType:"call"})}),r.forEach(y=>{y.contactId===e&&x.push({...y,activityType:"task"})}),x.sort((y,w)=>{const j=new Date(y.start||y.date),N=new Date(w.start||w.date);return j-N})},[t,n,r,e]),v=(x,y)=>{y==="appointment"?f(x):(l(x),u(y))},b=()=>{l(null),u(null),f(null)};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow mt-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Activité en cours"}),o.jsx(B,{size:"icon",className:"rounded-full",onClick:()=>h(!0),children:o.jsx(et,{className:"h-5 w-5"})})]}),g.length===0?o.jsx("p",{className:"text-gray-400 italic",children:"Aucune activité planifiée pour ce prospect."}):o.jsx("div",{className:"space-y-3",children:g.map(x=>{if(x.activityType==="appointment"){const y=new Date(x.start),w={effectue:"bg-green-500 text-white",annule:"bg-red-500 text-white",reporte:"bg-yellow-400 text-black"},j={effectue:"Effectué",annule:"Annulé",reporte:"Reporté"};return o.jsxs("div",{onClick:()=>v(x,"appointment"),className:"bg-white rounded-lg p-3 shadow-sm cursor-pointer hover:bg-gray-50 border-l-4 border-blue-500 relative",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(gr,{className:"h-5 w-5 text-blue-600"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:x.summary||x.title||"RDV"}),x.description&&o.jsx("p",{className:"text-xs text-gray-600 truncate",children:x.description})]})]}),o.jsxs("div",{className:"flex flex-col items-end ml-2",children:[o.jsx("span",{className:"text-xs font-semibold text-blue-700 bg-blue-100 px-2 py-1 rounded-full whitespace-nowrap",children:Fe(y,"dd/MM")}),o.jsx("span",{className:"text-xs text-gray-500 mt-1",children:Fe(y,"HH:mm")})]})]}),j[x.status]&&o.jsx("span",{className:`absolute bottom-1 right-1 text-xs font-bold px-2 py-0.5 rounded-full ${w[x.status]}`,children:j[x.status]})]},`appointment-${x.id}`)}else if(x.activityType==="call"){const y={effectue:"bg-green-500 text-white",annule:"bg-red-500 text-white"},w={effectue:"Effectué",annule:"Annulé"};return o.jsxs("div",{onClick:()=>v(x,"call"),className:"bg-white rounded-lg p-3 flex items-center justify-between shadow-sm cursor-pointer hover:bg-gray-50 border-l-4 border-green-500 relative",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(yt,{className:"mr-2 h-4 w-4 text-green-500"}),o.jsx("p",{className:`font-medium text-sm text-gray-800 ${x.status==="effectue"||x.status==="annule"?"line-through text-gray-400":""}`,children:x.name})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-xs font-semibold text-green-700 bg-green-100 px-2 py-1 rounded-full",children:x.time}),w[x.status]&&o.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${y[x.status]}`,children:w[x.status]})]})]},`call-${x.id}`)}else if(x.activityType==="task")return o.jsxs("div",{onClick:()=>v(x,"task"),className:"bg-white rounded-lg p-3 flex items-center justify-between shadow-sm cursor-pointer hover:bg-gray-50 border-l-4 border-yellow-500 relative",children:[o.jsx("p",{className:`text-sm font-medium ${x.done?"line-through text-gray-500":"text-gray-800"}`,children:x.text}),o.jsxs("div",{className:"flex items-center space-x-2",children:[x.done&&o.jsx(fn,{className:"h-5 w-5 text-green-500"}),x.done&&o.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-full bg-green-500 text-white",children:"Terminé"})]})]},`task-${x.id}`);return null})})]}),o.jsx(IQ,{activity:i,type:c,onClose:b,onEdit:()=>{}}),o.jsx(OQ,{event:d,onClose:b,onReport:()=>{},onEdit:()=>{}}),o.jsx(LM,{open:p,onOpenChange:h,initialData:null,defaultAssignedUserId:"user-1"})]})},IQ=({activity:e,type:t,onClose:n,onEdit:r})=>{var D,A;const{prospects:s,users:a,updateCall:i,deleteCall:l,updateTask:c,deleteTask:u,projectsData:d}=Ce(),[f,p]=m.useState((e==null?void 0:e.status)||"pending"),[h,g]=m.useState((e==null?void 0:e.done)||!1);if(m.useEffect(()=>{e&&(t==="call"&&p(e.status||"pending"),t==="task"&&g(e.done||!1))},[e,t]),!e)return null;const v=s.find($=>$.id===e.contactId),b=a[e.assignedUserId]||(v?a[v.ownerId]:null),x=$=>$?$.charAt(0).toUpperCase()+$.slice(1):"",y=$=>{p($);const I={...e,status:$};t==="call"&&i(I),setTimeout(()=>n(),300)},w=$=>{g($);const I={...e,done:$};t==="task"&&c(I),setTimeout(()=>n(),300)},j=()=>{t==="call"?(l(e.id),K({title:"✅ Appel supprimé",description:"L'appel a été retiré de votre agenda."})):t==="task"&&(u(e.id),K({title:"✅ Tâche supprimée",description:"La tâche a été retirée de votre agenda."})),n()},N=$=>{if(!v){K({title:"Contact non trouvé",variant:"destructive"});return}switch($){case"Appel":v.phone&&(window.location.href=`tel:${v.phone}`);break;case"Mail":v.email&&(window.location.href=`mailto:${v.email}`);break;case"WhatsApp":if(v.phone){let I=v.phone.replace(/\D/g,"");I.startsWith("0")&&(I=`33${I.substring(1)}`);const z=encodeURIComponent("Bonjour");window.open(`https://wa.me/${I}?text=${z}`,"_blank")}break;case"GPS":if(v.address){const I=encodeURIComponent(v.address);/Mac|iPod|iPhone|iPad/.test(navigator.platform)?window.location.href=`maps://?q=${I}`:window.open(`https://www.google.com/maps/search/?api=1&query=${I}`,"_blank")}break;default:K({title:`Action: ${$}`,description:"🚧 Cette fonctionnalité n'est pas encore implémentée."})}},C=t==="call",S=t==="task",P=C?`Appel: ${e.name}`:`Tâche: ${e.text}`,R=`Prévu le ${x(Fe(new Date(e.date),"eeee d MMMM 'à' HH:mm",{locale:en}))}`,E={pending:{color:"bg-blue-500",label:"Qualifier votre activité"},effectue:{color:"bg-green-500",label:"Effectué"},annule:{color:"bg-red-500",label:"Annulé"}};return o.jsx(Ot,{open:!!e,onOpenChange:$=>!$&&n(),children:o.jsxs(Pt,{className:"sm:max-w-md p-0",children:[o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs(Et,{className:"p-0 text-left space-y-1",children:[o.jsx(Dt,{className:"text-2xl font-bold text-gray-900",children:P}),o.jsx(Hn,{className:"text-base text-gray-500",children:R})]}),o.jsxs("div",{className:"flex items-start space-x-3 text-gray-600",children:[o.jsx(Rr,{className:"h-5 w-5 text-gray-400 mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Participants"}),v&&o.jsxs("p",{className:"text-sm",children:[v.name," (Client)"]}),b&&o.jsxs("p",{className:"text-sm",children:[b.name," (Assigné)"]})]})]})]}),o.jsxs("div",{className:"border-t border-gray-200 p-6 space-y-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:"Actions rapides"}),o.jsx("div",{className:"grid grid-cols-4 gap-2 text-center",children:[{icon:yt,label:"Appel"},{icon:Lt,label:"Mail"},{icon:xu,label:"WhatsApp"},{icon:Ks,label:"GPS"}].map(({icon:$,label:I})=>o.jsxs("button",{onClick:()=>N(I),className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-blue-600 transition-colors group",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center group-hover:bg-blue-100",children:o.jsx($,{className:"h-6 w-6"})}),o.jsx("span",{className:"text-xs font-medium",children:I})]},I))})]}),C&&o.jsx("div",{className:`p-4 text-white transition-colors ${E[f].color}`,children:o.jsxs(mn,{onValueChange:y,value:f,children:[o.jsx(tn,{className:"w-full bg-transparent border-none text-white text-lg font-semibold focus:ring-0 focus:ring-offset-0 h-auto p-0 text-center justify-center",iconClassName:"h-8 w-8 opacity-100",children:o.jsx(pn,{placeholder:"Qualifier votre activité"})}),o.jsxs(nn,{children:[o.jsx(je,{value:"pending",disabled:!0,children:"Qualifier votre activité"}),o.jsx(je,{value:"effectue",children:"Effectué"}),o.jsx(je,{value:"annule",children:"Annulé"})]})]})}),S&&o.jsx("div",{className:"p-6 bg-green-500 text-white",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(wl,{id:"task-done",checked:h,onCheckedChange:w,className:`relative inline-flex h-6 w-12 items-center rounded-full transition-colors duration-300 ${h?"bg-white border border-gray-300":"bg-gray-500"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full transition-transform duration-300 ${h?"translate-x-6 bg-gray-300":"translate-x-1 bg-white"}`})}),o.jsx(Z,{htmlFor:"task-done",className:"text-lg font-semibold text-white",children:h?"Tâche effectuée":"Marquer comme effectuée"})]})}),o.jsxs("div",{className:"border-t border-gray-200 p-6 space-y-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:"Infos activité"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[C&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Projet"}),o.jsx("span",{className:"font-medium text-gray-800",children:((D=d[e.projectId])==null?void 0:D.title)||"Aucun"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Étape"}),o.jsx("span",{className:"font-medium text-gray-800",children:e.step||"Aucune"})]})]}),S&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Projet"}),o.jsx("span",{className:"font-medium text-gray-800",children:((A=d[e.projectId])==null?void 0:A.title)||"Aucun"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Étape"}),o.jsx("span",{className:"font-medium text-gray-800",children:e.step||"Aucune"})]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Note"}),o.jsx("span",{className:"font-medium text-gray-800 text-right",children:e.details||(S?e.text:"Aucune")})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Interlocuteur"}),o.jsx("span",{className:"font-medium text-gray-800",children:(v==null?void 0:v.name)||"N/A"})]})]})]}),o.jsxs(Zt,{className:"p-6 bg-gray-50 sm:justify-between",children:[o.jsxs(Ps,{children:[o.jsx(Es,{asChild:!0,children:o.jsxs(B,{variant:"ghost",className:"text-red-600 hover:bg-red-50 hover:text-red-700",children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Supprimer"]})}),o.jsxs(Jr,{children:[o.jsxs(Qr,{children:[o.jsx(es,{children:"Voulez-vous vraiment supprimer cette activité ?"}),o.jsx(ts,{children:"Cette action est irréversible."})]}),o.jsxs(Zr,{children:[o.jsx(rs,{children:"Annuler"}),o.jsx(ns,{onClick:j,className:"bg-red-600 hover:bg-red-700",children:"Supprimer"})]})]})]}),o.jsx(B,{className:t==="call"&&(e!=null&&e.status)&&e.status!=="pending"||t==="task"&&(e!=null&&e.done)?"bg-gray-400 hover:bg-gray-500 text-gray-700":"bg-blue-600 hover:bg-blue-700",onClick:()=>r(e,t),children:"Modifier l'activité"})]})]})})},OQ=({event:e,onClose:t,onReport:n,onEdit:r})=>{var y;const{prospects:s,users:a,updateAppointment:i,deleteAppointment:l,projectsData:c}=Ce(),[u,d]=m.useState((e==null?void 0:e.status)||"pending");if(m.useEffect(()=>{e&&d(e.status||"pending")},[e]),!e)return null;const f=s.find(w=>w.id===e.contactId),p=a[e.assignedUserId]||(f?a[f.ownerId]:null),h=w=>w?w.charAt(0).toUpperCase()+w.slice(1):"",g=w=>{d(w);const j={...e,status:w};i(j),setTimeout(()=>t(),300)},v=()=>{l(e.id),K({title:"✅ RDV supprimé",description:"Le rendez-vous a été retiré de votre agenda."}),t()},b=w=>{if(!f){K({title:"Contact non trouvé",variant:"destructive"});return}switch(w){case"Appel":f.phone&&(window.location.href=`tel:${f.phone}`);break;case"Mail":f.email&&(window.location.href=`mailto:${f.email}`);break;case"WhatsApp":if(f.phone){let j=f.phone.replace(/\D/g,"");j.startsWith("0")&&(j=`33${j.substring(1)}`);const N=encodeURIComponent("Bonjour");window.open(`https://wa.me/${j}?text=${N}`,"_blank")}break;case"GPS":if(f.address){const j=encodeURIComponent(f.address);/Mac|iPod|iPhone|iPad/.test(navigator.platform)?window.location.href=`maps://?q=${j}`:window.open(`https://www.google.com/maps/search/?api=1&query=${j}`,"_blank")}break;default:K({title:`Action: ${w}`,description:"🚧 Cette fonctionnalité n'est pas encore implémentée."})}},x={pending:{color:"bg-blue-500",label:"Qualifier votre activité"},effectue:{color:"bg-green-500",label:"Effectué"},annule:{color:"bg-red-500",label:"Annulé"},reporte:{color:"bg-yellow-500",label:"Reporté"}};return o.jsx(Ot,{open:!!e,onOpenChange:w=>!w&&t(),children:o.jsxs(Pt,{className:"sm:max-w-md p-0",children:[o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs(Et,{className:"p-0 text-left space-y-1",children:[o.jsx(Dt,{className:"text-2xl font-bold text-gray-900",children:e.summary}),o.jsxs(Hn,{className:"text-base text-gray-500",children:[h(Fe(e.start,"eeee d MMMM, HH:mm",{locale:en}))," - ",Fe(e.end,"HH:mm",{locale:en})]})]}),o.jsxs("div",{className:"flex items-start space-x-3 text-gray-600",children:[o.jsx(Rr,{className:"h-5 w-5 text-gray-400 mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Participants"}),f&&o.jsxs("p",{className:"text-sm",children:[f.name," (Client)"]}),p&&o.jsxs("p",{className:"text-sm",children:[p.name," (Assigné)"]})]})]})]}),o.jsxs("div",{className:"border-t border-gray-200 p-6 space-y-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:"Actions rapides"}),o.jsx("div",{className:"grid grid-cols-4 gap-2 text-center",children:[{icon:yt,label:"Appel"},{icon:Lt,label:"Mail"},{icon:xu,label:"WhatsApp"},{icon:Ks,label:"GPS"}].map(({icon:w,label:j})=>o.jsxs("button",{onClick:()=>b(j),className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-blue-600 transition-colors group",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center group-hover:bg-blue-100",children:o.jsx(w,{className:"h-6 w-6"})}),o.jsx("span",{className:"text-xs font-medium",children:j})]},j))})]}),o.jsx("div",{className:`p-4 text-white transition-colors ${x[u].color}`,children:o.jsxs(mn,{onValueChange:g,value:u,children:[o.jsx(tn,{className:"w-full bg-transparent border-none text-white text-lg font-semibold focus:ring-0 focus:ring-offset-0 h-auto p-0 text-center justify-center",iconClassName:"h-8 w-8 opacity-100",children:o.jsx(pn,{placeholder:"Qualifier votre activité"})}),o.jsxs(nn,{children:[o.jsx(je,{value:"pending",disabled:!0,children:"Qualifier votre activité"}),o.jsx(je,{value:"effectue",children:"Effectué"}),o.jsx(je,{value:"annule",children:"Annulé"}),o.jsx(je,{value:"reporte",children:"Reporté"})]})]})}),o.jsxs("div",{className:"border-t border-gray-200 p-6 space-y-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:"Infos activité"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Projet"}),o.jsx("span",{className:"font-medium text-gray-800",children:((y=c[e.projectId])==null?void 0:y.title)||"N/A"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Étape"}),o.jsx("span",{className:"font-medium text-gray-800",children:e.step||"N/A"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Note"}),o.jsx("span",{className:"font-medium text-gray-800 text-right",children:e.description||"Aucune"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Interlocuteur"}),o.jsx("span",{className:"font-medium text-gray-800",children:(f==null?void 0:f.name)||"N/A"})]})]})]}),o.jsxs(Zt,{className:"p-6 bg-gray-50 sm:justify-between",children:[o.jsxs(Ps,{children:[o.jsx(Es,{asChild:!0,children:o.jsxs(B,{variant:"ghost",className:"text-red-600 hover:bg-red-50 hover:text-red-700",children:[o.jsx(lr,{className:"mr-2 h-4 w-4"}),"Supprimer"]})}),o.jsxs(Jr,{children:[o.jsxs(Qr,{children:[o.jsx(es,{children:"Voulez-vous vraiment supprimer ce rendez-vous ?"}),o.jsx(ts,{children:"Cette action est irréversible."})]}),o.jsxs(Zr,{children:[o.jsx(rs,{children:"Annuler"}),o.jsx(ns,{onClick:v,className:"bg-red-600 hover:bg-red-700",children:"Supprimer"})]})]})]}),o.jsx(B,{className:e!=null&&e.status&&e.status!=="pending"?"bg-gray-400 hover:bg-gray-500 text-gray-700":"bg-blue-600 hover:bg-blue-700",onClick:()=>r(e),children:"Modifier l'activité"})]})]})})},jp=({open:e,onOpenChange:t,onAddProspect:n})=>{const{currentUser:r,projectsData:s,formContactConfig:a}=Ce(),i=Object.values(s).filter(h=>h.isPublic),l=()=>{const h=a.reduce((g,v)=>(g[v.id]="",g),{});return h.tags=[],h},[c,u]=m.useState(l());m.useEffect(()=>{e&&u(l())},[e,a]);const d=h=>{const{id:g,value:v}=h.target;u(b=>({...b,[g]:v}))},f=h=>{u(g=>{const v=g.tags.includes(h)?g.tags.filter(b=>b!==h):[...g.tags,h];return{...g,tags:v}})},p=h=>{h.preventDefault();const g=a.find(b=>b.required);if(g&&!c[g.id]){K({title:"Champs requis",description:`Le champ "${g.name.replace("*","")}" est obligatoire.`,variant:"destructive"});return}if(!c.email){K({title:"Champs requis",description:"L'email est obligatoire.",variant:"destructive"});return}const v={id:`prospect-${Date.now()}`,...c,tags:c.tags,hasAppointment:!1,ownerId:r?r.id:null};n(v),K({title:"✅ Prospect ajouté !",description:`${v.name} a été ajouté à la colonne "Intéressé".`}),t(!1)};return o.jsx(Ot,{open:e,onOpenChange:t,children:o.jsxs(Pt,{className:"sm:max-w-md",children:[o.jsxs(Et,{children:[o.jsx(Dt,{children:"Ajouter un nouveau prospect"}),o.jsx(Hn,{children:"Remplissez les informations pour créer un nouveau prospect."})]}),o.jsxs("form",{onSubmit:p,children:[o.jsxs("div",{className:"grid gap-4 py-4",children:[a.map(h=>o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Z,{htmlFor:h.id,className:"text-right",children:h.name}),o.jsx(fe,{id:h.id,type:h.type,value:c[h.id]||"",onChange:d,placeholder:h.placeholder,className:"col-span-3",required:h.required})]},h.id)),o.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[o.jsx(Z,{className:"text-right pt-2",children:"Projets"}),o.jsx("div",{className:"col-span-3 grid grid-cols-2 gap-2",children:i.map(h=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Mn,{id:`tag-${h.type}`,checked:c.tags.includes(h.type),onCheckedChange:()=>f(h.type)}),o.jsx(Z,{htmlFor:`tag-${h.type}`,className:"font-normal",children:h.title})]},h.type))})]})]}),o.jsxs(Zt,{children:[o.jsx(gR,{asChild:!0,children:o.jsx(B,{type:"button",variant:"secondary",children:"Annuler"})}),o.jsx(B,{type:"submit",children:"Créer le prospect"})]})]})]})})},sC=()=>o.jsx("div",{className:"p-8",children:o.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),o.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(e=>o.jsxs("div",{className:"bg-gray-100 rounded-lg p-4",children:[o.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),o.jsx("div",{className:"space-y-3",children:[1,2].map(t=>o.jsx("div",{className:"h-20 bg-gray-200 rounded"},t))})]},e))})]})})}),$Q=({column:e,onProspectClick:t})=>{var n,r,s;return o.jsxs("div",{className:"bg-gray-100 rounded-xl p-4 h-full flex flex-col",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 px-2 flex justify-between items-center",children:[e.name,o.jsx("span",{className:"text-sm font-medium bg-gray-200 text-gray-600 rounded-full px-2 py-0.5",children:((n=e.items)==null?void 0:n.length)||0})]}),o.jsx("div",{className:"space-y-4 overflow-y-auto flex-1 no-scrollbar",children:o.jsx(ap,{items:((r=e.items)==null?void 0:r.map(a=>a.id))||[],strategy:op,children:((s=e.items)==null?void 0:s.map(a=>o.jsx(yl,{prospect:a,onClick:()=>t(a)},a.id)))||null})})]})},_Q=()=>{let e;try{e=Ce()}catch(R){return console.error("Erreur contexte Pipeline:",R),o.jsx("div",{className:"p-8",children:o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-bold text-red-800 mb-2",children:"Erreur de contexte"}),o.jsx("p",{className:"text-red-600",children:"Le contexte de l'application n'est pas disponible."})]})})}if(!e)return o.jsx(sC,{});const{prospects:t=[],addProspect:n,updateProspect:r,users:s={},projectsData:a={},getProjectSteps:i,activeAdminUser:l}=e;Vt();const[c,u]=ps(),[d,f]=m.useState({}),[p,h]=m.useState(null),[g,v]=m.useState(!1),b=m.useMemo(()=>l?l.role==="SuperAdmin"?Object.values(s):[l]:[],[l,s]),x=c.get("user")||(l==null?void 0:l.id),y=b.find(R=>R.id===x)||b[0],w=m.useMemo(()=>t?t.filter(R=>y?R.ownerId===y.id:!1):[],[t,y]),j=[{id:"lead",name:"Nouveaux Contacts",status:"lead"},{id:"qualified",name:"Qualifiés",status:"qualified"},{id:"proposal",name:"Devis envoyés",status:"proposal"},{id:"negotiation",name:"En négociation",status:"negotiation"},{id:"converted",name:"Conclus",status:"converted"}];m.useEffect(()=>{const R={};j.forEach(E=>{R[E.id]={...E,items:w.filter(D=>D.status===E.status)}}),f(R)},[w]);const N=R=>{h(R)},C=R=>{u({user:R})},S=R=>{const{active:E,over:D}=R;if(!D||!r)return;const A=w.find(z=>z.id===E.id);if(!A)return;const $=D.id;j.map(z=>z.status).includes($)&&A.status!==$&&r(A.id,{status:$})},P=R=>{n&&y&&n({...R,ownerId:y.id,status:"lead"})};return!t||!y?o.jsx(sC,{}):o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pipeline"}),b.length>1&&o.jsx(Yo,{options:b.map(R=>({value:R.id,label:R.name||R.email})),value:y.id,onValueChange:C,placeholder:"Sélectionner un utilisateur",className:"min-w-[200px]"})]}),o.jsxs(B,{onClick:()=>v(!0),className:"flex items-center space-x-2 gradient-green hover:opacity-90",children:[o.jsx(et,{size:20}),o.jsx("span",{children:"Ajouter un prospect"})]})]}),o.jsx(sp,{collisionDetection:Uy,onDragEnd:S,children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 h-[calc(100vh-250px)]",children:Object.values(d).map(R=>o.jsx($Q,{column:R,onProspectClick:N},R.id))})}),o.jsx(vn,{children:p&&o.jsx(wp,{prospect:p,onClose:()=>h(null),users:s,projectsData:a,getProjectSteps:i})}),o.jsx(jp,{isOpen:g,onClose:()=>v(!1),onAddProspect:P})]})};let LQ=class extends G.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){this.setState({error:t,errorInfo:n})}render(){return this.state.hasError?o.jsx("div",{className:"p-8 bg-red-50 min-h-screen",children:o.jsxs("div",{className:"bg-white border border-red-200 rounded-lg p-6 max-w-4xl",children:[o.jsx("h1",{className:"text-2xl font-bold text-red-800 mb-4",children:"❌ Erreur détectée dans Pipeline"}),o.jsxs("div",{className:"bg-red-100 p-4 rounded mb-4",children:[o.jsx("h3",{className:"font-bold text-red-800",children:"Erreur:"}),o.jsx("p",{className:"text-red-700",children:this.state.error&&this.state.error.toString()})]}),o.jsxs("div",{className:"bg-gray-100 p-4 rounded mb-4",children:[o.jsx("h3",{className:"font-bold text-gray-800",children:"Stack trace:"}),o.jsx("pre",{className:"text-xs text-gray-600 overflow-auto",children:this.state.errorInfo.componentStack})]}),o.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Réessayer"})]})}):this.props.children}};const FQ=()=>o.jsx("div",{className:"p-8",children:o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"🔍 Test Ultra Simple"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Si vous voyez ce message, cela signifie que le routing fonctionne."}),o.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-4",children:o.jsxs("p",{className:"text-green-800",children:["✅ AdminLayout OK",o.jsx("br",{}),"✅ Routing OK",o.jsx("br",{}),"✅ Composant de base OK"]})})]})}),BQ=()=>o.jsx(LQ,{children:o.jsx(FQ,{})}),VQ=()=>{const[e,t]=m.useState(1);m.useState(null);const n=({stepNumber:r,title:s,testFunction:a,children:i})=>{if(e<r)return o.jsx("div",{className:"bg-gray-100 p-4 rounded mb-4",children:o.jsxs("p",{className:"text-gray-600",children:["⏳ Étape ",r,": ",s," (en attente)"]})});if(e===r)try{return a==null||a(),o.jsxs("div",{className:"bg-green-50 border border-green-200 p-4 rounded mb-4",children:[o.jsxs("p",{className:"text-green-800 mb-2",children:["✅ Étape ",r,": ",s," (OK)"]}),i,o.jsx("button",{onClick:()=>t(e+1),className:"mt-2 bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600",children:"Étape suivante"})]})}catch(l){return o.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded mb-4",children:[o.jsxs("p",{className:"text-red-800 mb-2",children:["❌ Étape ",r,": ",s," (ERREUR)"]}),o.jsxs("p",{className:"text-red-600 text-sm",children:["Erreur: ",l.message]}),o.jsx("button",{onClick:()=>t(e+1),className:"mt-2 bg-orange-500 text-white px-3 py-1 rounded text-sm hover:bg-orange-600",children:"Ignorer et continuer"})]})}return o.jsx("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded mb-4",children:o.jsxs("p",{className:"text-blue-800",children:["✅ Étape ",r,": ",s," (complétée)"]})})};return o.jsx("div",{className:"p-8",children:o.jsxs("div",{className:"bg-white rounded-lg shadow p-6 max-w-4xl",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"🔧 Diagnostic Pipeline Progressif"}),o.jsx(n,{stepNumber:1,title:"Interface de base",children:o.jsx("p",{className:"text-sm text-green-700",children:"Interface basique avec titre et bouton"})}),o.jsx(n,{stepNumber:2,title:"Import useAppContext",testFunction:()=>{if(!Ce)throw new Error("useAppContext non trouvé")},children:o.jsx("p",{className:"text-sm text-green-700",children:"Import du contexte réussi"})}),o.jsx(n,{stepNumber:3,title:"Utilisation du contexte",testFunction:()=>{},children:o.jsx(zQ,{})}),o.jsx(n,{stepNumber:4,title:"Import ProspectCard",testFunction:()=>{if(!yl)throw new Error("ProspectCard non trouvé")},children:o.jsx("p",{className:"text-sm text-green-700",children:"ProspectCard importé"})}),o.jsx(n,{stepNumber:5,title:"Import Framer Motion",testFunction:()=>{if(!ee)throw new Error("Framer Motion non trouvé")},children:o.jsx("p",{className:"text-sm text-green-700",children:"Framer Motion OK"})}),o.jsx(n,{stepNumber:6,title:"Import DnD Kit",testFunction:()=>{if(!sp)throw new Error("DnD Kit non trouvé")},children:o.jsx("p",{className:"text-sm text-green-700",children:"DnD Kit OK"})}),o.jsx(n,{stepNumber:7,title:"Pipeline final",children:o.jsx(UQ,{})}),o.jsx("div",{className:"mt-6 p-4 bg-gray-100 rounded",children:o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("strong",{children:"Objectif:"})," Identifier exactement quelle dépendance cause le problème dans Pipeline."]})})]})})},zQ=()=>{var e,t;try{const n=Ce();return o.jsxs("div",{className:"text-sm text-green-700",children:[o.jsx("p",{children:"Contexte récupéré avec succès"}),o.jsxs("p",{children:["Prospects: ",((e=n==null?void 0:n.prospects)==null?void 0:e.length)||0]}),o.jsxs("p",{children:["Utilisateur actif: ",((t=n==null?void 0:n.activeAdminUser)==null?void 0:t.name)||"Non défini"]})]})}catch(n){return o.jsx("div",{className:"text-sm text-red-700",children:o.jsxs("p",{children:["Erreur contexte: ",n.message]})})}},UQ=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-blue-50 rounded p-3",children:[o.jsx("h3",{className:"font-medium text-blue-800",children:"Nouveaux"}),o.jsx("div",{className:"mt-2 space-y-2",children:o.jsxs("div",{className:"bg-white rounded p-2 text-sm",children:[o.jsx("p",{className:"font-medium",children:"Jean Dupont"}),o.jsx("p",{className:"text-gray-600",children:"Dupont SA"})]})})]}),o.jsxs("div",{className:"bg-yellow-50 rounded p-3",children:[o.jsx("h3",{className:"font-medium text-yellow-800",children:"Qualifiés"}),o.jsx("div",{className:"mt-2 space-y-2",children:o.jsxs("div",{className:"bg-white rounded p-2 text-sm",children:[o.jsx("p",{className:"font-medium",children:"Marie Martin"}),o.jsx("p",{className:"text-gray-600",children:"Martin & Co"})]})})]}),o.jsxs("div",{className:"bg-green-50 rounded p-3",children:[o.jsx("h3",{className:"font-medium text-green-800",children:"Conclus"}),o.jsx("div",{className:"mt-2 space-y-2",children:o.jsxs("div",{className:"bg-white rounded p-2 text-sm",children:[o.jsx("p",{className:"font-medium",children:"Pierre Durand"}),o.jsx("p",{className:"text-gray-600",children:"Tech Corp"})]})})]})]}),o.jsx("p",{className:"text-sm text-green-700",children:"Interface Pipeline simulée fonctionnelle !"})]}),WQ=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(null);let s;try{s=Ce()}catch(p){return console.error("Erreur contexte:",p),o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Pipeline - Erreur de contexte"}),o.jsxs("p",{className:"text-red-600",children:["Impossible de charger le contexte: ",p.message]})]})}if(!s)return o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Pipeline - Chargement"}),o.jsx("p",{children:"Chargement des données..."})]});const{prospects:a=[],updateProspectStage:i,activeAdminUser:l}=s,c=m.useMemo(()=>({nouveau:a.filter(h=>h.stage==="nouveau"),contact:a.filter(h=>h.stage==="contact"),qualification:a.filter(h=>h.stage==="qualification"),proposition:a.filter(h=>h.stage==="proposition"),negociation:a.filter(h=>h.stage==="negociation"),cloture:a.filter(h=>h.stage==="cloture")}),[a]),u=m.useCallback(p=>{const{active:h}=p;t(h.id);const g=a.find(v=>v.id===h.id);r(g)},[a]),d=m.useCallback(p=>{const{active:h,over:g}=p;if(!g){t(null),r(null);return}const v=h.id,b=g.id,x=a.find(y=>y.id===v);x&&x.stage!==b&&i&&i(v,b),t(null),r(null)},[a,i]),f=[{id:"nouveau",title:"Nouveaux",color:"bg-blue-100 border-blue-300"},{id:"contact",title:"Premier Contact",color:"bg-yellow-100 border-yellow-300"},{id:"qualification",title:"Qualification",color:"bg-orange-100 border-orange-300"},{id:"proposition",title:"Proposition",color:"bg-purple-100 border-purple-300"},{id:"negociation",title:"Négociation",color:"bg-pink-100 border-pink-300"},{id:"cloture",title:"Clôture",color:"bg-green-100 border-green-300"}];return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Pipeline des Prospects"}),o.jsxs(B,{className:"flex items-center gap-2",children:[o.jsx(et,{className:"w-4 h-4"}),"Ajouter un prospect"]})]}),o.jsxs(sp,{collisionDetection:Uy,onDragStart:u,onDragEnd:d,children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:f.map(p=>o.jsx(HQ,{stage:p,prospects:c[p.id]||[],activeId:e},p.id))}),o.jsx(gG,{children:e&&n?o.jsx("div",{className:"transform rotate-3 opacity-90",children:o.jsx(yl,{prospect:n,isDragging:!0})}):null})]}),o.jsxs("div",{className:"mt-8 p-4 bg-gray-100 rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Debug Info:"}),o.jsxs("p",{children:["Total prospects: ",a.length]}),o.jsxs("p",{children:["Utilisateur actif: ",(l==null?void 0:l.name)||"Non défini"]}),o.jsxs("p",{children:["Prospects par étape: ",Object.entries(c).map(([p,h])=>`${p}: ${h.length}`).join(", ")]})]})]})},HQ=({stage:e,prospects:t,activeId:n})=>o.jsxs("div",{id:e.id,className:`min-h-[400px] p-4 rounded-lg border-2 border-dashed ${e.color} transition-colors`,children:[o.jsx("h3",{className:"font-semibold text-center mb-4",children:e.title}),o.jsx("div",{className:"space-y-3",children:o.jsx(ap,{items:t.map(r=>r.id),strategy:op,children:t.map(r=>o.jsx(ee.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:o.jsx(yl,{prospect:r,isActive:n===r.id,compact:!0})},r.id))})}),t.length===0&&o.jsx("div",{className:"text-center text-gray-500 mt-8",children:o.jsx("p",{children:"Aucun prospect"})})]}),qd=()=>{const e=Ce(),[t,n]=ps(),[r,s]=m.useState(null),[a,i]=m.useState(!1),[l,c]=m.useState("all");if(!e)return o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Chargement du pipeline..."})]})});const{prospects:u=[],addProspect:d,updateProspect:f,users:p={},projectsData:h={},activeAdminUser:g}=e,v=[{id:"lead",name:"Prospects",color:"bg-gray-100",count:0},{id:"contact",name:"Premier Contact",color:"bg-blue-100",count:0},{id:"qualified",name:"Qualifié",color:"bg-yellow-100",count:0},{id:"proposal",name:"Proposition",color:"bg-orange-100",count:0},{id:"negotiation",name:"Négociation",color:"bg-purple-100",count:0},{id:"closed",name:"Fermé",color:"bg-green-100",count:0}],b=m.useMemo(()=>{const C={};return v.forEach(S=>{C[S.id]=[]}),u.forEach(S=>{const P=S.stage||"lead";C[P]?C[P].push(S):C.lead.push(S)}),C},[u]),x=v.map(C=>{var S;return{...C,count:((S=b[C.id])==null?void 0:S.length)||0}});m.useEffect(()=>{const C=t.get("prospect");if(!C){r!==null&&s(null);return}const S=u.find(P=>P.id===C)||null;(S==null?void 0:S.id)===(r==null?void 0:r.id)||!S&&r===null||s(S)},[t,u,r]);const y=C=>{s(C);const S=new URLSearchParams(t);S.set("prospect",C.id),n(S)},w=()=>{s(null);const C=new URLSearchParams(t);C.delete("prospect"),n(C)},j=C=>{try{d&&(d({...C,stage:"lead",ownerId:(g==null?void 0:g.id)||"user-1",createdAt:new Date().toISOString()}),K({title:"Prospect ajouté",description:"Le nouveau prospect a été créé avec succès."})),i(!1)}catch{K({title:"Erreur",description:"Impossible d'ajouter le prospect.",variant:"destructive"})}},N=C=>{try{f&&(f(C),s(C),K({title:"Prospect mis à jour",description:"Les informations ont été sauvegardées."}))}catch{K({title:"Erreur",description:"Impossible de mettre à jour le prospect.",variant:"destructive"})}};return r?o.jsx(ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"h-full",children:o.jsx(wp,{prospect:r,onBack:w,onUpdate:N})}):o.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[o.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pipeline des Prospects"}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(Rr,{className:"w-4 h-4"}),o.jsxs("span",{children:[u.length," prospect",u.length>1?"s":""]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(B,{variant:"outline",size:"sm",onClick:()=>c(l==="all"?"mine":"all"),children:[o.jsx(lL,{className:"w-4 h-4 mr-2"}),l==="all"?"Tous":"Mes prospects"]}),o.jsxs(B,{onClick:()=>i(!0),children:[o.jsx(et,{className:"w-4 h-4 mr-2"}),"Nouveau Prospect"]})]})]})}),o.jsx("div",{className:"flex-1 p-6",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 h-full",children:x.map(C=>o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`${C.color} rounded-lg p-4 flex flex-col h-full min-h-[500px]`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-semibold text-gray-800",children:C.name}),o.jsx("span",{className:"bg-white bg-opacity-70 text-gray-700 px-2 py-1 rounded-full text-xs font-medium",children:C.count})]}),o.jsxs("div",{className:"flex-1 space-y-3 overflow-y-auto",children:[(b[C.id]||[]).map(S=>o.jsx(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{scale:1.02},transition:{duration:.2},children:o.jsx(yl,{prospect:S,onClick:()=>y(S),compact:!0})},S.id)),C.count===0&&o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-50 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx(Rr,{className:"w-8 h-8 text-gray-400"})}),o.jsx("p",{className:"text-sm",children:"Aucun prospect"})]})]})]},C.id))})}),o.jsx(jp,{open:a,onOpenChange:i,onAddProspect:j}),!1]})},GQ=({column:e,onProspectClick:t})=>o.jsxs("div",{className:"bg-gray-100 rounded-xl p-4 h-full flex flex-col",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 px-2 flex justify-between items-center",children:[e.name,o.jsx("span",{className:"text-sm font-medium bg-gray-200 text-gray-600 rounded-full px-2 py-0.5",children:e.items.length})]}),o.jsx("div",{className:"space-y-4 overflow-y-auto flex-1 no-scrollbar",children:o.jsx(ap,{items:e.items.map(n=>n.id),strategy:op,children:e.items.map(n=>o.jsx(yl,{prospect:n,onClick:()=>t(n)},n.id))})})]}),YQ=()=>{console.log("🔥 FINAL PIPELINE RESTORED - Version "+new Date().toLocaleTimeString());let e=null;try{e=Ce()}catch(A){return o.jsx("div",{className:"p-8",children:o.jsxs("div",{className:"bg-red-50 border-2 border-red-500 rounded-lg p-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-red-800 mb-2",children:"❌ ERREUR CONTEXTE PIPELINE"}),o.jsxs("p",{className:"text-red-700 mb-4",children:["Erreur: ",A.message]})]})})}if(!e)return o.jsx("div",{className:"p-8",children:o.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-500 rounded-lg p-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-yellow-800 mb-2",children:"⏳ CHARGEMENT PIPELINE..."}),o.jsx("p",{className:"text-yellow-700",children:"Récupération des données..."})]})});const{prospects:t=[],addProspect:n,updateProspect:r,users:s={},projectsData:a={},getProjectSteps:i,activeAdminUser:l}=e;Vt();const[c,u]=ps(),[d,f]=m.useState({}),[p,h]=m.useState(null),[g,v]=m.useState(!1),b=m.useMemo(()=>{var $;if(!l)return[];if(l.role==="Global Admin"||l.role==="Admin")return Object.values(s);const A=[l.id,...(($=l.accessRights)==null?void 0:$.users)||[]];return Object.values(s).filter(I=>A.includes(I.id))},[l,s]),x=m.useMemo(()=>[{value:"all",label:"Tous les utilisateurs"},...b.map(A=>({value:A.id,label:A.name}))],[b]),y=m.useMemo(()=>Object.entries(a).map(([A,$])=>({value:A,label:$.title})),[a]),w=c.get("owner")||(l==null?void 0:l.id),j=c.get("project")||(y.length>0?y[0].value:""),N=c.get("prospect"),C=(A,$)=>{const I=new URLSearchParams(c);$?I.set(A,$):I.delete(A),u(I,{replace:!0})};m.useEffect(()=>{l&&!b.some(A=>A.id===w)&&w!=="all"&&C("owner",l.id)},[w,b,l]),m.useEffect(()=>{const A=t.find($=>$.id===N);h(A||null)},[N,t]),m.useEffect(()=>{if(!j||!a[j]){f({});return}const A=a[j].steps,$=A.reduce((V,k)=>(V[Ms(k.name)]={name:k.name,items:[]},V),{});t.filter(V=>{var T;return l?l.role==="Global Admin"||l.role==="Admin"?!0:[l.id,...((T=l.accessRights)==null?void 0:T.users)||[]].includes(V.ownerId):!1}).filter(V=>{const k=Array.isArray(V.tags)?V.tags:[],T=w==="all"||V.ownerId===w,_=!j||k.includes(j);return T&&_}).forEach(V=>{var O;const T=(i?i(V.id,j):[]).find(M=>M.status==="in_progress"),_=Ms(T?T.name:((O=A[0])==null?void 0:O.name)||"");$[_]&&$[_].items.push(V)}),f($)},[t,j,w,a,l,b,i]);const S=A=>{h(A),C("prospect",A.id)},P=()=>{h(null),C("prospect",null)},R=A=>{if(n){const $={...A,id:`prospect-${Date.now()}`,ownerId:(l==null?void 0:l.id)||"user-1",createdAt:new Date().toISOString()};n($)}v(!1)},E=A=>{r&&r(A)},D=A=>{console.log("Drag ended:",A)};return o.jsx(vn,{mode:"wait",children:p?o.jsx(ee.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:o.jsx(pk,{prospect:p,onBack:P,onUpdate:E})},"prospect-details"):o.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"h-full flex flex-col",children:[o.jsxs("div",{className:"flex flex-col space-y-4 p-6 bg-white border-b",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"🔥 Pipeline Original Restauré"}),o.jsxs("p",{className:"text-sm text-green-600",children:["✅ Version finale - ",new Date().toLocaleTimeString()]})]}),o.jsxs(B,{onClick:()=>v(!0),className:"flex items-center gap-2 bg-green-600 hover:bg-green-700",children:[o.jsx(et,{size:16}),"Ajouter un prospect"]})]}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("div",{className:"w-64",children:o.jsx(Yo,{value:j,onSelect:A=>C("project",A),placeholder:"Sélectionner un projet",searchPlaceholder:"Rechercher un projet...",emptyText:"Aucun projet",options:y})}),o.jsx("div",{className:"w-64",children:o.jsx(Yo,{value:w,onSelect:A=>C("owner",A),placeholder:"Sélectionner un utilisateur",searchPlaceholder:"Rechercher un utilisateur...",emptyText:"Aucun utilisateur",options:x})})]})]}),o.jsx("div",{className:"flex-1 p-6",children:o.jsx(sp,{collisionDetection:Uy,onDragEnd:D,children:o.jsx("div",{className:"flex space-x-6 h-full overflow-x-auto",children:Object.values(d).map((A,$)=>o.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:$*.1},className:"w-[300px] flex-shrink-0",children:o.jsx(GQ,{column:A,onProspectClick:S})},`${j}-${$}`))})})}),o.jsx(Xy,{open:g,onOpenChange:v,onAddProspect:R})]},"pipeline-view")})};let Cx,Sx,Px,Qf;try{Cx=require("@/components/admin/ProspectCard").default}catch{Cx=({prospect:t,onClick:n})=>o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow cursor-pointer",onClick:()=>n(t),children:[o.jsx("h3",{className:"font-semibold",children:t.name}),o.jsx("p",{className:"text-sm text-gray-600",children:t.email})]})}try{Sx=require("@/components/admin/ProspectDetailsAdmin").default}catch{Sx=({prospect:t,onBack:n})=>o.jsxs("div",{className:"p-6",children:[o.jsx("button",{onClick:n,className:"mb-4 text-blue-600",children:"← Retour"}),o.jsx("h1",{className:"text-2xl font-bold",children:t.name}),o.jsx("p",{children:t.email})]})}try{Px=require("@/components/admin/AddProspectModal").default}catch{Px=({open:t,onOpenChange:n,onAddProspect:r})=>t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-md w-full",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Ajouter un prospect"}),o.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 bg-gray-500 text-white rounded",children:"Fermer"})]})}):null}try{Qf=require("@/components/ui/SearchableSelect").default}catch{Qf=({options:t,value:n,onSelect:r,placeholder:s})=>o.jsxs("select",{value:n,onChange:a=>r(a.target.value),className:"w-full p-2 border rounded",children:[o.jsx("option",{value:"",children:s}),t.map(a=>o.jsx("option",{value:a.value,children:a.label},a.value))]})}const qQ=({column:e,onProspectClick:t})=>o.jsxs("div",{className:"bg-gray-100 rounded-xl p-4 h-full flex flex-col",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 px-2 flex justify-between items-center",children:[e.name,o.jsx("span",{className:"text-sm font-medium bg-gray-200 text-gray-600 rounded-full px-2 py-0.5",children:e.items.length})]}),o.jsx("div",{className:"space-y-4 overflow-y-auto flex-1",children:e.items.map(n=>o.jsx(Cx,{prospect:n,onClick:()=>t(n)},n.id))})]}),KQ=()=>{const{prospects:e,addProspect:t,updateProspect:n,users:r,projectsData:s,getProjectSteps:a,activeAdminUser:i}=Ce();Vt();const[l,c]=ps(),[u,d]=m.useState({}),[f,p]=m.useState(null),[h,g]=m.useState(!1),v=m.useMemo(()=>{var D;if(!i)return[];if(i.role==="Global Admin"||i.role==="Admin")return Object.values(r);const E=[i.id,...((D=i.accessRights)==null?void 0:D.users)||[]];return Object.values(r).filter(A=>E.includes(A.id))},[i,r]),b=m.useMemo(()=>[{value:"all",label:"Tous les utilisateurs"},...v.map(E=>({value:E.id,label:E.name}))],[v]),x=m.useMemo(()=>Object.entries(s).map(([E,D])=>({value:E,label:D.title})),[s]),y=l.get("owner")||(i==null?void 0:i.id),w=l.get("project")||(x.length>0?x[0].value:""),j=l.get("prospect");m.useEffect(()=>{i&&!v.some(E=>E.id===y)&&y!=="all"&&N("owner",i.id)},[y,v,i]),m.useEffect(()=>{const E=e.find(D=>D.id===j);p(E||null)},[j,e]),m.useEffect(()=>{if(!w||!s[w]){d({});return}const D=s[w].steps.reduce((I,z)=>(I[Ms(z.name)]={name:z.name,items:[]},I),{});e.filter(I=>{var V;return i?i.role==="Global Admin"||i.role==="Admin"?!0:[i.id,...((V=i.accessRights)==null?void 0:V.users)||[]].includes(I.ownerId):!1}).filter(I=>(y==="all"||I.ownerId===y)&&I.tags.includes(w)).forEach(I=>{const V=a(I.id,w).find(k=>k.status==="in_progress"||k.status==="current");if(V){const k=Ms(V.name);D[k]&&D[k].items.push(I)}}),d(D)},[e,y,w,s,a,i]);const N=(E,D)=>{const A=new URLSearchParams(l);D?A.set(E,D):A.delete(E),c(A)},C=E=>{N("prospect",E.id)},S=()=>{N("prospect",null)},P=E=>{t({...E,ownerId:(i==null?void 0:i.id)||"user-1"})},R=E=>{n(E),p(E)};return m.useEffect(()=>{i&&!l.get("owner")&&N("owner",i.id)},[i]),o.jsx(vn,{mode:"wait",children:f?o.jsx(ee.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:o.jsx(Sx,{prospect:f,onBack:S,onUpdate:R})},"prospect-details"):o.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"w-full flex flex-col h-full",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pipeline"}),o.jsx("div",{className:"w-56",children:o.jsx(Qf,{options:x,value:w,onSelect:E=>N("project",E),placeholder:"Choisir un projet",searchPlaceholder:"Rechercher...",emptyText:"Aucun projet."})}),o.jsx("div",{className:"w-56",children:o.jsx(Qf,{options:b,value:y,onSelect:E=>N("owner",E),placeholder:"Filtrer par utilisateur",searchPlaceholder:"Rechercher...",emptyText:"Aucun utilisateur."})})]}),o.jsxs(B,{onClick:()=>g(!0),className:"w-full md:w-auto",children:[o.jsx(et,{className:"mr-2 h-4 w-4"})," Nouveau Prospect"]})]}),o.jsx("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6 overflow-x-auto pb-4",children:Object.entries(u).map(([E,D],A)=>o.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.1},className:"w-[300px] flex-shrink-0",children:o.jsx(qQ,{column:D,onProspectClick:C})},E))}),o.jsx(Px,{open:h,onOpenChange:g,onAddProspect:P})]},"pipeline-view")})},Bl={restored:{label:"Pipeline Restauré",component:YQ,description:"Version restaurée avec fiche prospect Safe."},original:{label:"Pipeline Original",component:AR,description:"Pipeline historique basé sur les étapes projet."},final:{label:"Pipeline Final",component:qd,description:"Pipeline CRM avec étapes commerciales classiques."},safe:{label:"Pipeline Safe",component:KQ,description:"Variante sécurisée du pipeline original."}},XQ=()=>{var a;const[e,t]=ps(),n=e.get("variant")||"restored",r=m.useMemo(()=>{var i;return((i=Bl[n])==null?void 0:i.component)||Bl.restored.component},[n]),s=i=>{const l=new URLSearchParams(e);l.set("variant",i),t(l,{replace:!0})};return o.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[o.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Comparateur de Pipeline"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Sélectionne un variant pour tester l’affichage et le suivi prospect."})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(Bl).map(([i,l])=>o.jsx(B,{variant:n===i?"default":"outline",onClick:()=>s(i),className:"whitespace-nowrap",children:l.label},i))})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:((a=Bl[n])==null?void 0:a.description)||Bl.restored.description})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(r,{},n)})]})},JQ=()=>o.jsxs("div",{className:"p-8",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Page Ultra Simple"}),o.jsx("p",{children:"Si vous voyez ce texte, la navigation fonctionne."}),o.jsx("div",{className:"mt-4 p-4 bg-green-100 rounded",children:"✅ React fonctionne"}),o.jsx("div",{className:"mt-2 p-4 bg-blue-100 rounded",children:"✅ Tailwind fonctionne"}),o.jsx("div",{className:"mt-2 p-4 bg-yellow-100 rounded",children:"✅ AdminLayout fonctionne"})]}),QQ={ACC:"bg-blue-100 text-blue-800",Autonomie:"bg-green-100 text-green-800",Centrale:"bg-orange-100 text-orange-800",Investissement:"bg-teal-100 text-teal-800",ProducteurPro:"bg-purple-100 text-purple-800"},ZQ=["ACC","Autonomie","Centrale","Investissement","ProducteurPro"],eZ=()=>{var E;let e;try{e=Ce()}catch(D){return o.jsxs("div",{className:"p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Contacts - Erreur"}),o.jsxs("p",{className:"text-red-600",children:["Erreur contexte: ",D.message]}),o.jsx(B,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"})]})}if(!e)return o.jsxs("div",{className:"p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Contacts - Chargement"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),o.jsx("p",{children:"Chargement des contacts..."})]})]});const{prospects:t=[],addProspect:n,updateProspect:r,users:s={},activeAdminUser:a}=e;m.useState([]);const[i,l]=m.useState(null),[c,u]=m.useState(!1),[d,f]=m.useState(""),[p,h]=m.useState((a==null?void 0:a.id)||"user-1"),[g,v]=m.useState(null),[b,x]=m.useState(!1),[y,w]=ps();Vt();const j=m.useMemo(()=>{var A;if(!a)return[];if(a.role==="Global Admin"||a.role==="Admin")return Object.values(s);const D=[a.id,...((A=a.accessRights)==null?void 0:A.users)||[]];return Object.values(s).filter($=>D.includes($.id))},[a,s]),N=m.useMemo(()=>t.filter(D=>{var A,$,I,z;if(!a||a.role!=="Global Admin"&&a.role!=="Admin"&&![a.id,...((A=a.accessRights)==null?void 0:A.users)||[]].includes(D.ownerId))return!1;if(d){const V=d.toLowerCase();if(!`${D.firstName} ${D.lastName}`.toLowerCase().includes(V)&&!(($=D.email)!=null&&$.toLowerCase().includes(V))&&!((I=D.phone)!=null&&I.includes(V)))return!1}return!(p!=="all"&&D.ownerId!==p||g&&!((z=D.tags)!=null&&z.includes(g)))}),[t,d,p,g,a]),C=D=>{l(D);const A=new URLSearchParams(y);A.set("prospectId",D.id),w(A)},S=()=>{l(null);const D=new URLSearchParams(y);D.delete("prospectId"),w(D)},P=D=>{try{n&&(n({...D,ownerId:(a==null?void 0:a.id)||"user-1",createdAt:new Date().toISOString()}),K({title:"Contact ajouté",description:"Le nouveau contact a été créé avec succès."})),u(!1)}catch{K({title:"Erreur",description:"Impossible d'ajouter le contact.",variant:"destructive"})}},R=D=>{try{r&&(r(D),l(D),K({title:"Contact mis à jour",description:"Les informations ont été sauvegardées."}))}catch{K({title:"Erreur",description:"Impossible de mettre à jour le contact.",variant:"destructive"})}};return i?o.jsx(ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"h-full",children:o.jsx(wp,{prospect:i,onBack:S,onUpdate:R})}):o.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[o.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Contacts"}),o.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:o.jsxs("span",{children:[N.length," contact",N.length>1?"s":""]})})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx($c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(fe,{placeholder:"Rechercher un contact...",value:d,onChange:D=>f(D.target.value),className:"pl-10 w-64"})]}),o.jsxs(B,{onClick:()=>u(!0),children:[o.jsx(et,{className:"w-4 h-4 mr-2"}),"Nouveau Contact"]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[o.jsxs(cs,{open:b,onOpenChange:x,children:[o.jsx(us,{asChild:!0,children:o.jsxs(B,{variant:"outline",className:"justify-between",children:[p==="all"?"Tous les utilisateurs":((E=j.find(D=>D.id===p))==null?void 0:E.name)||"Utilisateur",o.jsx(An,{className:"ml-2 h-4 w-4"})]})}),o.jsx(Ar,{className:"w-64 p-0",children:o.jsxs(zo,{children:[o.jsx(Uo,{placeholder:"Rechercher un utilisateur..."}),o.jsx(Ho,{children:"Aucun utilisateur trouvé."}),o.jsx(Wo,{children:o.jsxs(Go,{children:[o.jsxs(fs,{onSelect:()=>{h("all"),x(!1)},children:[o.jsx(fn,{className:le("mr-2 h-4 w-4",p==="all"?"opacity-100":"opacity-0")}),"Tous les utilisateurs"]}),j.map(D=>o.jsxs(fs,{onSelect:()=>{h(D.id),x(!1)},children:[o.jsx(fn,{className:le("mr-2 h-4 w-4",p===D.id?"opacity-100":"opacity-0")}),D.name]},D.id))]})})]})})]}),o.jsxs(Hc,{children:[o.jsx(Gc,{asChild:!0,children:o.jsxs(B,{variant:"outline",children:[g||"Tous les tags",o.jsx(An,{className:"ml-2 h-4 w-4"})]})}),o.jsxs(el,{children:[o.jsx(Yc,{checked:!g,onCheckedChange:()=>v(null),children:"Tous les tags"}),o.jsx(qc,{}),ZQ.map(D=>o.jsx(Yc,{checked:g===D,onCheckedChange:()=>v(g===D?null:D),children:D},D))]})]})]})]}),o.jsx("div",{className:"flex-1 p-6",children:N.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx($c,{className:"w-8 h-8 text-gray-400"})}),o.jsx("p",{className:"text-gray-500",children:"Aucun contact trouvé"}),o.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Essayez de modifier vos filtres"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:N.map(D=>o.jsxs(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},whileHover:{scale:1.02},transition:{duration:.2},className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200 hover:shadow-md cursor-pointer",onClick:()=>C(D),children:[o.jsx("div",{className:"flex items-start justify-between mb-3",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("h3",{className:"font-semibold text-gray-900",children:[D.firstName," ",D.lastName]}),o.jsx("p",{className:"text-sm text-gray-600",children:D.email}),o.jsx("p",{className:"text-sm text-gray-500",children:D.phone})]})}),D.tags&&D.tags.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[D.tags.slice(0,2).map(A=>o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${QQ[A]||"bg-gray-100 text-gray-800"}`,children:A},A)),D.tags.length>2&&o.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:["+",D.tags.length-2]})]})]},D.id))})}),o.jsx(jp,{open:c,onOpenChange:u,onAddProspect:P}),!1]})},tZ=()=>{let e;try{e=Ce()}catch(n){return o.jsxs("div",{className:"p-8",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Contacts - Erreur Contexte"}),o.jsxs("p",{className:"text-red-600",children:["Erreur: ",n.message]})]})}if(!e)return o.jsxs("div",{className:"p-8",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Contacts - Pas de contexte"}),o.jsx("p",{children:"Le contexte n'est pas disponible"})]});const{prospects:t=[]}=e;return o.jsxs("div",{className:"p-8",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Contacts - Version Ultra Simple"}),o.jsx("div",{className:"bg-green-100 p-4 rounded mb-4",children:"✅ Le contexte fonctionne !"}),o.jsxs("div",{className:"bg-blue-100 p-4 rounded",children:[o.jsxs("p",{children:["Nombre de prospects: ",t.length]}),t.length>0&&o.jsxs("div",{className:"mt-4",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Premier prospect:"}),o.jsxs("p",{children:["Nom: ",t[0].firstName," ",t[0].lastName]}),o.jsxs("p",{children:["Email: ",t[0].email]})]})]})]})};let FM;FM=Xy;const nZ={ACC:"bg-blue-100 text-blue-800",Autonomie:"bg-green-100 text-green-800",Centrale:"bg-orange-100 text-orange-800",Investissement:"bg-teal-100 text-teal-800",ProducteurPro:"bg-purple-100 text-purple-800"},rZ=["ACC","Autonomie","Centrale","Investissement","ProducteurPro"],sZ=({open:e,onOpenChange:t,onAddProspect:n})=>{const{formContactConfig:r=[],projectsData:s={},activeAdminUser:a}=Ce(),[i,l]=m.useState({}),[c,u]=m.useState([]),d=Object.values(s).filter(g=>g.isPublic);m.useEffect(()=>{if(e){const g={};r.forEach(v=>{g[v.id]=""}),l(g),u([])}},[e,r]);const f=g=>{const{id:v,value:b}=g.target;l(x=>({...x,[v]:b}))},p=g=>{u(v=>v.includes(g)?v.filter(x=>x!==g):[...v,g])},h=g=>{if(g.preventDefault(),!i.name||!i.email){K({title:"Champs requis",description:"Le nom et l'email sont obligatoires.",variant:"destructive"});return}const v={id:`prospect-${Date.now()}`,...i,tags:c,hasAppointment:!1,ownerId:(a==null?void 0:a.id)||"user-1"};n(v),K({title:"✅ Prospect ajouté !",description:`${v.name} a été ajouté à la colonne "Intéressé".`}),t(!1)};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Ajouter un nouveau prospect"}),o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[r.map(g=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g.name}),o.jsx(fe,{id:g.id,type:g.type,value:i[g.id]||"",onChange:f,placeholder:g.placeholder,required:g.required})]},g.id)),d.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Projets"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:d.map(g=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Mn,{id:`tag-${g.type}`,checked:c.includes(g.type),onCheckedChange:()=>p(g.type)}),o.jsx("label",{htmlFor:`tag-${g.type}`,className:"text-sm",children:g.title})]},g.type))})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annuler"}),o.jsx(B,{type:"submit",children:"Créer le prospect"})]})]})]})})}):null},oZ=()=>{const e=Ce(),{prospects:t=[],addProspect:n,updateProspect:r,users:s={},activeAdminUser:a}=e||{},[i,l]=m.useState([]);m.useState(null);const[c,u]=m.useState(!1),[d,f]=m.useState(""),[p,h]=m.useState(null),[g,v]=m.useState(null),[b,x]=m.useState(!1),[y,w]=m.useState(!1),j=m.useRef(null),N=m.useRef(null),C=p||"Tous les tags",S=Vt(),P=m.useMemo(()=>{var F;if(!a)return[];if(a.role==="Global Admin"||a.role==="Admin")return Object.values(s);const M=[a.id,...((F=a.accessRights)==null?void 0:F.users)||[]];return Object.values(s).filter(W=>M.includes(W.id))},[a,s]),R=m.useMemo(()=>{var M,F;return g?((M=s[g])==null?void 0:M.name)||((F=P.find(W=>W.id===g))==null?void 0:F.name)||"Utilisateur inconnu":"Tous les utilisateurs"},[g,s,P]),E=m.useMemo(()=>{const M=new Set;t.forEach(W=>{(W.tags||[]).forEach(J=>M.add(J))});const F=Array.from(M);return F.length>0?F:rZ},[t]),D=m.useMemo(()=>t.filter(F=>{var J;return a?a.role==="Global Admin"||a.role==="Admin"?!0:[a.id,...((J=a.accessRights)==null?void 0:J.users)||[]].includes(F.ownerId):!1}).filter(F=>{var H,U;const W=((H=F.name)==null?void 0:H.toLowerCase().includes(d.toLowerCase()))||((U=F.email)==null?void 0:U.toLowerCase().includes(d.toLowerCase())),J=!p||F.tags&&F.tags.includes(p),ie=!g||F.ownerId===g;return W&&J&&ie}),[t,d,p,g,a]);m.useEffect(()=>{if(!b&&!y)return;const M=F=>{var ie,H;const W=(ie=j.current)==null?void 0:ie.contains(F.target),J=(H=N.current)==null?void 0:H.contains(F.target);W||x(!1),J||w(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[b,y]);const A=M=>{l(M?D.map(F=>F.id):[])},$=(M,F)=>{l(F?[...i,M]:i.filter(W=>W!==M))},I=M=>{K({title:`🚧 L'action "${M}" n'est pas encore implémentée.`,description:"Ceci est une maquette cliquable. La fonctionnalité peut être demandée. 🚀"})},z=M=>{h(M),x(!1)},V=M=>{v(M),w(!1)},k=()=>{h(null),v(null)},T=M=>{const F=M.tags&&M.tags.length>0?M.tags[0]:"ACC";S(`/admin/pipeline?project=${F}&prospect=${M.id}`)},_=M=>{n&&n({...M,status:"Intéressé",ownerId:(a==null?void 0:a.id)||"user-1"})},O=FM||sZ;return o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Contacts"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"relative w-full md:w-64",children:[o.jsx($c,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(fe,{placeholder:"Rechercher...",className:"pl-10 bg-white",value:d,onChange:M=>f(M.target.value)})]}),o.jsxs(B,{onClick:()=>u(!0),className:"bg-green-600 hover:bg-green-700",children:[o.jsx(et,{className:"mr-2 h-4 w-4"})," Nouveau"]})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs("div",{ref:j,className:"relative inline-block text-left",children:[o.jsxs(B,{type:"button",variant:"outline",className:"flex items-center space-x-2 bg-white",onClick:()=>x(M=>!M),children:[o.jsx("span",{children:C}),o.jsx(An,{className:"h-4 w-4"})]}),b&&o.jsx("div",{className:"absolute z-50 mt-1 w-44 origin-top-right rounded-md border border-gray-200 bg-white shadow-soft",children:o.jsxs("div",{className:"py-1",children:[o.jsx("button",{type:"button",className:`block w-full px-3 py-2 text-left text-sm hover:bg-gray-100 ${p?"":"bg-gray-50 font-medium"}`,onClick:()=>z(null),children:"Tous les tags"}),o.jsx("div",{className:"border-t border-gray-100 my-1"}),E.map(M=>o.jsx("button",{type:"button",className:`block w-full px-3 py-2 text-left text-sm hover:bg-gray-100 ${p===M?"bg-gray-50 font-medium":""}`,onClick:()=>z(M),children:M},M))]})})]}),o.jsxs("div",{ref:N,className:"relative inline-block text-left",children:[o.jsxs(B,{type:"button",variant:"outline",className:"flex items-center space-x-2 bg-white",onClick:()=>w(M=>!M),disabled:!P.length,children:[o.jsx("span",{children:R}),o.jsx(An,{className:"h-4 w-4"})]}),y&&o.jsx("div",{className:"absolute z-50 mt-1 w-52 origin-top-right rounded-md border border-gray-200 bg-white shadow-soft",children:o.jsxs("div",{className:"py-1",children:[o.jsx("button",{type:"button",className:`block w-full px-3 py-2 text-left text-sm hover:bg-gray-100 ${g?"":"bg-gray-50 font-medium"}`,onClick:()=>V(null),children:"Tous les utilisateurs"}),o.jsx("div",{className:"border-t border-gray-100 my-1"}),P.map(M=>o.jsx("button",{type:"button",className:`block w-full px-3 py-2 text-left text-sm hover:bg-gray-100 ${g===M.id?"bg-gray-50 font-medium":""}`,onClick:()=>V(M.id),children:M.name},M.id))]})})]}),(p||g)&&o.jsx(B,{variant:"ghost",size:"sm",onClick:k,children:"Réinitialiser"})]}),o.jsx(vn,{children:i.length>0&&o.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-white p-3 rounded-lg shadow-soft flex flex-col sm:flex-row items-center justify-between",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-700 mb-2 sm:mb-0",children:[i.length," contact",i.length>1?"s":""," sélectionné",i.length>1?"s":""]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(B,{variant:"outline",size:"sm",onClick:()=>I("Envoyer SMS"),children:[o.jsx(Ta,{className:"h-4 w-4 sm:mr-2"})," ",o.jsx("span",{className:"hidden sm:inline",children:"SMS"})]}),o.jsxs(B,{variant:"outline",size:"sm",onClick:()=>I("Envoyer Email"),children:[o.jsx(Lt,{className:"h-4 w-4 sm:mr-2"})," ",o.jsx("span",{className:"hidden sm:inline",children:"Email"})]}),o.jsxs(B,{variant:"outline",size:"sm",onClick:()=>I("Appel par Charly"),children:[o.jsx(_o,{className:"h-4 w-4 sm:mr-2"})," ",o.jsx("span",{className:"hidden sm:inline",children:"Appel IA"})]})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-soft overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[o.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"p-4",children:o.jsx(Mn,{onCheckedChange:A,checked:i.length===D.length&&D.length>0,"aria-label":"Select all contacts"})}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Nom"}),o.jsx("th",{scope:"col",className:"px-6 py-3 hidden md:table-cell",children:"Téléphone"}),o.jsx("th",{scope:"col",className:"px-6 py-3 hidden lg:table-cell",children:"Email"}),o.jsx("th",{scope:"col",className:"px-6 py-3 hidden sm:table-cell",children:"Tags"}),o.jsx("th",{scope:"col",className:"px-6 py-3 hidden md:table-cell",children:"Utilisateur"})]})}),o.jsx("tbody",{children:D.map(M=>{var F;return o.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50 cursor-pointer",onClick:()=>T(M),children:[o.jsx("td",{className:"w-4 p-4",onClick:W=>W.stopPropagation(),children:o.jsx(Mn,{onCheckedChange:W=>$(M.id,W),checked:i.includes(M.id),"aria-labelledby":`contact-name-${M.id}`})}),o.jsx("td",{id:`contact-name-${M.id}`,className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap",children:M.name}),o.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:M.phone}),o.jsx("td",{className:"px-6 py-4 hidden lg:table-cell",children:M.email}),o.jsx("td",{className:"px-6 py-4 hidden sm:table-cell",children:o.jsx("div",{className:"flex flex-wrap gap-1",children:(M.tags||[]).map(W=>o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${nZ[W]||"bg-gray-100 text-gray-800"}`,children:W},W))})}),o.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:((F=s[M.ownerId])==null?void 0:F.name)||"Non assigné"})]},M.id)})})]})}),o.jsx(O,{open:c,onOpenChange:u,onAddProspect:_})]})},aZ=()=>o.jsx("div",{className:"p-8",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"🏢 Pipeline - Gestion des Prospects"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-blue-800 mb-3",children:"📞 Nouveaux Contacts"}),o.jsx("div",{className:"text-blue-600",children:o.jsx("p",{children:"Aucun prospect pour le moment"})})]}),o.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-yellow-800 mb-3",children:"🤝 En Négociation"}),o.jsx("div",{className:"text-yellow-600",children:o.jsx("p",{children:"Aucun prospect pour le moment"})})]}),o.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-green-800 mb-3",children:"✅ Conclus"}),o.jsx("div",{className:"text-green-600",children:o.jsx("p",{children:"Aucun prospect pour le moment"})})]})]}),o.jsx("div",{className:"mt-8 p-4 bg-gray-100 rounded-lg",children:o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("strong",{children:"Info:"})," Version simplifiée du Pipeline. L'interface complète sera restaurée une fois le problème de contexte résolu."]})})]})}),iZ=()=>{var s,a,i,l,c,u;m.useState(null);let e=null;try{e=Ce()}catch(d){return o.jsx("div",{className:"p-8",children:o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[o.jsx("h1",{className:"text-xl font-bold text-red-800 mb-2",children:"❌ Erreur de Contexte"}),o.jsxs("p",{className:"text-red-700 mb-4",children:["Erreur: ",d.message]}),o.jsx("p",{className:"text-sm text-red-600",children:"Le contexte de l'application n'est pas disponible. Vérifiez que le composant est bien dans AppContext.Provider."})]})})}if(!e)return o.jsx("div",{className:"p-8",children:o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[o.jsx("h1",{className:"text-xl font-bold text-yellow-800 mb-2",children:"⏳ Chargement..."}),o.jsx("p",{className:"text-yellow-700",children:"Récupération des données du contexte..."})]})});const{prospects:t=[],users:n={},activeAdminUser:r}=e;return o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"🏢 Pipeline - Gestion des Prospects"}),o.jsxs(B,{className:"flex items-center gap-2",children:[o.jsx(et,{size:16}),"Ajouter un prospect"]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[o.jsxs("h2",{className:"text-lg font-semibold text-blue-800 mb-4",children:["📞 Nouveaux Contacts (",((s=t==null?void 0:t.filter(d=>d.status==="lead"))==null?void 0:s.length)||0,")"]}),o.jsx("div",{className:"space-y-2",children:((a=t==null?void 0:t.filter(d=>d.status==="lead"))==null?void 0:a.map(d=>o.jsxs("div",{className:"bg-white rounded p-3 shadow-sm",children:[o.jsx("h3",{className:"font-medium text-gray-800",children:d.name}),o.jsx("p",{className:"text-sm text-gray-600",children:d.company}),o.jsx("p",{className:"text-xs text-gray-500",children:d.email})]},d.id)))||o.jsx("p",{className:"text-blue-600",children:"Aucun nouveau contact"})})]}),o.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[o.jsxs("h2",{className:"text-lg font-semibold text-yellow-800 mb-4",children:["🤝 En Négociation (",((i=t==null?void 0:t.filter(d=>d.status==="qualified"))==null?void 0:i.length)||0,")"]}),o.jsx("div",{className:"space-y-2",children:((l=t==null?void 0:t.filter(d=>d.status==="qualified"))==null?void 0:l.map(d=>o.jsxs("div",{className:"bg-white rounded p-3 shadow-sm",children:[o.jsx("h3",{className:"font-medium text-gray-800",children:d.name}),o.jsx("p",{className:"text-sm text-gray-600",children:d.company}),o.jsx("p",{className:"text-xs text-gray-500",children:d.email})]},d.id)))||o.jsx("p",{className:"text-yellow-600",children:"Aucune négociation en cours"})})]}),o.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[o.jsxs("h2",{className:"text-lg font-semibold text-green-800 mb-4",children:["✅ Conclus (",((c=t==null?void 0:t.filter(d=>d.status==="converted"))==null?void 0:c.length)||0,")"]}),o.jsx("div",{className:"space-y-2",children:((u=t==null?void 0:t.filter(d=>d.status==="converted"))==null?void 0:u.map(d=>o.jsxs("div",{className:"bg-white rounded p-3 shadow-sm",children:[o.jsx("h3",{className:"font-medium text-gray-800",children:d.name}),o.jsx("p",{className:"text-sm text-gray-600",children:d.company}),o.jsx("p",{className:"text-xs text-gray-500",children:d.email})]},d.id)))||o.jsx("p",{className:"text-green-600",children:"Aucun prospect converti"})})]})]}),o.jsxs("div",{className:"mt-8 p-4 bg-gray-100 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"📊 Informations de Debug"}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("p",{children:["• Nombre total de prospects: ",(t==null?void 0:t.length)||0]}),o.jsxs("p",{children:["• Utilisateur actif: ",(r==null?void 0:r.name)||"Non défini"]}),o.jsxs("p",{children:["• Nombre d'utilisateurs: ",Object.keys(n).length]})]})]})]})})},lZ=()=>o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Pipeline"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Gérez vos prospects et opportunités"})]}),o.jsxs(B,{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700",children:[o.jsx(et,{size:16}),"Nouveau prospect"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[o.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(yt,{className:"text-blue-600",size:20}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Nouveaux"}),o.jsx("p",{className:"text-2xl font-bold text-blue-800",children:"12"})]})]})}),o.jsx("div",{className:"bg-yellow-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Rr,{className:"text-yellow-600",size:20}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-yellow-600 font-medium",children:"Qualifiés"}),o.jsx("p",{className:"text-2xl font-bold text-yellow-800",children:"8"})]})]})}),o.jsx("div",{className:"bg-orange-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(gr,{className:"text-orange-600",size:20}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Négociation"}),o.jsx("p",{className:"text-2xl font-bold text-orange-800",children:"5"})]})]})}),o.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-5 h-5 bg-green-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs",children:"✓"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Conclus"}),o.jsx("p",{className:"text-2xl font-bold text-green-800",children:"15"})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("h3",{className:"font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[o.jsx(yt,{size:16}),"Nouveaux Contacts"]}),o.jsx("div",{className:"space-y-3",children:[{name:"Jean Dupont",company:"Dupont SA",value:"15K€"},{name:"Marie Martin",company:"Martin & Co",value:"22K€"},{name:"Pierre Durand",company:"Tech Corp",value:"8K€"}].map((e,t)=>o.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border-l-4 border-blue-500",children:[o.jsx("h4",{className:"font-medium text-gray-800",children:e.name}),o.jsx("p",{className:"text-sm text-gray-600",children:e.company}),o.jsx("p",{className:"text-xs text-blue-600 font-medium mt-1",children:e.value})]},t))})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("h3",{className:"font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[o.jsx(Rr,{size:16}),"Qualifiés"]}),o.jsx("div",{className:"space-y-3",children:[{name:"Sophie Laurent",company:"Laurent SARL",value:"35K€"},{name:"Marc Rousseau",company:"Rousseau Industries",value:"28K€"}].map((e,t)=>o.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border-l-4 border-yellow-500",children:[o.jsx("h4",{className:"font-medium text-gray-800",children:e.name}),o.jsx("p",{className:"text-sm text-gray-600",children:e.company}),o.jsx("p",{className:"text-xs text-yellow-600 font-medium mt-1",children:e.value})]},t))})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("h3",{className:"font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[o.jsx(gr,{size:16}),"En Négociation"]}),o.jsx("div",{className:"space-y-3",children:[{name:"Claire Moreau",company:"Moreau Group",value:"45K€"}].map((e,t)=>o.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border-l-4 border-orange-500",children:[o.jsx("h4",{className:"font-medium text-gray-800",children:e.name}),o.jsx("p",{className:"text-sm text-gray-600",children:e.company}),o.jsx("p",{className:"text-xs text-orange-600 font-medium mt-1",children:e.value})]},t))})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("h3",{className:"font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-green-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs",children:"✓"})}),"Conclus"]}),o.jsx("div",{className:"space-y-3",children:[{name:"Antoine Dubois",company:"Dubois & Fils",value:"52K€"},{name:"Lucie Bernard",company:"Bernard Tech",value:"31K€"}].map((e,t)=>o.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border-l-4 border-green-500",children:[o.jsx("h4",{className:"font-medium text-gray-800",children:e.name}),o.jsx("p",{className:"text-sm text-gray-600",children:e.company}),o.jsx("p",{className:"text-xs text-green-600 font-medium mt-1",children:e.value})]},t))})]})]}),o.jsx("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-700",children:[o.jsx("strong",{children:"✅ Pipeline fonctionnel !"})," Interface administrative opérationnelle avec données de test. L'intégration complète avec le contexte sera restaurée progressivement."]})})]})}),cZ=()=>{const e=ms();return o.jsxs("div",{className:"p-8 bg-white border-2 border-red-500 rounded-lg m-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"🔍 DIAGNOSTIC ADMIN"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Chemin actuel:"})," ",e.pathname]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Hash:"})," ",e.hash]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Search:"})," ",e.search]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Route complète:"})," ",window.location.href]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Timestamp:"})," ",new Date().toLocaleTimeString()]})]}),o.jsxs("div",{className:"mt-4 p-4 bg-gray-100 rounded",children:[o.jsx("p",{className:"font-semibold",children:"✅ Si vous voyez ce message, cela signifie que :"}),o.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[o.jsx("li",{children:"Le routing fonctionne"}),o.jsx("li",{children:"AdminLayout se charge"}),o.jsx("li",{children:"Le problème vient du composant Pipeline"})]})]})]})},uZ={ACC:"bg-blue-100 text-blue-800",Autonomie:"bg-green-100 text-green-800",Centrale:"bg-orange-100 text-orange-800",Investissement:"bg-teal-100 text-teal-800",ProducteurPro:"bg-purple-100 text-purple-800"},dZ=["ACC","Autonomie","Centrale","Investissement","ProducteurPro"],fZ=()=>{var V;const{prospects:e,addProspect:t,updateProspect:n,users:r,activeAdminUser:s}=Ce(),[a,i]=m.useState([]),[l,c]=m.useState(null),[u,d]=m.useState(!1),[f,p]=m.useState(""),[h,g]=m.useState((s==null?void 0:s.id)||"user-1"),[v,b]=m.useState(null),[x,y]=m.useState(!1),[w,j]=ps(),N=Vt(),C=m.useMemo(()=>{var T;if(!s)return[];if(s.role==="Global Admin"||s.role==="Admin")return Object.values(r);const k=[s.id,...((T=s.accessRights)==null?void 0:T.users)||[]];return Object.values(r).filter(_=>k.includes(_.id))},[s,r]),S=m.useMemo(()=>[{value:"all",label:"Tous les utilisateurs"},...C.map(k=>({value:k.id,label:k.name}))],[C]);m.useEffect(()=>{s&&!C.some(k=>k.id===h)&&h!=="all"&&g(s.id)},[s,h,C]),m.useEffect(()=>{const k=w.get("prospectId");if(k&&e.length>0){const T=e.find(_=>_.id===k);T?c(T):z()}else c(null)},[w,e]);const P=m.useMemo(()=>e.filter(T=>{var O;return s?s.role==="Global Admin"||s.role==="Admin"?!0:[s.id,...((O=s.accessRights)==null?void 0:O.users)||[]].includes(T.ownerId):!1}).filter(T=>{const _=T.name.toLowerCase().includes(f.toLowerCase())||T.email.toLowerCase().includes(f.toLowerCase()),O=h==="all"||T.ownerId===h,M=!v||T.tags.includes(v);return _&&O&&M}),[e,f,h,v,s]),R=k=>{i(k?P.map(T=>T.id):[])},E=(k,T)=>{i(T?[...a,k]:a.filter(_=>_!==k))},D=k=>{K({title:`🚧 L'action "${k}" n'est pas encore implémentée.`,description:"Ceci est une maquette cliquable. La fonctionnalité peut être demandée. 🚀"})},A=k=>{c(k),N(`/admin/contacts?prospectId=${k.id}`)},$=k=>{n(k),c(k)},I=k=>{t({...k,status:"Intéressé",ownerId:(s==null?void 0:s.id)||"user-1"})},z=()=>{c(null),N("/admin/contacts",{replace:!0})};return l?o.jsx(wp,{prospect:l,onBack:z,onUpdate:$}):o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Contacts"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"relative w-full md:w-64",children:[o.jsx($c,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(fe,{placeholder:"Rechercher...",className:"pl-10 bg-white",value:f,onChange:k=>p(k.target.value)})]}),o.jsxs(B,{onClick:()=>d(!0),className:"bg-green-600 hover:bg-green-700",children:[o.jsx(et,{className:"mr-2 h-4 w-4"})," Nouveau"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar pb-2",children:[o.jsxs(B,{variant:"outline",className:"flex items-center space-x-2 bg-white",children:[o.jsx(mL,{className:"h-4 w-4"}),o.jsx("span",{children:"Filtres"})]}),o.jsxs(Hc,{children:[o.jsx(Gc,{asChild:!0,children:o.jsxs(B,{variant:"outline",className:"flex items-center space-x-2 bg-white",children:[o.jsx("span",{children:v||"Tags"}),o.jsx(An,{className:"h-4 w-4"})]})}),o.jsxs(el,{children:[o.jsx(Yc,{checked:!v,onSelect:()=>b(null),children:"Tous"}),o.jsx(qc,{}),dZ.map(k=>o.jsx(Yc,{checked:v===k,onSelect:()=>b(k),children:k},k))]})]}),o.jsxs(cs,{open:x,onOpenChange:y,children:[o.jsx(us,{asChild:!0,children:o.jsxs(B,{variant:"outline",className:"flex items-center space-x-2 bg-white w-[150px] justify-between",children:[o.jsx("span",{className:"truncate",children:h==="all"?"Tous":((V=r[h])==null?void 0:V.name)||"Utilisateur"}),o.jsx(An,{className:"h-4 w-4"})]})}),o.jsx(Ar,{className:"w-[200px] p-0",children:o.jsxs(zo,{children:[o.jsx(Uo,{placeholder:"Rechercher un utilisateur..."}),o.jsxs(Wo,{children:[o.jsx(Ho,{children:"Aucun utilisateur trouvé."}),o.jsx(Go,{children:S.map(k=>o.jsxs(fs,{value:k.label,onSelect:()=>{g(k.value),y(!1)},children:[o.jsx(fn,{className:le("mr-2 h-4 w-4",h===k.value?"opacity-100":"opacity-0")}),k.label]},k.value||"all-users"))})]})]})})]})]}),o.jsx(vn,{children:a.length>0&&o.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-white p-3 rounded-lg shadow-soft flex flex-col sm:flex-row items-center justify-between",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-700 mb-2 sm:mb-0",children:[a.length," contact",a.length>1?"s":""," sélectionné",a.length>1?"s":""]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(B,{variant:"outline",size:"sm",onClick:()=>D("Envoyer SMS"),children:[o.jsx(Ta,{className:"h-4 w-4 sm:mr-2"})," ",o.jsx("span",{className:"hidden sm:inline",children:"SMS"})]}),o.jsxs(B,{variant:"outline",size:"sm",onClick:()=>D("Envoyer Email"),children:[o.jsx(Lt,{className:"h-4 w-4 sm:mr-2"})," ",o.jsx("span",{className:"hidden sm:inline",children:"Email"})]}),o.jsxs(B,{variant:"outline",size:"sm",onClick:()=>D("Appel par Charly"),children:[o.jsx(_o,{className:"h-4 w-4 sm:mr-2"})," ",o.jsx("span",{className:"hidden sm:inline",children:"Appel IA"})]})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-soft overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[o.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"p-4",children:o.jsx(Mn,{onCheckedChange:R,checked:a.length===P.length&&P.length>0,"aria-label":"Select all contacts"})}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Nom"}),o.jsx("th",{scope:"col",className:"px-6 py-3 hidden md:table-cell",children:"Téléphone"}),o.jsx("th",{scope:"col",className:"px-6 py-3 hidden lg:table-cell",children:"Email"}),o.jsx("th",{scope:"col",className:"px-6 py-3 hidden sm:table-cell",children:"Tags"}),o.jsx("th",{scope:"col",className:"px-6 py-3 hidden md:table-cell",children:"Utilisateur"})]})}),o.jsx("tbody",{children:P.map(k=>{var T;return o.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50 cursor-pointer",onClick:()=>A(k),children:[o.jsx("td",{className:"w-4 p-4",onClick:_=>_.stopPropagation(),children:o.jsx(Mn,{onCheckedChange:_=>E(k.id,_),checked:a.includes(k.id),"aria-labelledby":`contact-name-${k.id}`})}),o.jsx("td",{id:`contact-name-${k.id}`,className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap",children:k.name}),o.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:k.phone}),o.jsx("td",{className:"px-6 py-4 hidden lg:table-cell",children:k.email}),o.jsx("td",{className:"px-6 py-4 hidden sm:table-cell",children:o.jsx("div",{className:"flex flex-wrap gap-1",children:k.tags.map(_=>o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${uZ[_]||"bg-gray-100 text-gray-800"}`,children:_},_))})}),o.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:((T=r[k.ownerId])==null?void 0:T.name)||"Non assigné"})]},k.id)})})]})}),o.jsx(jp,{open:u,onOpenChange:d,onAddProspect:I})]})},mZ=()=>{const e=()=>{K({title:"Lancement de la visio WhatsApp...",description:"N'oubliez pas d'autoriser les pop-ups si la fenêtre ne s'ouvre pas ! 🚀"})};return o.jsxs("div",{className:"w-full flex-shrink-0 bg-white rounded-3xl shadow-soft p-4",children:[o.jsx("h2",{className:"text-base font-bold text-gray-800 mb-3",children:"Appeler en Visio"}),o.jsxs("a",{href:"https://wa.me/33612345678?text=Bonjour%2C+je+suis+pr%C3%AAt+pour+la+visio",target:"_blank",rel:"noopener noreferrer",onClick:e,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-500 hover:bg-green-600 transition-colors",children:[o.jsx(Ta,{className:"h-5 w-5 mr-2"})," Visio WhatsApp"]})]})},pZ=({icon:e,value:t,label:n,color:r})=>o.jsx(ee.div,{whileHover:{y:-5,boxShadow:"0 10px 20px rgba(0,0,0,0.08)"},className:"bg-white p-6 rounded-2xl shadow-soft cursor-pointer",onClick:()=>K({title:`Affichage de la liste pour "${n}"... (placeholder)`}),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t}),o.jsx("p",{className:"text-sm font-medium text-gray-500",children:n})]}),o.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${r}`,children:e})]})}),hZ=()=>{const e=[{icon:o.jsx(gr,{className:"text-white"}),value:"12",label:"RDV fixés (semaine)",color:"bg-blue-500"},{icon:o.jsx(yt,{className:"text-white"}),value:"84",label:"Appels passés",color:"bg-green-500"},{icon:o.jsx(Ta,{className:"text-white"}),value:"156",label:"SMS envoyés",color:"bg-purple-500"},{icon:o.jsx(Lt,{className:"text-white"}),value:"32",label:"Emails envoyés",color:"bg-orange-500"}],t=[{name:"Relance prospects inactifs",date:"05/09/2025",status:"Terminée"},{name:"Annonce Batterie Virtuelle",date:"01/09/2025",status:"Terminée"},{name:"Campagne RDV Septembre",date:"28/08/2025",status:"Terminée"}],n=["Relance Étude","Annonce Batterie","RDV initial"],r={available:[{name:"Prise de RDV intelligente",icon:o.jsx(gr,{className:"text-green-500"})},{name:"Envoi de SMS & Emails",icon:o.jsx(Lt,{className:"text-green-500"})},{name:"Appels IA scénarisés",icon:o.jsx(_o,{className:"text-green-500"})},{name:"Actions rapides (Appel, Mail, WhatsApp)",icon:o.jsx(Am,{className:"text-green-500"})}],soon:[{name:"Relances automatiques & personnalisées",icon:o.jsx(ui,{className:"text-yellow-500"})},{name:"Briefings RDV pré-remplis",icon:o.jsx(ui,{className:"text-yellow-500"})},{name:"Coaching commercial en temps réel",icon:o.jsx(ui,{className:"text-yellow-500"})},{name:"Analyse des opportunités",icon:o.jsx(ui,{className:"text-yellow-500"})}]},s=a=>{K({title:`Création d'une nouvelle campagne "${a}"... (placeholder)`})};return o.jsxs("div",{className:"flex space-x-8 h-full",children:[o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Charly AI Cockpit"}),o.jsx("p",{className:"text-gray-600 mb-8",children:"Pilotez votre assistant IA pour booster votre productivité."}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:e.map((a,i)=>o.jsx(pZ,{...a},i))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-soft",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Campagnes Charly"}),o.jsxs(Hc,{children:[o.jsx(Gc,{asChild:!0,children:o.jsxs(B,{children:[o.jsx(et,{className:"mr-2 h-4 w-4"})," Nouvelle campagne"]})}),o.jsxs(el,{children:[o.jsxs(Fi,{onClick:()=>s("SMS de groupe"),children:[o.jsx(Ta,{className:"mr-2 h-4 w-4"})," SMS de groupe"]}),o.jsxs(Fi,{onClick:()=>s("Email de groupe"),children:[o.jsx(Lt,{className:"mr-2 h-4 w-4"})," Email de groupe"]}),o.jsxs(Fi,{onClick:()=>s("Appel IA de groupe"),children:[o.jsx(_o,{className:"mr-2 h-4 w-4"})," Appel IA de groupe"]})]})]})]}),o.jsx("ul",{className:"space-y-3",children:t.map((a,i)=>o.jsxs("li",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:a.name}),o.jsx("p",{className:"text-sm text-gray-500",children:a.date})]}),o.jsx("span",{className:"text-sm font-medium text-green-600 bg-green-100 px-2 py-1 rounded-full",children:a.status})]},i))})]}),o.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-soft",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Scripts & Messages"}),o.jsxs(B,{variant:"outline",onClick:()=>K({title:"Création d'un nouveau script... (placeholder)"}),children:[o.jsx(et,{className:"mr-2 h-4 w-4"})," Créer un script"]})]}),o.jsx("ul",{className:"space-y-3",children:n.map((a,i)=>o.jsxs("li",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50",children:[o.jsx("p",{className:"font-medium text-gray-800",children:a}),o.jsx(gu,{className:"h-5 w-5 text-gray-400"})]},i))})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-soft mt-8",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Super-pouvoirs de Charly"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center",children:[o.jsx(l2,{className:"h-5 w-5 text-green-500 mr-2"})," Déjà disponible"]}),o.jsx("ul",{className:"space-y-2",children:r.available.map((a,i)=>o.jsxs("li",{className:"flex items-center text-gray-600",children:[a.icon,o.jsx("span",{className:"ml-3",children:a.name})]},i))})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-gray-700 mb-3 flex items-center",children:[o.jsx(ui,{className:"h-5 w-5 text-yellow-500 mr-2"})," Bientôt disponible"]}),o.jsx("ul",{className:"space-y-2",children:r.soon.map((a,i)=>o.jsxs("li",{className:"flex items-center text-gray-500",children:[a.icon,o.jsx("span",{className:"ml-3",children:a.name})]},i))})]})]})]})]})}),o.jsx("aside",{className:"hidden lg:block",children:o.jsxs("div",{className:"flex flex-col space-y-6 h-full",children:[o.jsx(By,{}),o.jsx(mZ,{})]})})]})},gZ=Dm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function vZ({className:e,variant:t,...n}){return o.jsx("div",{className:le(gZ({variant:t}),e),...n})}const BM=({options:e,selected:t,onChange:n,placeholder:r,searchPlaceholder:s,emptyText:a,className:i,showSelectAll:l=!1,selectAllText:c="Tout sélectionner"})=>{const[u,d]=m.useState(!1),f=h=>{n(t.filter(g=>g.value!==h.value))},p=()=>{t.length===e.length?n([]):n(e)};return o.jsxs(cs,{open:u,onOpenChange:d,children:[o.jsx(us,{asChild:!0,children:o.jsxs(B,{variant:"outline",role:"combobox","aria-expanded":u,className:le("w-full justify-between",i),onClick:()=>d(!u),children:[o.jsx("div",{className:"flex gap-1 flex-wrap",children:t.length>0?t.map(h=>o.jsxs(vZ,{variant:"secondary",className:"mr-1",onClick:g=>{g.stopPropagation(),f(h)},children:[h.label,o.jsx("span",{className:"ml-1 ring-offset-background rounded-full outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:o.jsx(Br,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]},h.value)):o.jsx("span",{children:r})}),o.jsx(u2,{className:"h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Ar,{className:"w-[--radix-popover-trigger-width] p-0",children:o.jsxs(zo,{children:[o.jsx(Uo,{placeholder:s}),o.jsxs(Wo,{children:[o.jsx(Ho,{children:a}),o.jsxs(Go,{children:[l&&o.jsxs(o.Fragment,{children:[o.jsxs(fs,{onSelect:p,children:[o.jsx(fn,{className:le("mr-2 h-4 w-4",t.length===e.length?"opacity-100":"opacity-0")}),c]}),o.jsx(xR,{})]}),e.map(h=>o.jsxs(fs,{onSelect:()=>{const g=t.some(v=>v.value===h.value);n(g?t.filter(v=>v.value!==h.value):[...t,h])},children:[o.jsx(fn,{className:le("mr-2 h-4 w-4",t.some(g=>g.value===h.value)?"opacity-100":"opacity-0")}),h.label]},h.value))]})]})]})})]})};function oC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function aC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(n),!0).forEach(function(r){QU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cn(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var iC=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),yg=function(){return Math.random().toString(36).substring(7).split("").join(".")},lC={INIT:"@@redux/INIT"+yg(),REPLACE:"@@redux/REPLACE"+yg(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+yg()}};function xZ(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function VM(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Cn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Cn(1));return n(VM)(e,t)}if(typeof e!="function")throw new Error(Cn(2));var s=e,a=t,i=[],l=i,c=!1;function u(){l===i&&(l=i.slice())}function d(){if(c)throw new Error(Cn(3));return a}function f(v){if(typeof v!="function")throw new Error(Cn(4));if(c)throw new Error(Cn(5));var b=!0;return u(),l.push(v),function(){if(b){if(c)throw new Error(Cn(6));b=!1,u();var y=l.indexOf(v);l.splice(y,1),i=null}}}function p(v){if(!xZ(v))throw new Error(Cn(7));if(typeof v.type>"u")throw new Error(Cn(8));if(c)throw new Error(Cn(9));try{c=!0,a=s(a,v)}finally{c=!1}for(var b=i=l,x=0;x<b.length;x++){var y=b[x];y()}return v}function h(v){if(typeof v!="function")throw new Error(Cn(10));s=v,p({type:lC.REPLACE})}function g(){var v,b=f;return v={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(Cn(11));function w(){y.next&&y.next(d())}w();var j=b(w);return{unsubscribe:j}}},v[iC]=function(){return this},v}return p({type:lC.INIT}),r={dispatch:p,subscribe:f,getState:d,replaceReducer:h},r[iC]=g,r}function cC(e,t){return function(){return t(e.apply(this,arguments))}}function uC(e,t){if(typeof e=="function")return cC(e,t);if(typeof e!="object"||e===null)throw new Error(Cn(16));var n={};for(var r in e){var s=e[r];typeof s=="function"&&(n[r]=cC(s,t))}return n}function zM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}function yZ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var s=r.apply(void 0,arguments),a=function(){throw new Error(Cn(15))},i={getState:s.getState,dispatch:function(){return a.apply(void 0,arguments)}},l=t.map(function(c){return c(i)});return a=zM.apply(void 0,l)(s.dispatch),aC(aC({},s),{},{dispatch:a})}}}var UM={exports:{}},WM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var al=m;function bZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wZ=typeof Object.is=="function"?Object.is:bZ,jZ=al.useState,NZ=al.useEffect,CZ=al.useLayoutEffect,SZ=al.useDebugValue;function PZ(e,t){var n=t(),r=jZ({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return CZ(function(){s.value=n,s.getSnapshot=t,bg(s)&&a({inst:s})},[e,n,t]),NZ(function(){return bg(s)&&a({inst:s}),e(function(){bg(s)&&a({inst:s})})},[e]),SZ(n),n}function bg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wZ(e,n)}catch{return!0}}function EZ(e,t){return t()}var DZ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?EZ:PZ;WM.useSyncExternalStore=al.useSyncExternalStore!==void 0?al.useSyncExternalStore:DZ;UM.exports=WM;var HM=UM.exports,TZ={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np=m,AZ=HM;function kZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var RZ=typeof Object.is=="function"?Object.is:kZ,MZ=AZ.useSyncExternalStore,IZ=Np.useRef,OZ=Np.useEffect,$Z=Np.useMemo,_Z=Np.useDebugValue;TZ.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var a=IZ(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=$Z(function(){function c(h){if(!u){if(u=!0,d=h,h=r(h),s!==void 0&&i.hasValue){var g=i.value;if(s(g,h))return f=g}return f=h}if(g=f,RZ(d,h))return g;var v=r(h);return s!==void 0&&s(g,v)?(d=h,g):(d=h,f=v)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,s]);var l=MZ(e,a[0],a[1]);return OZ(function(){i.hasValue=!0,i.value=l},[l]),_Z(l),l};function LZ(e){e()}let GM=LZ;const FZ=e=>GM=e,BZ=()=>GM,dC=Symbol.for("react-redux-context"),fC=typeof globalThis<"u"?globalThis:{};function VZ(){var e;if(!m.createContext)return{};const t=(e=fC[dC])!=null?e:fC[dC]=new Map;let n=t.get(m.createContext);return n||(n=m.createContext(null),t.set(m.createContext,n)),n}const YM=VZ(),zZ=()=>{throw new Error("uSES not initialized!")};function qM(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var KM={exports:{}},Ye={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zt=typeof Symbol=="function"&&Symbol.for,jb=zt?Symbol.for("react.element"):60103,Nb=zt?Symbol.for("react.portal"):60106,Cp=zt?Symbol.for("react.fragment"):60107,Sp=zt?Symbol.for("react.strict_mode"):60108,Pp=zt?Symbol.for("react.profiler"):60114,Ep=zt?Symbol.for("react.provider"):60109,Dp=zt?Symbol.for("react.context"):60110,Cb=zt?Symbol.for("react.async_mode"):60111,Tp=zt?Symbol.for("react.concurrent_mode"):60111,Ap=zt?Symbol.for("react.forward_ref"):60112,kp=zt?Symbol.for("react.suspense"):60113,UZ=zt?Symbol.for("react.suspense_list"):60120,Rp=zt?Symbol.for("react.memo"):60115,Mp=zt?Symbol.for("react.lazy"):60116,WZ=zt?Symbol.for("react.block"):60121,HZ=zt?Symbol.for("react.fundamental"):60117,GZ=zt?Symbol.for("react.responder"):60118,YZ=zt?Symbol.for("react.scope"):60119;function er(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case jb:switch(e=e.type,e){case Cb:case Tp:case Cp:case Pp:case Sp:case kp:return e;default:switch(e=e&&e.$$typeof,e){case Dp:case Ap:case Mp:case Rp:case Ep:return e;default:return t}}case Nb:return t}}}function XM(e){return er(e)===Tp}Ye.AsyncMode=Cb;Ye.ConcurrentMode=Tp;Ye.ContextConsumer=Dp;Ye.ContextProvider=Ep;Ye.Element=jb;Ye.ForwardRef=Ap;Ye.Fragment=Cp;Ye.Lazy=Mp;Ye.Memo=Rp;Ye.Portal=Nb;Ye.Profiler=Pp;Ye.StrictMode=Sp;Ye.Suspense=kp;Ye.isAsyncMode=function(e){return XM(e)||er(e)===Cb};Ye.isConcurrentMode=XM;Ye.isContextConsumer=function(e){return er(e)===Dp};Ye.isContextProvider=function(e){return er(e)===Ep};Ye.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===jb};Ye.isForwardRef=function(e){return er(e)===Ap};Ye.isFragment=function(e){return er(e)===Cp};Ye.isLazy=function(e){return er(e)===Mp};Ye.isMemo=function(e){return er(e)===Rp};Ye.isPortal=function(e){return er(e)===Nb};Ye.isProfiler=function(e){return er(e)===Pp};Ye.isStrictMode=function(e){return er(e)===Sp};Ye.isSuspense=function(e){return er(e)===kp};Ye.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Cp||e===Tp||e===Pp||e===Sp||e===kp||e===UZ||typeof e=="object"&&e!==null&&(e.$$typeof===Mp||e.$$typeof===Rp||e.$$typeof===Ep||e.$$typeof===Dp||e.$$typeof===Ap||e.$$typeof===HZ||e.$$typeof===GZ||e.$$typeof===YZ||e.$$typeof===WZ)};Ye.typeOf=er;KM.exports=Ye;var qZ=KM.exports,Sb=qZ,KZ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},XZ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},JZ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},JM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Pb={};Pb[Sb.ForwardRef]=JZ;Pb[Sb.Memo]=JM;function mC(e){return Sb.isMemo(e)?JM:Pb[e.$$typeof]||KZ}var QZ=Object.defineProperty,ZZ=Object.getOwnPropertyNames,pC=Object.getOwnPropertySymbols,eee=Object.getOwnPropertyDescriptor,tee=Object.getPrototypeOf,hC=Object.prototype;function QM(e,t,n){if(typeof t!="string"){if(hC){var r=tee(t);r&&r!==hC&&QM(e,r,n)}var s=ZZ(t);pC&&(s=s.concat(pC(t)));for(var a=mC(e),i=mC(t),l=0;l<s.length;++l){var c=s[l];if(!XZ[c]&&!(n&&n[c])&&!(i&&i[c])&&!(a&&a[c])){var u=eee(t,c);try{QZ(e,c,u)}catch{}}}}return e}var nee=QM;const gC=_a(nee);var ZM={exports:{}},qe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb=Symbol.for("react.element"),Db=Symbol.for("react.portal"),Ip=Symbol.for("react.fragment"),Op=Symbol.for("react.strict_mode"),$p=Symbol.for("react.profiler"),_p=Symbol.for("react.provider"),Lp=Symbol.for("react.context"),ree=Symbol.for("react.server_context"),Fp=Symbol.for("react.forward_ref"),Bp=Symbol.for("react.suspense"),Vp=Symbol.for("react.suspense_list"),zp=Symbol.for("react.memo"),Up=Symbol.for("react.lazy"),see=Symbol.for("react.offscreen"),eI;eI=Symbol.for("react.module.reference");function yr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Eb:switch(e=e.type,e){case Ip:case $p:case Op:case Bp:case Vp:return e;default:switch(e=e&&e.$$typeof,e){case ree:case Lp:case Fp:case Up:case zp:case _p:return e;default:return t}}case Db:return t}}}qe.ContextConsumer=Lp;qe.ContextProvider=_p;qe.Element=Eb;qe.ForwardRef=Fp;qe.Fragment=Ip;qe.Lazy=Up;qe.Memo=zp;qe.Portal=Db;qe.Profiler=$p;qe.StrictMode=Op;qe.Suspense=Bp;qe.SuspenseList=Vp;qe.isAsyncMode=function(){return!1};qe.isConcurrentMode=function(){return!1};qe.isContextConsumer=function(e){return yr(e)===Lp};qe.isContextProvider=function(e){return yr(e)===_p};qe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Eb};qe.isForwardRef=function(e){return yr(e)===Fp};qe.isFragment=function(e){return yr(e)===Ip};qe.isLazy=function(e){return yr(e)===Up};qe.isMemo=function(e){return yr(e)===zp};qe.isPortal=function(e){return yr(e)===Db};qe.isProfiler=function(e){return yr(e)===$p};qe.isStrictMode=function(e){return yr(e)===Op};qe.isSuspense=function(e){return yr(e)===Bp};qe.isSuspenseList=function(e){return yr(e)===Vp};qe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ip||e===$p||e===Op||e===Bp||e===Vp||e===see||typeof e=="object"&&e!==null&&(e.$$typeof===Up||e.$$typeof===zp||e.$$typeof===_p||e.$$typeof===Lp||e.$$typeof===Fp||e.$$typeof===eI||e.getModuleId!==void 0)};qe.typeOf=yr;ZM.exports=qe;var oee=ZM.exports;const aee=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function iee(e,t,n,r,{areStatesEqual:s,areOwnPropsEqual:a,areStatePropsEqual:i}){let l=!1,c,u,d,f,p;function h(y,w){return c=y,u=w,d=e(c,u),f=t(r,u),p=n(d,f,u),l=!0,p}function g(){return d=e(c,u),t.dependsOnOwnProps&&(f=t(r,u)),p=n(d,f,u),p}function v(){return e.dependsOnOwnProps&&(d=e(c,u)),t.dependsOnOwnProps&&(f=t(r,u)),p=n(d,f,u),p}function b(){const y=e(c,u),w=!i(y,d);return d=y,w&&(p=n(d,f,u)),p}function x(y,w){const j=!a(w,u),N=!s(y,c,w,u);return c=y,u=w,j&&N?g():j?v():N?b():p}return function(w,j){return l?x(w,j):h(w,j)}}function lee(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:s}=t,a=qM(t,aee);const i=n(e,a),l=r(e,a),c=s(e,a);return iee(i,l,c,e,a)}function cee(e,t){const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=(...a)=>t(s(...a)))}return n}function Ex(e){return function(n){const r=e(n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function vC(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function tI(e,t){return function(r,{displayName:s}){const a=function(l,c){return a.dependsOnOwnProps?a.mapToProps(l,c):a.mapToProps(l,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,c){a.mapToProps=e,a.dependsOnOwnProps=vC(e);let u=a(l,c);return typeof u=="function"&&(a.mapToProps=u,a.dependsOnOwnProps=vC(u),u=a(l,c)),u},a}}function Tb(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function uee(e){return e&&typeof e=="object"?Ex(t=>cee(e,t)):e?typeof e=="function"?tI(e):Tb(e,"mapDispatchToProps"):Ex(t=>({dispatch:t}))}function dee(e){return e?typeof e=="function"?tI(e):Tb(e,"mapStateToProps"):Ex(()=>({}))}function fee(e,t,n){return Ne({},n,e,t)}function mee(e){return function(n,{displayName:r,areMergedPropsEqual:s}){let a=!1,i;return function(c,u,d){const f=e(c,u,d);return a?s(f,i)||(i=f):(a=!0,i=f),i}}}function pee(e){return e?typeof e=="function"?mee(e):Tb(e,"mergeProps"):()=>fee}function hee(){const e=BZ();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],s=t;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0,a=n={callback:r,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){!s||t===null||(s=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}const xC={notify(){},get:()=>[]};function nI(e,t){let n,r=xC,s=0,a=!1;function i(v){d();const b=r.subscribe(v);let x=!1;return()=>{x||(x=!0,b(),f())}}function l(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return a}function d(){s++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=hee())}function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=xC)}function p(){a||(a=!0,d())}function h(){a&&(a=!1,f())}const g={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:h,getListeners:()=>r};return g}const gee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zf=gee?m.useLayoutEffect:m.useEffect;function yC(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function wg(e,t){if(yC(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!yC(e[n[s]],t[n[s]]))return!1;return!0}const vee=["reactReduxForwardedRef"];let rI=zZ;const xee=e=>{rI=e},yee=[null,null];function bee(e,t,n){Zf(()=>e(...t),n)}function wee(e,t,n,r,s,a){e.current=r,n.current=!1,s.current&&(s.current=null,a())}function jee(e,t,n,r,s,a,i,l,c,u,d){if(!e)return()=>{};let f=!1,p=null;const h=()=>{if(f||!l.current)return;const v=t.getState();let b,x;try{b=r(v,s.current)}catch(y){x=y,p=y}x||(p=null),b===a.current?i.current||u():(a.current=b,c.current=b,i.current=!0,d())};return n.onStateChange=h,n.trySubscribe(),h(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}function Nee(e,t){return e===t}function sI(e,t,n,{pure:r,areStatesEqual:s=Nee,areOwnPropsEqual:a=wg,areStatePropsEqual:i=wg,areMergedPropsEqual:l=wg,forwardRef:c=!1,context:u=YM}={}){const d=u,f=dee(e),p=uee(t),h=pee(n),g=!!e;return b=>{const x=b.displayName||b.name||"Component",y=`Connect(${x})`,w={shouldHandleStateChanges:g,displayName:y,wrappedComponentName:x,WrappedComponent:b,initMapStateToProps:f,initMapDispatchToProps:p,initMergeProps:h,areStatesEqual:s,areStatePropsEqual:i,areOwnPropsEqual:a,areMergedPropsEqual:l};function j(S){const[P,R,E]=m.useMemo(()=>{const{reactReduxForwardedRef:ce}=S,Pe=qM(S,vee);return[S.context,ce,Pe]},[S]),D=m.useMemo(()=>P&&P.Consumer&&oee.isContextConsumer(m.createElement(P.Consumer,null))?P:d,[P,d]),A=m.useContext(D),$=!!S.store&&!!S.store.getState&&!!S.store.dispatch,I=!!A&&!!A.store,z=$?S.store:A.store,V=I?A.getServerState:z.getState,k=m.useMemo(()=>lee(z.dispatch,w),[z]),[T,_]=m.useMemo(()=>{if(!g)return yee;const ce=nI(z,$?void 0:A.subscription),Pe=ce.notifyNestedSubs.bind(ce);return[ce,Pe]},[z,$,A]),O=m.useMemo(()=>$?A:Ne({},A,{subscription:T}),[$,A,T]),M=m.useRef(),F=m.useRef(E),W=m.useRef(),J=m.useRef(!1);m.useRef(!1);const ie=m.useRef(!1),H=m.useRef();Zf(()=>(ie.current=!0,()=>{ie.current=!1}),[]);const U=m.useMemo(()=>()=>W.current&&E===F.current?W.current:k(z.getState(),E),[z,E]),oe=m.useMemo(()=>Pe=>T?jee(g,z,T,k,F,M,J,ie,W,_,Pe):()=>{},[T]);bee(wee,[F,M,J,E,W,_]);let ae;try{ae=rI(oe,U,V?()=>k(V(),E):U)}catch(ce){throw H.current&&(ce.message+=`
The error may be correlated with this previous error:
${H.current.stack}

`),ce}Zf(()=>{H.current=void 0,W.current=void 0,M.current=ae});const q=m.useMemo(()=>m.createElement(b,Ne({},ae,{ref:R})),[R,b,ae]);return m.useMemo(()=>g?m.createElement(D.Provider,{value:O},q):q,[D,q,O])}const C=m.memo(j);if(C.WrappedComponent=b,C.displayName=j.displayName=y,c){const P=m.forwardRef(function(E,D){return m.createElement(C,Ne({},E,{reactReduxForwardedRef:D}))});return P.displayName=y,P.WrappedComponent=b,gC(P,b)}return gC(C,b)}}function Cee({store:e,context:t,children:n,serverState:r,stabilityCheck:s="once",noopCheck:a="once"}){const i=m.useMemo(()=>{const u=nI(e);return{store:e,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:s,noopCheck:a}},[e,r,s,a]),l=m.useMemo(()=>e.getState(),[e]);Zf(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,l]);const c=t||YM;return m.createElement(c.Provider,{value:i},n)}xee(HM.useSyncExternalStore);FZ($t.unstable_batchedUpdates);function See(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function oI(e,t){var n=m.useState(function(){return{inputs:t,result:e()}})[0],r=m.useRef(!0),s=m.useRef(n),a=r.current||!!(t&&s.current.inputs&&See(t,s.current.inputs)),i=a?s.current:{inputs:t,result:e()};return m.useEffect(function(){r.current=!1,s.current=i},[i]),i.result}function Pee(e,t){return oI(function(){return e},t)}var Re=oI,ve=Pee,Eee=!0,jg="Invariant failed";function Dee(e,t){if(!e){if(Eee)throw new Error(jg);var n=typeof t=="function"?t():t,r=n?"".concat(jg,": ").concat(n):jg;throw new Error(r)}}var Er=function(t){var n=t.top,r=t.right,s=t.bottom,a=t.left,i=r-a,l=s-n,c={top:n,right:r,bottom:s,left:a,width:i,height:l,x:a,y:n,center:{x:(r+a)/2,y:(s+n)/2}};return c},Ab=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},bC=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},Tee=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Ng={top:0,right:0,bottom:0,left:0},kb=function(t){var n=t.borderBox,r=t.margin,s=r===void 0?Ng:r,a=t.border,i=a===void 0?Ng:a,l=t.padding,c=l===void 0?Ng:l,u=Er(Ab(n,s)),d=Er(bC(n,i)),f=Er(bC(d,c));return{marginBox:u,borderBox:Er(n),paddingBox:d,contentBox:f,margin:s,border:i,padding:c}},rr=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&Dee(!1),s},Aee=function(){return{x:window.pageXOffset,y:window.pageYOffset}},em=function(t,n){var r=t.borderBox,s=t.border,a=t.margin,i=t.padding,l=Tee(r,n);return kb({borderBox:l,border:s,margin:a,padding:i})},tm=function(t,n){return n===void 0&&(n=Aee()),em(t,n)},aI=function(t,n){var r={top:rr(n.marginTop),right:rr(n.marginRight),bottom:rr(n.marginBottom),left:rr(n.marginLeft)},s={top:rr(n.paddingTop),right:rr(n.paddingRight),bottom:rr(n.paddingBottom),left:rr(n.paddingLeft)},a={top:rr(n.borderTopWidth),right:rr(n.borderRightWidth),bottom:rr(n.borderBottomWidth),left:rr(n.borderLeftWidth)};return kb({borderBox:t,margin:r,padding:s,border:a})},iI=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return aI(n,r)},wC=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function kee(e,t){return!!(e===t||wC(e)&&wC(t))}function Ree(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!kee(e[n],t[n]))return!1;return!0}function Ft(e,t){t===void 0&&(t=Ree);var n=null;function r(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;var i=e.apply(this,s);return n={lastResult:i,lastArgs:s,lastThis:this},i}return r.clear=function(){n=null},r}var Mee=function(t){var n=[],r=null,s=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s};const Zc=Mee;function lI(e,t){}lI.bind(null,"warn");lI.bind(null,"error");function Mo(){}function Iee(e,t){return{...e,...t}}function ur(e,t,n){const r=t.map(s=>{const a=Iee(n,s.options);return e.addEventListener(s.eventName,s.fn,a),function(){e.removeEventListener(s.eventName,s.fn,a)}});return function(){r.forEach(a=>{a()})}}const Oee="Invariant failed";class nm extends Error{}nm.prototype.toString=function(){return this.message};function ne(e,t){if(!e)throw new nm(Oee)}class $ee extends G.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Mo,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof nm&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=ur(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof nm){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const _ee=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,rm=e=>e+1,Lee=e=>`
  You have lifted an item in position ${rm(e.source.index)}
`,cI=(e,t)=>{const n=e.droppableId===t.droppableId,r=rm(e.index),s=rm(t.index);return n?`
      You have moved the item from position ${r}
      to position ${s}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},uI=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,Fee=e=>{const t=e.destination;if(t)return cI(e.source,t);const n=e.combine;return n?uI(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},jC=e=>`
  The item has returned to its starting position
  of ${rm(e.index)}
`,Bee=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${jC(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${cI(e.source,t)}
    `:n?`
      You have dropped the item.
      ${uI(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${jC(e.source)}
  `},Vee={dragHandleUsageInstructions:_ee,onDragStart:Lee,onDragUpdate:Fee,onDragEnd:Bee};var Kd=Vee;const Bt={x:0,y:0},Ht=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),zn=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Io=(e,t)=>e.x===t.x&&e.y===t.y,jl=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),$a=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},eu=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),NC=(e,t)=>Math.min(...t.map(n=>eu(e,n))),dI=e=>t=>({x:e(t.x),y:e(t.y)});var zee=(e,t)=>{const n=Er({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Fu=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),CC=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Uee={top:0,right:0,bottom:0,left:0},Wee=(e,t)=>t?Fu(e,t.scroll.diff.displacement):e,Hee=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,Gee=(e,t)=>t&&t.shouldClipSubject?zee(t.pageMarginBox,e):Er(e);var il=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const s=Wee(e.marginBox,r),a=Hee(s,n,t),i=Gee(a,r);return{page:e,withPlaceholder:t,active:i}},Rb=(e,t)=>{e.frame||ne(!1);const n=e.frame,r=zn(t,n.scroll.initial),s=jl(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:s},max:n.scroll.max}},i=il({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:i}};const fI=Ft(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),mI=Ft(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Wp=Ft(e=>Object.values(e)),Yee=Ft(e=>Object.values(e));var Nl=Ft((e,t)=>Yee(t).filter(r=>e===r.descriptor.droppableId).sort((r,s)=>r.descriptor.index-s.descriptor.index));function Mb(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Hp(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Gp=Ft((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),qee=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:s})=>{if(!n.isCombineEnabled||!Mb(s))return null;function i(h){const g={type:"COMBINE",combine:{draggableId:h,droppableId:n.descriptor.id}};return{...s,at:g}}const l=s.displaced.all,c=l.length?l[0]:null;if(e)return c?i(c):null;const u=Gp(t,r);if(!c){if(!u.length)return null;const h=u[u.length-1];return i(h.descriptor.id)}const d=u.findIndex(h=>h.descriptor.id===c);d===-1&&ne(!1);const f=d-1;if(f<0)return null;const p=u[f];return i(p.descriptor.id)},Cl=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const pI={point:Bt,value:0},tu={invisible:{},visible:{},all:[]},Kee={displaced:tu,displacedBy:pI,at:null};var Xee=Kee,mr=(e,t)=>n=>e<=n&&n<=t,hI=e=>{const t=mr(e.top,e.bottom),n=mr(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(a&&i)return!0;const c=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return c&&u?!0:c&&i||u&&a}},Jee=e=>{const t=mr(e.top,e.bottom),n=mr(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const Ib={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},gI={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Qee=e=>t=>{const n=mr(t.top,t.bottom),r=mr(t.left,t.right);return s=>e===Ib?n(s.top)&&n(s.bottom):r(s.left)&&r(s.right)};const Zee=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Bt;return Fu(e,n)},ete=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,tte=(e,t,n)=>n(t)(e),Ob=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:s})=>{const a=r?Zee(e,t):e;return ete(a,t,s)&&tte(a,n,s)},nte=e=>Ob({...e,isVisibleThroughFrameFn:hI}),vI=e=>Ob({...e,isVisibleThroughFrameFn:Jee}),rte=e=>Ob({...e,isVisibleThroughFrameFn:Qee(e.destination.axis)}),ste=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:s}=t;if(r[e])return!1;const a=s[e];return a?a.shouldAnimate:!0};function ote(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Er(Ab(n,r))}function nu({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:s,last:a}){return e.reduce(function(l,c){const u=ote(c,n),d=c.descriptor.id;if(l.all.push(d),!nte({target:u,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const p=ste(d,a,s),h={draggableId:d,shouldAnimate:p};return l.visible[d]=h,l},{all:[],visible:{},invisible:{}})}function ate(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function SC({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const s=ate(e,{inHomeList:t});return{displaced:tu,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function sm({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:s,last:a,index:i,forceShouldAnimate:l}){const c=Cl(e,n);if(i==null)return SC({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const u=t.find(g=>g.descriptor.index===i);if(!u)return SC({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const d=Gp(e,t),f=t.indexOf(u),p=d.slice(f);return{displaced:nu({afterDragging:p,destination:n,displacedBy:s,last:a,viewport:r.frame,forceShouldAnimate:l}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function qo(e,t){return!!t.effected[e]}var ite=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,l=n[a].descriptor.index;return qo(a,s)?e?l:l-1:e?l+1:l},lte=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const s=r.index,a=e?s+1:s-1,i=n[0].descriptor.index,l=n[n.length-1].descriptor.index,c=t?l:l+1;return a<i||a>c?null:a},cte=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:s,insideDestination:a,previousImpact:i,viewport:l,afterCritical:c})=>{const u=i.at;if(u||ne(!1),u.type==="REORDER"){const f=lte({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:a});return f==null?null:sm({draggable:n,insideDestination:a,destination:s,viewport:l,last:i.displaced,displacedBy:i.displacedBy,index:f})}const d=ite({isMovingForward:e,destination:s,displaced:i.displaced,draggables:r,combine:u.combine,afterCritical:c});return d==null?null:sm({draggable:n,insideDestination:a,destination:s,viewport:l,last:i.displaced,displacedBy:i.displacedBy,index:d})},ute=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const s=!!(e.visible[n]||e.invisible[n]);return qo(n,t)?s?Bt:jl(r.point):s?r.point:Bt},dte=({afterCritical:e,impact:t,draggables:n})=>{const r=Hp(t);r||ne(!1);const s=r.draggableId,a=n[s].page.borderBox.center,i=ute({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return Ht(a,i)};const xI=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,fte=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,$b=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,PC=({axis:e,moveRelativeTo:t,isMoving:n})=>$a(e.line,t.marginBox[e.end]+xI(e,n),$b(e,t.marginBox,n)),EC=({axis:e,moveRelativeTo:t,isMoving:n})=>$a(e.line,t.marginBox[e.start]-fte(e,n),$b(e,t.marginBox,n)),mte=({axis:e,moveInto:t,isMoving:n})=>$a(e.line,t.contentBox[e.start]+xI(e,n),$b(e,t.contentBox,n));var pte=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s})=>{const a=Nl(r.descriptor.id,n),i=t.page,l=r.axis;if(!a.length)return mte({axis:l,moveInto:r.page,isMoving:i});const{displaced:c,displacedBy:u}=e,d=c.all[0];if(d){const p=n[d];if(qo(d,s))return EC({axis:l,moveRelativeTo:p.page,isMoving:i});const h=em(p.page,u.point);return EC({axis:l,moveRelativeTo:h,isMoving:i})}const f=a[a.length-1];if(f.descriptor.id===t.descriptor.id)return i.borderBox.center;if(qo(f.descriptor.id,s)){const p=em(f.page,jl(s.displacedBy.point));return PC({axis:l,moveRelativeTo:p,isMoving:i})}return PC({axis:l,moveRelativeTo:f.page,isMoving:i})},Dx=(e,t)=>{const n=e.frame;return n?Ht(t,n.scroll.diff.displacement):t};const hte=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:s})=>{const a=t.page.borderBox.center,i=e.at;return!n||!i?a:i.type==="REORDER"?pte({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s}):dte({impact:e,draggables:r,afterCritical:s})};var Yp=e=>{const t=hte(e),n=e.droppable;return n?Dx(n,t):t},yI=(e,t)=>{const n=zn(t,e.scroll.initial),r=jl(n);return{frame:Er({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function DC(e,t){return e.map(n=>t[n])}function gte(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var vte=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:s})=>{const a=yI(t,Ht(t.scroll.current,s)),i=n.frame?Rb(n,Ht(n.frame.scroll.current,s)):n,l=e.displaced,c=nu({afterDragging:DC(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=nu({afterDragging:DC(l.all,r),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),d={},f={},p=[l,c,u];return l.all.forEach(g=>{const v=gte(g,p);if(v){f[g]=v;return}d[g]=!0}),{...e,displaced:{all:l.all,invisible:d,visible:f}}},xte=(e,t)=>Ht(e.scroll.diff.displacement,t),_b=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=xte(n,e),s=zn(r,t.page.borderBox.center);return Ht(t.client.borderBox.center,s)},bI=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:s,onlyOnMainAxis:a=!1})=>{const i=zn(n,e.page.borderBox.center),c={target:Fu(e.page.borderBox,i),destination:t,withDroppableDisplacement:s,viewport:r};return a?rte(c):vI(c)},yte=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:s,viewport:a,previousPageBorderBoxCenter:i,previousClientSelection:l,afterCritical:c})=>{if(!n.isEnabled)return null;const u=Nl(n.descriptor.id,r),d=Cl(t,n),f=qee({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:s})||cte({isMovingForward:e,isInHomeList:d,draggable:t,draggables:r,destination:n,insideDestination:u,previousImpact:s,viewport:a,afterCritical:c});if(!f)return null;const p=Yp({impact:f,draggable:t,droppable:n,draggables:r,afterCritical:c});if(bI({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:_b({pageBorderBoxCenter:p,draggable:t,viewport:a}),impact:f,scrollJumpRequest:null};const g=zn(p,i),v=vte({impact:f,viewport:a,destination:n,draggables:r,maxScrollChange:g});return{clientSelection:l,impact:v,scrollJumpRequest:g}};const on=e=>{const t=e.subject.active;return t||ne(!1),t};var bte=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:s})=>{const a=n.subject.active;if(!a)return null;const i=n.axis,l=mr(a[i.start],a[i.end]),c=Wp(r).filter(d=>d!==n).filter(d=>d.isEnabled).filter(d=>!!d.subject.active).filter(d=>hI(s.frame)(on(d))).filter(d=>{const f=on(d);return e?a[i.crossAxisEnd]<f[i.crossAxisEnd]:f[i.crossAxisStart]<a[i.crossAxisStart]}).filter(d=>{const f=on(d),p=mr(f[i.start],f[i.end]);return l(f[i.start])||l(f[i.end])||p(a[i.start])||p(a[i.end])}).sort((d,f)=>{const p=on(d)[i.crossAxisStart],h=on(f)[i.crossAxisStart];return e?p-h:h-p}).filter((d,f,p)=>on(d)[i.crossAxisStart]===on(p[0])[i.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(d=>mr(on(d)[i.start],on(d)[i.end])(t[i.line]));return u.length===1?u[0]:u.length>1?u.sort((d,f)=>on(d)[i.start]-on(f)[i.start])[0]:c.sort((d,f)=>{const p=NC(t,CC(on(d))),h=NC(t,CC(on(f)));return p!==h?p-h:on(d)[i.start]-on(f)[i.start]})[0]};const TC=(e,t)=>{const n=e.page.borderBox.center;return qo(e.descriptor.id,t)?zn(n,t.displacedBy.point):n},wte=(e,t)=>{const n=e.page.borderBox;return qo(e.descriptor.id,t)?Fu(n,jl(t.displacedBy.point)):n};var jte=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:s})=>r.filter(i=>vI({target:wte(i,s),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((i,l)=>{const c=eu(e,Dx(n,TC(i,s))),u=eu(e,Dx(n,TC(l,s)));return c<u?-1:u<c?1:i.descriptor.index-l.descriptor.index})[0]||null,Bu=Ft(function(t,n){const r=n[t.line];return{value:r,point:$a(t.line,r)}});const Nte=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return $a(r.line,t[r.line]);const s=e.subject.page.contentBox[r.size],c=Nl(e.descriptor.id,n).reduce((u,d)=>u+d.client.marginBox[r.size],0)+t[r.line]-s;return c<=0?null:$a(r.line,c)},wI=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),jI=(e,t,n)=>{const r=e.frame;Cl(t,e)&&ne(!1),e.subject.withPlaceholder&&ne(!1);const s=Bu(e.axis,t.displaceBy).point,a=Nte(e,s,n),i={placeholderSize:s,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const d=il({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:d}}const l=a?Ht(r.scroll.max,a):r.scroll.max,c=wI(r,l),u=il({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:c});return{...e,subject:u,frame:c}},Cte=e=>{const t=e.subject.withPlaceholder;t||ne(!1);const n=e.frame;if(!n){const i=il({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:i}}const r=t.oldFrameMaxScroll;r||ne(!1);const s=wI(n,r),a=il({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:a,frame:s}};var Ste=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:s,destination:a,viewport:i,afterCritical:l})=>{if(!t){if(n.length)return null;const f={displaced:tu,displacedBy:pI,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},p=Yp({impact:f,draggable:r,droppable:a,draggables:s,afterCritical:l}),h=Cl(r,a)?a:jI(a,r,s);return bI({draggable:r,destination:h,newPageBorderBoxCenter:p,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],u=(()=>{const f=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?f:f+1})(),d=Bu(a.axis,r.displaceBy);return sm({draggable:r,insideDestination:n,destination:a,viewport:i,displacedBy:d,last:tu,index:u})},Pte=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:s,droppables:a,viewport:i,afterCritical:l})=>{const c=bte({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:i});if(!c)return null;const u=Nl(c.descriptor.id,s),d=jte({pageBorderBoxCenter:t,viewport:i,destination:c,insideDestination:u,afterCritical:l}),f=Ste({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:s,moveRelativeTo:d,insideDestination:u,viewport:i,afterCritical:l});if(!f)return null;const p=Yp({impact:f,draggable:n,droppable:c,draggables:s,afterCritical:l});return{clientSelection:_b({pageBorderBoxCenter:p,draggable:n,viewport:i}),impact:f,scrollJumpRequest:null}},Gn=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const Ete=(e,t)=>{const n=Gn(e);return n?t[n]:null};var Dte=({state:e,type:t})=>{const n=Ete(e.impact,e.dimensions.droppables),r=!!n,s=e.dimensions.droppables[e.critical.droppable.id],a=n||s,i=a.axis.direction,l=i==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||i==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,{draggables:f,droppables:p}=e.dimensions;return l?yte({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):Pte({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:f,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function fa(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function NI(e){const t=mr(e.top,e.bottom),n=mr(e.left,e.right);return function(s){return t(s.y)&&n(s.x)}}function Tte(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Ate({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,s=n.map(a=>{const i=a.axis,l=$a(a.axis.line,e.center[i.line],a.page.borderBox.center[i.crossAxisLine]);return{id:a.descriptor.id,distance:eu(r,l)}}).sort((a,i)=>i.distance-a.distance);return s[0]?s[0].id:null}function kte({pageBorderBox:e,draggable:t,droppables:n}){const r=Wp(n).filter(s=>{if(!s.isEnabled)return!1;const a=s.subject.active;if(!a||!Tte(e,a))return!1;if(NI(a)(e.center))return!0;const i=s.axis,l=a.center[i.crossAxisLine],c=e[i.crossAxisStart],u=e[i.crossAxisEnd],d=mr(a[i.crossAxisStart],a[i.crossAxisEnd]),f=d(c),p=d(u);return!f&&!p?!0:f?c<l:u>l});return r.length?r.length===1?r[0].descriptor.id:Ate({pageBorderBox:e,draggable:t,candidates:r}):null}const CI=(e,t)=>Er(Fu(e,t));var Rte=(e,t)=>{const n=e.frame;return n?CI(t,n.scroll.diff.value):t};function SI({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function Mte({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var Ite=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:s,viewport:a,afterCritical:i})=>{const l=n.axis,c=Bu(n.axis,t.displaceBy),u=c.value,d=e[l.start],f=e[l.end],h=Gp(t,r).find(v=>{const b=v.descriptor.id,x=v.page.borderBox.center[l.line],y=qo(b,i),w=SI({displaced:s,id:b});return y?w?f<=x:d<x-u:w?f<=x+u:d<x})||null,g=Mte({draggable:t,closest:h,inHomeList:Cl(t,n)});return sm({draggable:t,insideDestination:r,destination:n,viewport:a,last:s,displacedBy:c,index:g})};const Ote=4;var $te=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:s,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const i=r.axis,l=Bu(r.axis,e.displaceBy),c=l.value,u=t[i.start],d=t[i.end],p=Gp(e,s).find(g=>{const v=g.descriptor.id,b=g.page.borderBox,y=b[i.size]/Ote,w=qo(v,a),j=SI({displaced:n.displaced,id:v});return w?j?d>b[i.start]+y&&d<b[i.end]-y:u>b[i.start]-c+y&&u<b[i.end]-c-y:j?d>b[i.start]+c+y&&d<b[i.end]+c-y:u>b[i.start]+y&&u<b[i.end]-y});return p?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:r.descriptor.id}}}:null},PI=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:s,viewport:a,afterCritical:i})=>{const l=CI(t.page.borderBox,e),c=kte({pageBorderBox:l,draggable:t,droppables:r});if(!c)return Xee;const u=r[c],d=Nl(u.descriptor.id,n),f=Rte(u,l);return $te({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:s,destination:u,insideDestination:d,afterCritical:i})||Ite({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:u,insideDestination:d,last:s.displaced,viewport:a,afterCritical:i})},Lb=(e,t)=>({...e,[t.descriptor.id]:t});const _te=({previousImpact:e,impact:t,droppables:n})=>{const r=Gn(e),s=Gn(t);if(!r||r===s)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const i=Cte(a);return Lb(n,i)};var Lte=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:s})=>{const a=_te({previousImpact:r,impact:s,droppables:n}),i=Gn(s);if(!i)return a;const l=n[i];if(Cl(e,l)||l.subject.withPlaceholder)return a;const c=jI(l,e,t);return Lb(a,c)},mc=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:s,scrollJumpRequest:a})=>{const i=r||e.viewport,l=n||e.dimensions,c=t||e.current.client.selection,u=zn(c,e.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:Ht(e.initial.client.borderBoxCenter,u)},f={selection:Ht(d.selection,i.scroll.current),borderBoxCenter:Ht(d.borderBoxCenter,i.scroll.current),offset:Ht(d.offset,i.scroll.diff.value)},p={client:d,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:i,current:p};const h=l.draggables[e.critical.draggable.id],g=s||PI({pageOffset:f.offset,draggable:h,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),v=Lte({draggable:h,impact:g,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:p,dimensions:{draggables:l.draggables,droppables:v},impact:g,viewport:i,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function Fte(e,t){return e.map(n=>t[n])}var EI=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:s})=>{const a=e.displaced,i=Fte(a.all,n),l=nu({afterDragging:i,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:a});return{...e,displaced:l}},DI=({impact:e,draggable:t,droppable:n,draggables:r,viewport:s,afterCritical:a})=>{const i=Yp({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return _b({pageBorderBoxCenter:i,draggable:t,viewport:s})},TI=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&ne(!1);const r=e.impact,s=n||e.viewport,a=t||e.dimensions,{draggables:i,droppables:l}=a,c=i[e.critical.draggable.id],u=Gn(r);u||ne(!1);const d=l[u],f=EI({impact:r,viewport:s,destination:d,draggables:i}),p=DI({impact:f,draggable:c,droppable:d,draggables:i,viewport:s,afterCritical:e.afterCritical});return mc({impact:f,clientSelection:p,state:e,dimensions:a,viewport:s})},Bte=e=>({index:e.index,droppableId:e.droppableId}),AI=({draggable:e,home:t,draggables:n,viewport:r})=>{const s=Bu(t.axis,e.displaceBy),a=Nl(t.descriptor.id,n),i=a.indexOf(e);i===-1&&ne(!1);const l=a.slice(i+1),c=l.reduce((p,h)=>(p[h.descriptor.id]=!0,p),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:c};return{impact:{displaced:nu({afterDragging:l,destination:t,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:Bte(e.descriptor)}},afterCritical:u}},Vte=(e,t)=>({draggables:e.draggables,droppables:Lb(e.droppables,t)}),zte=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=em(e.client,t),s=tm(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:s}},Ute=e=>{const t=e.frame;return t||ne(!1),t},Wte=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(s=>{const a=s.descriptor.droppableId,i=t[a],c=Ute(i).scroll.diff.value,u=Ht(r,c);return zte({draggable:s,offset:u,initialWindowScroll:n.scroll.initial})})},Hte=({state:e,published:t})=>{const n=t.modified.map(x=>{const y=e.dimensions.droppables[x.droppableId];return Rb(y,x.scroll)}),r={...e.dimensions.droppables,...fI(n)},s=mI(Wte({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...s};t.removals.forEach(x=>{delete a[x]});const i={droppables:r,draggables:a},l=Gn(e.impact),c=l?i.droppables[l]:null,u=i.draggables[e.critical.draggable.id],d=i.droppables[e.critical.droppable.id],{impact:f,afterCritical:p}=AI({draggable:u,home:d,draggables:a,viewport:e.viewport}),h=c&&c.isCombineEnabled?e.impact:f,g=PI({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:h,viewport:e.viewport,afterCritical:p}),v={...e,phase:"DRAGGING",impact:g,onLiftImpact:f,dimensions:i,afterCritical:p,forceShouldAnimate:!1};return e.phase==="COLLECTING"?v:{...v,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Tx=e=>e.movementMode==="SNAP",Cg=(e,t,n)=>{const r=Vte(e.dimensions,t);return!Tx(e)||n?mc({state:e,dimensions:r}):TI({state:e,dimensions:r})};function Sg(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const AC={phase:"IDLE",completed:null,shouldFlush:!1};var Gte=(e=AC,t)=>{if(t.type==="FLUSH")return{...AC,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&ne(!1);const{critical:n,clientSelection:r,viewport:s,dimensions:a,movementMode:i}=t.payload,l=a.draggables[n.draggable.id],c=a.droppables[n.droppable.id],u={selection:r,borderBoxCenter:l.client.borderBox.center,offset:Bt},d={client:u,page:{selection:Ht(u.selection,s.scroll.initial),borderBoxCenter:Ht(u.selection,s.scroll.initial),offset:Ht(u.selection,s.scroll.diff.value)}},f=Wp(a.droppables).every(v=>!v.isFixedOnPage),{impact:p,afterCritical:h}=AI({draggable:l,home:c,draggables:a.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:i,dimensions:a,initial:d,current:d,isWindowScrollAllowed:f,impact:p,afterCritical:h,onLiftImpact:p,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&ne(!1),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||ne(!1),Hte({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;fa(e)||ne(!1);const{client:n}=t.payload;return Io(n,e.current.client.selection)?e:mc({state:e,clientSelection:n,impact:Tx(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Sg(e);fa(e)||ne(!1);const{id:n,newScroll:r}=t.payload,s=e.dimensions.droppables[n];if(!s)return e;const a=Rb(s,r);return Cg(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;fa(e)||ne(!1);const{id:n,isEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||ne(!1),s.isEnabled===r&&ne(!1);const a={...s,isEnabled:r};return Cg(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;fa(e)||ne(!1);const{id:n,isCombineEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||ne(!1),s.isCombineEnabled===r&&ne(!1);const a={...s,isCombineEnabled:r};return Cg(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;fa(e)||ne(!1),e.isWindowScrollAllowed||ne(!1);const n=t.payload.newScroll;if(Io(e.viewport.scroll.current,n))return Sg(e);const r=yI(e.viewport,n);return Tx(e)?TI({state:e,viewport:r}):mc({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!fa(e))return e;const n=t.payload.maxScroll;if(Io(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ne(!1);const n=Dte({state:e,type:t.type});return n?mc({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&ne(!1),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||ne(!1),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};const Yte=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),qte=e=>({type:"LIFT",payload:e}),Kte=e=>({type:"INITIAL_PUBLISH",payload:e}),Xte=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),Jte=()=>({type:"COLLECTION_STARTING",payload:null}),Qte=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),Zte=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),ene=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),kI=e=>({type:"MOVE",payload:e}),tne=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),nne=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),rne=()=>({type:"MOVE_UP",payload:null}),sne=()=>({type:"MOVE_DOWN",payload:null}),one=()=>({type:"MOVE_RIGHT",payload:null}),ane=()=>({type:"MOVE_LEFT",payload:null}),Fb=()=>({type:"FLUSH",payload:null}),ine=e=>({type:"DROP_ANIMATE",payload:e}),Bb=e=>({type:"DROP_COMPLETE",payload:e}),RI=e=>({type:"DROP",payload:e}),lne=e=>({type:"DROP_PENDING",payload:e}),MI=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var cne=e=>({getState:t,dispatch:n})=>r=>s=>{if(s.type!=="LIFT"){r(s);return}const{id:a,clientSelection:i,movementMode:l}=s.payload,c=t();c.phase==="DROP_ANIMATING"&&n(Bb({completed:c.completed})),t().phase!=="IDLE"&&ne(!1),n(Fb()),n(Yte({draggableId:a,movementMode:l}));const d={draggableId:a,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:f,dimensions:p,viewport:h}=e.startPublishing(d);n(Kte({critical:f,dimensions:p,clientSelection:i,movementMode:l,viewport:h}))},une=e=>()=>t=>n=>{n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)};const Vb={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},ru={opacity:{drop:0,combining:.7},scale:{drop:.75}},II={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},sa=`${II.outOfTheWay}s ${Vb.outOfTheWay}`,pc={fluid:`opacity ${sa}`,snap:`transform ${sa}, opacity ${sa}`,drop:e=>{const t=`${e}s ${Vb.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${sa}`,placeholder:`height ${sa}, width ${sa}, margin ${sa}`},kC=e=>Io(e,Bt)?void 0:`translate(${e.x}px, ${e.y}px)`,Ax={moveTo:kC,drop:(e,t)=>{const n=kC(e);if(n)return t?`${n} scale(${ru.scale.drop})`:n}},{minDropTime:kx,maxDropTime:OI}=II,dne=OI-kx,RC=1500,fne=.6;var mne=({current:e,destination:t,reason:n})=>{const r=eu(e,t);if(r<=0)return kx;if(r>=RC)return OI;const s=r/RC,a=kx+dne*s,i=n==="CANCEL"?a*fne:a;return Number(i.toFixed(2))},pne=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:s})=>{const{draggables:a,droppables:i}=n,l=Gn(e),c=l?i[l]:null,u=i[t.descriptor.droppableId],d=DI({impact:e,draggable:t,draggables:a,afterCritical:s,droppable:c||u,viewport:r});return zn(d,t.client.borderBox.center)},hne=({draggables:e,reason:t,lastImpact:n,home:r,viewport:s,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:EI({draggables:e,impact:a,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:tu},didDropInsideDroppable:!0};const gne=({getState:e,dispatch:t})=>n=>r=>{if(r.type!=="DROP"){n(r);return}const s=e(),a=r.payload.reason;if(s.phase==="COLLECTING"){t(lne({reason:a}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&ne(!1),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||ne(!1);const l=s.critical,c=s.dimensions,u=c.draggables[s.critical.draggable.id],{impact:d,didDropInsideDroppable:f}=hne({reason:a,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),p=f?Mb(d):null,h=f?Hp(d):null,g={index:l.draggable.index,droppableId:l.droppable.id},v={draggableId:u.descriptor.id,type:u.descriptor.type,source:g,reason:a,mode:s.movementMode,destination:p,combine:h},b=pne({impact:d,draggable:u,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),x={critical:s.critical,afterCritical:s.afterCritical,result:v,impact:d};if(!(!Io(s.current.client.offset,b)||!!v.combine)){t(Bb({completed:x}));return}const w=mne({current:s.current.client.offset,destination:b,reason:a});t(ine({newHomeClientOffset:b,dropDuration:w,completed:x}))};var vne=gne,$I=()=>({x:window.pageXOffset,y:window.pageYOffset});function xne(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function yne({onWindowScroll:e}){function t(){e($I())}const n=Zc(t),r=xne(n);let s=Mo;function a(){return s!==Mo}function i(){a()&&ne(!1),s=ur(window,[r])}function l(){a()||ne(!1),n.cancel(),s(),s=Mo}return{start:i,stop:l,isActive:a}}const bne=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH",wne=e=>{const t=yne({onWindowScroll:n=>{e.dispatch(tne({newScroll:n}))}});return n=>r=>{!t.isActive()&&r.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&bne(r)&&t.stop(),n(r)}};var jne=wne,Nne=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),s=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return s.wasCalled=()=>t,s},Cne=()=>{const e=[],t=s=>{const a=e.findIndex(l=>l.timerId===s);a===-1&&ne(!1);const[i]=e.splice(a,1);i.callback()};return{add:s=>{const a=setTimeout(()=>t(a)),i={timerId:a,callback:s};e.push(i)},flush:()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const Sne=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,Pne=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,Ene=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Vl=(e,t)=>{t()},Cd=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Pg(e,t,n,r){if(!e){n(r(t));return}const s=Nne(n);e(t,{announce:s}),s.wasCalled()||n(r(t))}var Dne=(e,t)=>{const n=Cne();let r=null;const s=(f,p)=>{r&&ne(!1),Vl("onBeforeCapture",()=>{const h=e().onBeforeCapture;h&&h({draggableId:f,mode:p})})},a=(f,p)=>{r&&ne(!1),Vl("onBeforeDragStart",()=>{const h=e().onBeforeDragStart;h&&h(Cd(f,p))})},i=(f,p)=>{r&&ne(!1);const h=Cd(f,p);r={mode:p,lastCritical:f,lastLocation:h.source,lastCombine:null},n.add(()=>{Vl("onDragStart",()=>Pg(e().onDragStart,h,t,Kd.onDragStart))})},l=(f,p)=>{const h=Mb(p),g=Hp(p);r||ne(!1);const v=!Ene(f,r.lastCritical);v&&(r.lastCritical=f);const b=!Sne(r.lastLocation,h);b&&(r.lastLocation=h);const x=!Pne(r.lastCombine,g);if(x&&(r.lastCombine=g),!v&&!b&&!x)return;const y={...Cd(f,r.mode),combine:g,destination:h};n.add(()=>{Vl("onDragUpdate",()=>Pg(e().onDragUpdate,y,t,Kd.onDragUpdate))})},c=()=>{r||ne(!1),n.flush()},u=f=>{r||ne(!1),r=null,Vl("onDragEnd",()=>Pg(e().onDragEnd,f,t,Kd.onDragEnd))};return{beforeCapture:s,beforeStart:a,start:i,update:l,flush:c,drop:u,abort:()=>{if(!r)return;const f={...Cd(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(f)}}},Tne=(e,t)=>{const n=Dne(e,t);return r=>s=>a=>{if(a.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){const l=a.payload.critical;n.beforeStart(l,a.payload.movementMode),s(a),n.start(l,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){const l=a.payload.completed.result;n.flush(),s(a),n.drop(l);return}if(s(a),a.type==="FLUSH"){n.abort();return}const i=r.getState();i.phase==="DRAGGING"&&n.update(i.critical,i.impact)}};const Ane=e=>t=>n=>{if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&ne(!1),e.dispatch(Bb({completed:r.completed}))};var kne=Ane;const Rne=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return s=>a=>{if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&r(),s(a),a.type!=="DROP_ANIMATE")return;const i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(MI())}};n=requestAnimationFrame(()=>{n=null,t=ur(window,[i])})}};var Mne=Rne,Ine=e=>()=>t=>n=>{(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)},One=e=>{let t=!1;return()=>n=>r=>{if(r.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(r.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){t=!1;const s=r.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const $ne=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH";var _ne=e=>t=>n=>r=>{if($ne(r)){e.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);const s=t.getState();s.phase!=="DRAGGING"&&ne(!1),e.start(s);return}n(r),e.scroll(t.getState())};const Lne=e=>t=>n=>{if(t(n),n.type!=="PUBLISH_WHILE_DRAGGING")return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(RI({reason:r.reason})))};var Fne=Lne;const Bne=zM;var Vne=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:s,autoScroller:a})=>VM(Gte,Bne(yZ(une(n),Ine(e),cne(e),vne,kne,Mne,Fne,_ne(a),jne,One(t),Tne(r,s))));const Eg=()=>({additions:{},removals:{},modified:{}});function zne({registry:e,callbacks:t}){let n=Eg(),r=null;const s=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:u,modified:d}=n,f=Object.keys(c).map(g=>e.draggable.getById(g).getDimension(Bt)).sort((g,v)=>g.descriptor.index-v.descriptor.index),p=Object.keys(d).map(g=>{const b=e.droppable.getById(g).callbacks.getScrollWhileDragging();return{droppableId:g,scroll:b}}),h={additions:f,removals:Object.keys(u),modified:p};n=Eg(),t.publish(h)}))};return{add:c=>{const u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],s()},remove:c=>{const u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],s()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Eg())}}}var _I=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const s=zn({x:t,y:e},{x:r,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},LI=()=>{const e=document.documentElement;return e||ne(!1),e},FI=()=>{const e=LI();return _I({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Une=()=>{const e=$I(),t=FI(),n=e.y,r=e.x,s=LI(),a=s.clientWidth,i=s.clientHeight,l=r+a,c=n+i;return{frame:Er({top:n,left:r,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:Bt,displacement:Bt}}}},Wne=({critical:e,scrollOptions:t,registry:n})=>{const r=Une(),s=r.scroll.current,a=e.droppable,i=n.droppable.getAllByType(a.type).map(d=>d.callbacks.getDimensionAndWatchScroll(s,t)),l=n.draggable.getAllByType(e.draggable.type).map(d=>d.getDimension(s));return{dimensions:{draggables:mI(l),droppables:fI(i)},critical:e,viewport:r}};function MC(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var Hne=(e,t)=>{let n=null;const r=zne({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=(p,h)=>{e.droppable.exists(p)||ne(!1),n&&t.updateDroppableIsEnabled({id:p,isEnabled:h})},a=(p,h)=>{n&&(e.droppable.exists(p)||ne(!1),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:h}))},i=(p,h)=>{n&&(e.droppable.exists(p)||ne(!1),t.updateDroppableScroll({id:p,newScroll:h}))},l=(p,h)=>{n&&e.droppable.getById(p).callbacks.scroll(h)},c=()=>{if(!n)return;r.stop();const p=n.critical.droppable;e.droppable.getAllByType(p.type).forEach(h=>h.callbacks.dragStopped()),n.unsubscribe(),n=null},u=p=>{n||ne(!1);const h=n.critical.draggable;p.type==="ADDITION"&&MC(e,h,p.value)&&r.add(p.value),p.type==="REMOVAL"&&MC(e,h,p.value)&&r.remove(p.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:i,startPublishing:p=>{n&&ne(!1);const h=e.draggable.getById(p.draggableId),g=e.droppable.getById(h.descriptor.droppableId),v={draggable:h.descriptor,droppable:g.descriptor},b=e.subscribe(u);return n={critical:v,unsubscribe:b},Wne({critical:v,registry:e,scrollOptions:p.scrollOptions})},stopPublishing:c}},BI=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",Gne=e=>{window.scrollBy(e.x,e.y)};const Yne=Ft(e=>Wp(e).filter(t=>!(!t.isEnabled||!t.frame))),qne=(e,t)=>Yne(t).find(r=>(r.frame||ne(!1),NI(r.frame.pageMarginBox)(e)))||null;var Kne=({center:e,destination:t,droppables:n})=>{if(t){const s=n[t];return s.frame?s:null}return qne(e,n)};const su={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Xne=(e,t,n=()=>su)=>{const r=n(),s=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:a}},VI=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},zb=1,Jne=(e,t,n=()=>su)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return zb;const a=1-VI({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=r.maxPixelScroll*r.ease(a);return Math.ceil(i)},Qne=(e,t,n)=>{const r=n(),s=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,i=t,l=a,u=Date.now()-i;if(u>=a)return e;if(u<s)return zb;const d=VI({startOfRange:s,endOfRange:l,current:u}),f=e*r.ease(d);return Math.ceil(f)},IC=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const a=Jne(e,t,s);return a===0?0:r?Math.max(Qne(a,n,s),zb):a},OC=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const i=Xne(e,r,a);return t[r.end]<t[r.start]?IC({distanceToEdge:t[r.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:a}):-1*IC({distanceToEdge:t[r.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:a})},Zne=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,s=t.width>e.width;return!s&&!r?n:s&&r?null:{x:s?0:n.x,y:r?0:n.y}};const ere=dI(e=>e===0?0:e);var zI=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const i={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=OC({container:t,distanceToEdges:i,dragStartTime:e,axis:Ib,shouldUseTimeDampening:s,getAutoScrollerOptions:a}),c=OC({container:t,distanceToEdges:i,dragStartTime:e,axis:gI,shouldUseTimeDampening:s,getAutoScrollerOptions:a}),u=ere({x:c,y:l});if(Io(u,Bt))return null;const d=Zne({container:t,subject:n,proposedScroll:u});return d?Io(d,Bt)?null:d:null};const tre=dI(e=>e===0?0:e>0?1:-1),Ub=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const s=Ht(t,r),a={x:e(s.x,n.x),y:e(s.y,n.y)};return Io(a,Bt)?null:a}})(),UI=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=tre(n),a=Ub({max:r,current:t,change:s});return!a||s.x!==0&&a.x===0||s.y!==0&&a.y===0},Wb=(e,t)=>UI({current:e.scroll.current,max:e.scroll.max,change:t}),nre=(e,t)=>{if(!Wb(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Ub({current:r,max:n,change:t})},Hb=(e,t)=>{const n=e.frame;return n?UI({current:n.scroll.current,max:n.scroll.max,change:t}):!1},rre=(e,t)=>{const n=e.frame;return!n||!Hb(e,t)?null:Ub({current:n.scroll.current,max:n.scroll.max,change:t})};var sre=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const i=zI({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:a});return i&&Wb(e,i)?i:null},ore=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const i=e.frame;if(!i)return null;const l=zI({dragStartTime:r,container:i.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:a});return l&&Hb(e,l)?l:null},$C=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:s,getAutoScrollerOptions:a})=>{const i=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,p=sre({dragStartTime:t,viewport:f,subject:c,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(p){r(p);return}}const u=Kne({center:i,destination:Gn(e.impact),droppables:e.dimensions.droppables});if(!u)return;const d=ore({dragStartTime:t,droppable:u,subject:c,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:a});d&&s(u.descriptor.id,d)},are=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>su})=>{const r=Zc(e),s=Zc(t);let a=null;const i=u=>{a||ne(!1);const{shouldUseTimeDampening:d,dragStartTime:f}=a;$C({state:u,scrollWindow:r,scrollDroppable:s,dragStartTime:f,shouldUseTimeDampening:d,getAutoScrollerOptions:n})};return{start:u=>{a&&ne(!1);const d=Date.now();let f=!1;const p=()=>{f=!0};$C({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:n}),a={dragStartTime:d,shouldUseTimeDampening:f},f&&i(u)},stop:()=>{a&&(r.cancel(),s.cancel(),a=null)},scroll:i}},ire=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,c)=>{const u=Ht(l.current.client.selection,c);e({client:u})},s=(l,c)=>{if(!Hb(l,c))return c;const u=rre(l,c);if(!u)return t(l.descriptor.id,c),null;const d=zn(c,u);return t(l.descriptor.id,d),zn(c,d)},a=(l,c,u)=>{if(!l||!Wb(c,u))return u;const d=nre(c,u);if(!d)return n(u),null;const f=zn(u,d);return n(f),zn(u,f)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const u=Gn(l.impact);u||ne(!1);const d=s(l.dimensions.droppables[u],c);if(!d)return;const f=l.viewport,p=a(l.isWindowScrollAllowed,f,d);p&&r(l,p)}},lre=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const s=are({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=ire({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){s.scroll(c);return}c.scrollJumpRequest&&a(c)}},start:s.start,stop:s.stop}};const ll="data-rfd",cl=(()=>{const e=`${ll}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Rx=(()=>{const e=`${ll}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),cre=(()=>{const e=`${ll}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),_C={contextId:`${ll}-scroll-container-context-id`},ure=e=>t=>`[${t}="${e}"]`,zl=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),dre="pointer-events: none;";var fre=e=>{const t=ure(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(cl.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:dre,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${pc.outOfTheWay};
    `;return{selector:t(Rx.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),s={selector:t(cre.contextId),styles:{always:"overflow-anchor: none;"}},i=[r,n,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:zl(i,"always"),resting:zl(i,"resting"),dragging:zl(i,"dragging"),dropAnimating:zl(i,"dropAnimating"),userCancel:zl(i,"userCancel")}};const mre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?m.useLayoutEffect:m.useEffect;var Yn=mre;const Dg=()=>{const e=document.querySelector("head");return e||ne(!1),e},LC=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function pre(e,t){const n=Re(()=>fre(e),[e]),r=m.useRef(null),s=m.useRef(null),a=ve(Ft(f=>{const p=s.current;p||ne(!1),p.textContent=f}),[]),i=ve(f=>{const p=r.current;p||ne(!1),p.textContent=f},[]);Yn(()=>{!r.current&&!s.current||ne(!1);const f=LC(t),p=LC(t);return r.current=f,s.current=p,f.setAttribute(`${ll}-always`,e),p.setAttribute(`${ll}-dynamic`,e),Dg().appendChild(f),Dg().appendChild(p),i(n.always),a(n.resting),()=>{const h=g=>{const v=g.current;v||ne(!1),Dg().removeChild(v),g.current=null};h(r),h(s)}},[t,i,a,n.always,n.resting,e]);const l=ve(()=>a(n.dragging),[a,n.dragging]),c=ve(f=>{if(f==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),u=ve(()=>{s.current&&a(n.resting)},[a,n.resting]);return Re(()=>({dragging:l,dropping:c,resting:u}),[l,c,u])}function WI(e,t){return Array.from(e.querySelectorAll(t))}var HI=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function qp(e){return e instanceof HI(e).HTMLElement}function hre(e,t){const n=`[${cl.contextId}="${e}"]`,r=WI(document,n);if(!r.length)return null;const s=r.find(a=>a.getAttribute(cl.draggableId)===t);return!s||!qp(s)?null:s}function gre(e){const t=m.useRef({}),n=m.useRef(null),r=m.useRef(null),s=m.useRef(!1),a=ve(function(p,h){const g={id:p,focus:h};return t.current[p]=g,function(){const b=t.current;b[p]!==g&&delete b[p]}},[]),i=ve(function(p){const h=hre(e,p);h&&h!==document.activeElement&&h.focus()},[e]),l=ve(function(p,h){n.current===p&&(n.current=h)},[]),c=ve(function(){r.current||s.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const p=n.current;p&&i(p)}))},[i]),u=ve(function(p){n.current=null;const h=document.activeElement;h&&h.getAttribute(cl.draggableId)===p&&(n.current=p)},[]);return Yn(()=>(s.current=!0,function(){s.current=!1;const p=r.current;p&&cancelAnimationFrame(p)}),[]),Re(()=>({register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[a,u,c,l])}function vre(){const e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),function(){const h=t.indexOf(f);h!==-1&&t.splice(h,1)}}function r(f){t.length&&t.forEach(p=>p(f))}function s(f){return e.draggables[f]||null}function a(f){const p=s(f);return p||ne(!1),p}const i={register:f=>{e.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:(f,p)=>{const h=e.draggables[p.descriptor.id];h&&h.uniqueId===f.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:f=>{const p=f.descriptor.id,h=s(p);h&&f.uniqueId===h.uniqueId&&(delete e.draggables[p],e.droppables[f.descriptor.droppableId]&&r({type:"REMOVAL",value:f}))},getById:a,findById:s,exists:f=>!!s(f),getAllByType:f=>Object.values(e.draggables).filter(p=>p.descriptor.type===f)};function l(f){return e.droppables[f]||null}function c(f){const p=l(f);return p||ne(!1),p}const u={register:f=>{e.droppables[f.descriptor.id]=f},unregister:f=>{const p=l(f.descriptor.id);p&&f.uniqueId===p.uniqueId&&delete e.droppables[f.descriptor.id]},getById:c,findById:l,exists:f=>!!l(f),getAllByType:f=>Object.values(e.droppables).filter(p=>p.descriptor.type===f)};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:u,subscribe:n,clean:d}}function xre(){const e=Re(vre,[]);return m.useEffect(()=>function(){G.version.startsWith("16")||G.version.startsWith("17")?requestAnimationFrame(e.clean):e.clean()},[e]),e}var Gb=G.createContext(null),om=()=>{const e=document.body;return e||ne(!1),e};const yre={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var bre=yre;const wre=e=>`rfd-announcement-${e}`;function jre(e){const t=Re(()=>wre(e),[e]),n=m.useRef(null);return m.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Ne(a.style,bre),om().appendChild(a),function(){setTimeout(function(){const c=om();c.contains(a)&&c.removeChild(a),a===n.current&&(n.current=null)})}},[t]),ve(s=>{const a=n.current;if(a){a.textContent=s;return}},[])}let Nre=0;const GI={separator:"::"};function Cre(e,t=GI){return Re(()=>`${e}${t.separator}${Nre++}`,[t.separator,e])}function Sre(e,t=GI){const n=G.useId();return Re(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}var Yb="useId"in G?Sre:Cre;function Pre({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function Ere({contextId:e,text:t}){const n=Yb("hidden-text",{separator:"-"}),r=Re(()=>Pre({contextId:e,uniqueId:n}),[n,e]);return m.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",om().appendChild(a),function(){const l=om();l.contains(a)&&l.removeChild(a)}},[r,t]),r}var Kp=G.createContext(null);function YI(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),t}function Dre(){let e=null;function t(){return!!e}function n(i){return i===e}function r(i){e&&ne(!1);const l={abandon:i};return e=l,l}function s(){e||ne(!1),e=null}function a(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:n,claim:r,release:s,tryAbandon:a}}function ou(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const Tre=9,Are=13,qb=27,qI=32,kre=33,Rre=34,Mre=35,Ire=36,Ore=37,$re=38,_re=39,Lre=40,Fre={[Are]:!0,[Tre]:!0};var KI=e=>{Fre[e.keyCode]&&e.preventDefault()};const Bre=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})();var Xp=Bre;const XI=0,FC=5;function Vre(e,t){return Math.abs(t.x-e.x)>=FC||Math.abs(t.y-e.y)>=FC}const BC={type:"IDLE"};function zre({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:s=>{const{button:a,clientX:i,clientY:l}=s;if(a!==XI)return;const c={x:i,y:l},u=n();if(u.type==="DRAGGING"){s.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&ne(!1);const d=u.point;if(!Vre(d,c))return;s.preventDefault();const f=u.actions.fluidLift(c);r({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:s=>{const a=n();if(a.type!=="DRAGGING"){e();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:s=>{n().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:s=>{if(n().type==="PENDING"){e();return}if(s.keyCode===qb){s.preventDefault(),e();return}KI(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:s=>{const a=n();if(a.type==="IDLE"&&ne(!1),a.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:Xp,fn:e}]}function Ure(e){const t=m.useRef(BC),n=m.useRef(Mo),r=Re(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==XI||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const p=e.findClosestDraggableId(f);if(!p)return;const h=e.tryGetLock(p,i,{sourceEvent:f});if(!h)return;f.preventDefault();const g={x:f.clientX,y:f.clientY};n.current(),u(h,g)}}),[e]),s=Re(()=>({eventName:"webkitmouseforcewillbegin",fn:d=>{if(d.defaultPrevented)return;const f=e.findClosestDraggableId(d);if(!f)return;const p=e.findOptionsForDraggable(f);p&&(p.shouldRespectForcePress||e.canGetLock(f)&&d.preventDefault())}}),[e]),a=ve(function(){const f={passive:!1,capture:!0};n.current=ur(window,[s,r],f)},[s,r]),i=ve(()=>{t.current.type!=="IDLE"&&(t.current=BC,n.current(),a())},[a]),l=ve(()=>{const d=t.current;i(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[i]),c=ve(function(){const f={capture:!0,passive:!1},p=zre({cancel:l,completed:i,getPhase:()=>t.current,setPhase:h=>{t.current=h}});n.current=ur(window,p,f)},[l,i]),u=ve(function(f,p){t.current.type!=="IDLE"&&ne(!1),t.current={type:"PENDING",point:p,actions:f},c()},[c]);Yn(function(){return a(),function(){n.current()}},[a])}function Wre(){}const Hre={[Rre]:!0,[kre]:!0,[Ire]:!0,[Mre]:!0};function Gre(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===qb){s.preventDefault(),n();return}if(s.keyCode===qI){s.preventDefault(),r();return}if(s.keyCode===Lre){s.preventDefault(),e.moveDown();return}if(s.keyCode===$re){s.preventDefault(),e.moveUp();return}if(s.keyCode===_re){s.preventDefault(),e.moveRight();return}if(s.keyCode===Ore){s.preventDefault(),e.moveLeft();return}if(Hre[s.keyCode]){s.preventDefault();return}KI(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Xp,fn:n}]}function Yre(e){const t=m.useRef(Wre),n=Re(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==qI)return;const i=e.findClosestDraggableId(a);if(!i)return;const l=e.tryGetLock(i,d,{sourceEvent:a});if(!l)return;a.preventDefault();let c=!0;const u=l.snapLift();t.current();function d(){c||ne(!1),c=!1,t.current(),r()}t.current=ur(window,Gre(u,d),{capture:!0,passive:!1})}}),[e]),r=ve(function(){const a={passive:!1,capture:!0};t.current=ur(window,[n],a)},[n]);Yn(function(){return r(),function(){t.current()}},[r])}const Tg={type:"IDLE"},qre=120,Kre=.15;function Xre({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===qb&&n.preventDefault(),e()}},{eventName:Xp,fn:e}]}function Jre({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:a,clientY:i}=r.touches[0],l={x:a,y:i};r.preventDefault(),s.actions.move(l)}},{eventName:"touchend",fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const s=n();s.type==="IDLE"&&ne(!1);const a=r.touches[0];if(!a||!(a.force>=Kre))return;const l=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){l&&e();return}if(l){if(s.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Xp,fn:e}]}function Qre(e){const t=m.useRef(Tg),n=m.useRef(Mo),r=ve(function(){return t.current},[]),s=ve(function(h){t.current=h},[]),a=Re(()=>({eventName:"touchstart",fn:function(h){if(h.defaultPrevented)return;const g=e.findClosestDraggableId(h);if(!g)return;const v=e.tryGetLock(g,l,{sourceEvent:h});if(!v)return;const b=h.touches[0],{clientX:x,clientY:y}=b,w={x,y};n.current(),f(v,w)}}),[e]),i=ve(function(){const h={capture:!0,passive:!1};n.current=ur(window,[a],h)},[a]),l=ve(()=>{const p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),s(Tg),n.current(),i())},[i,s]),c=ve(()=>{const p=t.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),u=ve(function(){const h={capture:!0,passive:!1},g={cancel:c,completed:l,getPhase:r},v=ur(window,Jre(g),h),b=ur(window,Xre(g),h);n.current=function(){v(),b()}},[c,r,l]),d=ve(function(){const h=r();h.type!=="PENDING"&&ne(!1);const g=h.actions.fluidLift(h.point);s({type:"DRAGGING",actions:g,hasMoved:!1})},[r,s]),f=ve(function(h,g){r().type!=="IDLE"&&ne(!1);const v=setTimeout(d,qre);s({type:"PENDING",point:g,actions:h,longPressTimerId:v}),u()},[u,r,s,d]);Yn(function(){return i(),function(){n.current();const g=r();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),s(Tg))}},[r,i,s]),Yn(function(){return ur(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Zre=["input","button","textarea","select","option","optgroup","video","audio"];function JI(e,t){if(t==null)return!1;if(Zre.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:JI(e,t.parentElement)}function ese(e,t){const n=t.target;return qp(n)?JI(e,n):!1}var tse=e=>Er(e.getBoundingClientRect()).center;function nse(e){return e instanceof HI(e).Element}const rse=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function QI(e,t){return e==null?null:e[rse](t)?e:QI(e.parentElement,t)}function sse(e,t){return e.closest?e.closest(t):QI(e,t)}function ose(e){return`[${cl.contextId}="${e}"]`}function ase(e,t){const n=t.target;if(!nse(n))return null;const r=ose(e),s=sse(n,r);return!s||!qp(s)?null:s}function ise(e,t){const n=ase(e,t);return n?n.getAttribute(cl.draggableId):null}function lse(e,t){const n=`[${Rx.contextId}="${e}"]`,s=WI(document,n).find(a=>a.getAttribute(Rx.id)===t);return!s||!qp(s)?null:s}function cse(e){e.preventDefault()}function Sd({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function ZI({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const s=n.draggable.findById(r);return!(!s||!s.options.isEnabled||!BI(t.getState(),r))}function use({lockAPI:e,contextId:t,store:n,registry:r,draggableId:s,forceSensorStop:a,sourceEvent:i}){if(!ZI({lockAPI:e,store:n,registry:r,draggableId:s}))return null;const c=r.draggable.getById(s),u=lse(t,c.descriptor.id);if(!u||i&&!c.options.canDragInteractiveElements&&ese(u,i))return null;const d=e.claim(a||Mo);let f="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}function h(){return e.isActive(d)}function g(N,C){Sd({expected:N,phase:f,isLockActive:h,shouldWarn:!0})&&n.dispatch(C())}const v=g.bind(null,"DRAGGING");function b(N){function C(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(C(),ne(!1)),n.dispatch(qte(N.liftActionArgs)),f="DRAGGING";function S(P,R={shouldBlockNextClick:!1}){if(N.cleanup(),R.shouldBlockNextClick){const E=ur(window,[{eventName:"click",fn:cse,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(E)}C(),n.dispatch(RI({reason:P}))}return{isActive:()=>Sd({expected:"DRAGGING",phase:f,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:p,drop:P=>S("DROP",P),cancel:P=>S("CANCEL",P),...N.actions}}function x(N){const C=Zc(P=>{v(()=>kI({client:P}))});return{...b({liftActionArgs:{id:s,clientSelection:N,movementMode:"FLUID"},cleanup:()=>C.cancel(),actions:{move:C}}),move:C}}function y(){const N={moveUp:()=>v(rne),moveRight:()=>v(one),moveDown:()=>v(sne),moveLeft:()=>v(ane)};return b({liftActionArgs:{id:s,clientSelection:tse(u),movementMode:"SNAP"},cleanup:Mo,actions:N})}function w(){Sd({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!0})&&e.release()}return{isActive:()=>Sd({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:x,snapLift:y,abort:w}}const dse=[Ure,Yre,Qre];function fse({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:s}){const a=[...s?dse:[],...r||[]],i=m.useState(()=>Dre())[0],l=ve(function(b,x){ou(b)&&!ou(x)&&i.tryAbandon()},[i]);Yn(function(){let b=t.getState();return t.subscribe(()=>{const y=t.getState();l(b,y),b=y})},[i,t,l]),Yn(()=>i.tryAbandon,[i.tryAbandon]);const c=ve(v=>ZI({lockAPI:i,registry:n,store:t,draggableId:v}),[i,n,t]),u=ve((v,b,x)=>use({lockAPI:i,registry:n,contextId:e,store:t,draggableId:v,forceSensorStop:b||null,sourceEvent:x&&x.sourceEvent?x.sourceEvent:null}),[e,i,n,t]),d=ve(v=>ise(e,v),[e]),f=ve(v=>{const b=n.draggable.findById(v);return b?b.options:null},[n.draggable]),p=ve(function(){i.isClaimed()&&(i.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Fb()))},[i,t]),h=ve(()=>i.isClaimed(),[i]),g=Re(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:h}),[c,u,d,f,p,h]);for(let v=0;v<a.length;v++)a[v](g)}const mse=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};G.version.startsWith("16")||G.version.startsWith("17")?n():$t.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),pse=e=>({...su,...e.autoScrollerOptions,durationDampening:{...su.durationDampening,...e.autoScrollerOptions}});function Ul(e){return e.current||ne(!1),e.current}function hse(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:s,dragHandleUsageInstructions:a}=e,i=m.useRef(null),l=YI(e),c=ve(()=>mse(l.current),[l]),u=ve(()=>pse(l.current),[l]),d=jre(t),f=Ere({contextId:t,text:a}),p=pre(t,s),h=ve(E=>{Ul(i).dispatch(E)},[]),g=Re(()=>uC({publishWhileDragging:Xte,updateDroppableScroll:Qte,updateDroppableIsEnabled:Zte,updateDroppableIsCombineEnabled:ene,collectionStarting:Jte},h),[h]),v=xre(),b=Re(()=>Hne(v,g),[v,g]),x=Re(()=>lre({scrollWindow:Gne,scrollDroppable:b.scrollDroppable,getAutoScrollerOptions:u,...uC({move:kI},h)}),[b.scrollDroppable,h,u]),y=gre(t),w=Re(()=>Vne({announce:d,autoScroller:x,dimensionMarshal:b,focusMarshal:y,getResponders:c,styleMarshal:p}),[d,x,b,y,c,p]);i.current=w;const j=ve(()=>{const E=Ul(i);E.getState().phase!=="IDLE"&&E.dispatch(Fb())},[]),N=ve(()=>{const E=Ul(i).getState();return E.phase==="DROP_ANIMATING"?!0:E.phase==="IDLE"?!1:E.isDragging},[]),C=Re(()=>({isDragging:N,tryAbort:j}),[N,j]);n(C);const S=ve(E=>BI(Ul(i).getState(),E),[]),P=ve(()=>fa(Ul(i).getState()),[]),R=Re(()=>({marshal:b,focus:y,contextId:t,canLift:S,isMovementAllowed:P,dragHandleUsageInstructionsId:f,registry:v}),[t,b,f,y,S,P,v]);return fse({contextId:t,store:w,registry:v,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),m.useEffect(()=>j,[j]),G.createElement(Kp.Provider,{value:R},G.createElement(Cee,{context:Gb,store:w},e.children))}let gse=0;function vse(){return Re(()=>`${gse++}`,[])}function xse(){return G.useId()}var yse="useId"in G?xse:vse;function eO(e){const t=yse(),n=e.dragHandleUsageInstructions||Kd.dragHandleUsageInstructions;return G.createElement($ee,null,r=>G.createElement(hse,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const VC={dragging:5e3,dropAnimating:4500},bse=(e,t)=>t?pc.drop(t.duration):e?pc.snap:pc.fluid,wse=(e,t)=>{if(e)return t?ru.opacity.drop:ru.opacity.combining},jse=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Nse(e){const n=e.dimension.client,{offset:r,combineWith:s,dropping:a}=e,i=!!s,l=jse(e),c=!!a,u=c?Ax.drop(r,i):Ax.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:bse(l,a),transform:u,opacity:wse(i,c),zIndex:c?VC.dropAnimating:VC.dragging,pointerEvents:"none"}}function Cse(e){return{transform:Ax.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Sse(e){return e.type==="DRAGGING"?Nse(e):Cse(e)}function Pse(e,t,n=Bt){const r=window.getComputedStyle(t),s=t.getBoundingClientRect(),a=aI(s,r),i=tm(a,n),l={client:a,tagName:t.tagName.toLowerCase(),display:r.display},c={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:a,page:i}}function Ese(e){const t=Yb("draggable"),{descriptor:n,registry:r,getDraggableRef:s,canDragInteractiveElements:a,shouldRespectForcePress:i,isEnabled:l}=e,c=Re(()=>({canDragInteractiveElements:a,shouldRespectForcePress:i,isEnabled:l}),[a,l,i]),u=ve(h=>{const g=s();return g||ne(!1),Pse(n,g,h)},[n,s]),d=Re(()=>({uniqueId:t,descriptor:n,options:c,getDimension:u}),[n,u,c,t]),f=m.useRef(d),p=m.useRef(!0);Yn(()=>(r.draggable.register(f.current),()=>r.draggable.unregister(f.current)),[r.draggable]),Yn(()=>{if(p.current){p.current=!1;return}const h=f.current;f.current=d,r.draggable.update(d,h)},[d,r.draggable])}var Kb=G.createContext(null);function am(e){const t=m.useContext(e);return t||ne(!1),t}function Dse(e){e.preventDefault()}const Tse=e=>{const t=m.useRef(null),n=ve((C=null)=>{t.current=C},[]),r=ve(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:a,registry:i}=am(Kp),{type:l,droppableId:c}=am(Kb),u=Re(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:d,draggableId:f,isEnabled:p,shouldRespectForcePress:h,canDragInteractiveElements:g,isClone:v,mapped:b,dropAnimationFinished:x}=e;if(!v){const C=Re(()=>({descriptor:u,registry:i,getDraggableRef:r,canDragInteractiveElements:g,shouldRespectForcePress:h,isEnabled:p}),[u,i,r,g,h,p]);Ese(C)}const y=Re(()=>p?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:Dse}:null,[s,a,f,p]),w=ve(C=>{b.type==="DRAGGING"&&b.dropping&&C.propertyName==="transform"&&(G.version.startsWith("16")||G.version.startsWith("17")?x():$t.flushSync(x))},[x,b]),j=Re(()=>{const C=Sse(b),S=b.type==="DRAGGING"&&b.dropping?w:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":f,style:C,onTransitionEnd:S},dragHandleProps:y}},[s,y,f,b,w,n]),N=Re(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return G.createElement(G.Fragment,null,d(j,b.snapshot,N))};var Ase=Tse,tO=(e,t)=>e===t,nO=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const kse=e=>e.combine?e.combine.draggableId:null,Rse=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function Mse(){const e=Ft((s,a)=>({x:s,y:a})),t=Ft((s,a,i=null,l=null,c=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:i,combineWith:l,combineTargetFor:null})),n=Ft((s,a,i,l,c=null,u=null,d=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:a,offset:s,dimension:i,forceShouldAnimate:d,snapshot:t(a,l,c,u,null)}}));return(s,a)=>{if(ou(s)){if(s.critical.draggable.id!==a.draggableId)return null;const i=s.current.client.offset,l=s.dimensions.draggables[a.draggableId],c=Gn(s.impact),u=Rse(s.impact),d=s.forceShouldAnimate;return n(e(i.x,i.y),s.movementMode,l,a.isClone,c,u,d)}if(s.phase==="DROP_ANIMATING"){const i=s.completed;if(i.result.draggableId!==a.draggableId)return null;const l=a.isClone,c=s.dimensions.draggables[a.draggableId],u=i.result,d=u.mode,f=nO(u),p=kse(u),g={duration:s.dropDuration,curve:Vb.drop,moveTo:s.newHomeClientOffset,opacity:p?ru.opacity.drop:null,scale:p?ru.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:c,dropping:g,draggingOver:f,combineWith:p,mode:d,forceShouldAnimate:null,snapshot:t(d,l,f,p,g)}}}return null}}function rO(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Ise={mapped:{type:"SECONDARY",offset:Bt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:rO(null)}};function Ose(){const e=Ft((i,l)=>({x:i,y:l})),t=Ft(rO),n=Ft((i,l=null,c)=>({mapped:{type:"SECONDARY",offset:i,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),r=i=>i?n(Bt,i,!0):null,s=(i,l,c,u)=>{const d=c.displaced.visible[i],f=!!(u.inVirtualList&&u.effected[i]),p=Hp(c),h=p&&p.draggableId===i?l:null;if(!d){if(!f)return r(h);if(c.displaced.invisible[i])return null;const b=jl(u.displacedBy.point),x=e(b.x,b.y);return n(x,h,!0)}if(f)return r(h);const g=c.displacedBy.point,v=e(g.x,g.y);return n(v,h,d.shouldAnimate)};return(i,l)=>{if(ou(i))return i.critical.draggable.id===l.draggableId?null:s(l.draggableId,i.critical.draggable.id,i.impact,i.afterCritical);if(i.phase==="DROP_ANIMATING"){const c=i.completed;return c.result.draggableId===l.draggableId?null:s(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const $se=()=>{const e=Mse(),t=Ose();return(r,s)=>e(r,s)||t(r,s)||Ise},_se={dropAnimationFinished:MI},Lse=sI($se,_se,null,{context:Gb,areStatePropsEqual:tO})(Ase);var Fse=Lse;function sO(e){return am(Kb).isUsingCloneFor===e.draggableId&&!e.isClone?null:G.createElement(Fse,e)}function oO(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return G.createElement(sO,Ne({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const aO=e=>t=>e===t,Bse=aO("scroll"),Vse=aO("auto"),zC=(e,t)=>t(e.overflowX)||t(e.overflowY),zse=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return zC(n,Bse)||zC(n,Vse)},Use=()=>!1,iO=e=>e==null?null:e===document.body?Use()?e:null:e===document.documentElement?null:zse(e)?e:iO(e.parentElement);var Mx=e=>({x:e.scrollLeft,y:e.scrollTop});const lO=e=>e?window.getComputedStyle(e).position==="fixed"?!0:lO(e.parentElement):!1;var Wse=e=>{const t=iO(e),n=lO(e);return{closestScrollable:t,isFixedOnPage:n}},Hse=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:s,client:a,page:i,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:p,client:h}=l,g=_I({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:h.paddingBox.height,width:h.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:h,scrollSize:p,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:g,diff:{value:Bt,displacement:Bt}}}})(),u=s==="vertical"?Ib:gI,d=il({page:i,withPlaceholder:null,axis:u,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:t,client:a,page:i,frame:c,subject:d}};const Gse=(e,t)=>{const n=iI(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,s=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,i=s+t.scrollWidth,c=Ab({top:r,right:i,bottom:a,left:s},n.border);return kb({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var Yse=({ref:e,descriptor:t,env:n,windowScroll:r,direction:s,isDropDisabled:a,isCombineEnabled:i,shouldClipSubject:l})=>{const c=n.closestScrollable,u=Gse(e,c),d=tm(u,r),f=(()=>{if(!c)return null;const h=iI(c),g={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:h,page:tm(h,r),scroll:Mx(c),scrollSize:g,shouldClipSubject:l}})();return Hse({descriptor:t,isEnabled:!a,isCombineEnabled:i,isFixedOnPage:n.isFixedOnPage,direction:s,client:u,page:d,closest:f})};const qse={passive:!1},Kse={passive:!0};var UC=e=>e.shouldPublishImmediately?qse:Kse;const Pd=e=>e&&e.env.closestScrollable||null;function Xse(e){const t=m.useRef(null),n=am(Kp),r=Yb("droppable"),{registry:s,marshal:a}=n,i=YI(e),l=Re(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=m.useRef(l),u=Re(()=>Ft((j,N)=>{t.current||ne(!1);const C={x:j,y:N};a.updateDroppableScroll(l.id,C)}),[l.id,a]),d=ve(()=>{const j=t.current;return!j||!j.env.closestScrollable?Bt:Mx(j.env.closestScrollable)},[]),f=ve(()=>{const j=d();u(j.x,j.y)},[d,u]),p=Re(()=>Zc(f),[f]),h=ve(()=>{const j=t.current,N=Pd(j);if(j&&N||ne(!1),j.scrollOptions.shouldPublishImmediately){f();return}p()},[p,f]),g=ve((j,N)=>{t.current&&ne(!1);const C=i.current,S=C.getDroppableRef();S||ne(!1);const P=Wse(S),R={ref:S,descriptor:l,env:P,scrollOptions:N};t.current=R;const E=Yse({ref:S,descriptor:l,env:P,windowScroll:j,direction:C.direction,isDropDisabled:C.isDropDisabled,isCombineEnabled:C.isCombineEnabled,shouldClipSubject:!C.ignoreContainerClipping}),D=P.closestScrollable;return D&&(D.setAttribute(_C.contextId,n.contextId),D.addEventListener("scroll",h,UC(R.scrollOptions))),E},[n.contextId,l,h,i]),v=ve(()=>{const j=t.current,N=Pd(j);return j&&N||ne(!1),Mx(N)},[]),b=ve(()=>{const j=t.current;j||ne(!1);const N=Pd(j);t.current=null,N&&(p.cancel(),N.removeAttribute(_C.contextId),N.removeEventListener("scroll",h,UC(j.scrollOptions)))},[h,p]),x=ve(j=>{const N=t.current;N||ne(!1);const C=Pd(N);C||ne(!1),C.scrollTop+=j.y,C.scrollLeft+=j.x},[]),y=Re(()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:v,dragStopped:b,scroll:x}),[b,g,v,x]),w=Re(()=>({uniqueId:r,descriptor:l,callbacks:y}),[y,l,r]);Yn(()=>(c.current=w.descriptor,s.droppable.register(w),()=>{t.current&&b(),s.droppable.unregister(w)}),[y,l,b,w,a,s.droppable]),Yn(()=>{t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Yn(()=>{t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Ag(){}const WC={width:0,height:0,margin:Uee},Jse=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?WC:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},Qse=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=Jse({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?pc.placeholder:null}},Zse=e=>{const t=m.useRef(null),n=ve(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:s,onClose:a,contextId:i}=e,[l,c]=m.useState(e.animate==="open");m.useEffect(()=>l?r!=="open"?(n(),c(!1),Ag):t.current?Ag:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):Ag,[r,l,n]);const u=ve(f=>{f.propertyName==="height"&&(s(),r==="close"&&a())},[r,a,s]),d=Qse({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return G.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":i,onTransitionEnd:u,ref:e.innerRef})};var eoe=G.memo(Zse);class toe extends G.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const noe=e=>{const t=m.useContext(Kp);t||ne(!1);const{contextId:n,isMovementAllowed:r}=t,s=m.useRef(null),a=m.useRef(null),{children:i,droppableId:l,type:c,mode:u,direction:d,ignoreContainerClipping:f,isDropDisabled:p,isCombineEnabled:h,snapshot:g,useClone:v,updateViewportMaxScroll:b,getContainerForClone:x}=e,y=ve(()=>s.current,[]),w=ve((D=null)=>{s.current=D},[]);ve(()=>a.current,[]);const j=ve((D=null)=>{a.current=D},[]),N=ve(()=>{r()&&b({maxScroll:FI()})},[r,b]);Xse({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:p,isCombineEnabled:h,ignoreContainerClipping:f,getDroppableRef:y});const C=Re(()=>G.createElement(toe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:D,data:A,animate:$})=>G.createElement(eoe,{placeholder:A,onClose:D,innerRef:j,animate:$,contextId:n,onTransitionEnd:N})),[n,N,e.placeholder,e.shouldAnimatePlaceholder,j]),S=Re(()=>({innerRef:w,placeholder:C,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,C,w]),P=v?v.dragging.draggableId:null,R=Re(()=>({droppableId:l,type:c,isUsingCloneFor:P}),[l,P,c]);function E(){if(!v)return null;const{dragging:D,render:A}=v,$=G.createElement(sO,{draggableId:D.draggableId,index:D.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(I,z)=>A(I,z,D));return Nm.createPortal($,x())}return G.createElement(Kb.Provider,{value:R},i(S,g),E())};var roe=noe;function soe(){return document.body||ne(!1),document.body}const HC={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:soe},cO=e=>{let t={...e},n;for(n in HC)e[n]===void 0&&(t={...t,[n]:HC[n]});return t},kg=(e,t)=>e===t.droppable.type,GC=(e,t)=>t.draggables[e.draggable.id],ooe=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Ft(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=Ft((a,i,l,c,u,d)=>{const f=u.descriptor.id;if(u.descriptor.droppableId===a){const g=d?{render:d,dragging:n(u.descriptor)}:null,v={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:v,useClone:g}}if(!i)return t;if(!c)return e;const h={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}});return(a,i)=>{const l=cO(i),c=l.droppableId,u=l.type,d=!l.isDropDisabled,f=l.renderClone;if(ou(a)){const p=a.critical;if(!kg(u,p))return t;const h=GC(p,a.dimensions),g=Gn(a.impact)===c;return r(c,d,g,g,h,f)}if(a.phase==="DROP_ANIMATING"){const p=a.completed;if(!kg(u,p.critical))return t;const h=GC(p.critical,a.dimensions);return r(c,d,nO(p.result)===c,Gn(p.impact)===c,h,f)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const p=a.completed;if(!kg(u,p.critical))return t;const h=Gn(p.impact)===c,g=!!(p.impact.at&&p.impact.at.type==="COMBINE"),v=p.critical.droppable.id===c;return h?g?e:t:v?e:t}return t}},aoe={updateViewportMaxScroll:nne},ioe=sI(ooe,aoe,(e,t,n)=>({...cO(n),...e,...t}),{context:Gb,areStatePropsEqual:tO})(roe);var uO=ioe;const loe=({field:e,onSave:t,onCancel:n})=>{const[r,s]=m.useState(e?{...e}:{name:"",type:"text",placeholder:"",required:!1}),a=()=>{if(!r.name){K({title:"Le nom du champ est obligatoire",variant:"destructive"});return}t({...r,id:r.id||`field-${Date.now()}`})};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"field-name",children:"Nom du champ"}),o.jsx(fe,{id:"field-name",value:r.name,onChange:i=>s({...r,name:i.target.value})})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"field-type",children:"Type"}),o.jsxs(mn,{value:r.type,onValueChange:i=>s({...r,type:i}),children:[o.jsx(tn,{id:"field-type",children:o.jsx(pn,{})}),o.jsxs(nn,{children:[o.jsx(je,{value:"text",children:"Texte"}),o.jsx(je,{value:"email",children:"Email"}),o.jsx(je,{value:"number",children:"Nombre"}),o.jsx(je,{value:"textarea",children:"Zone de texte"})]})]})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"field-placeholder",children:"Placeholder"}),o.jsx(fe,{id:"field-placeholder",value:r.placeholder,onChange:i=>s({...r,placeholder:i.target.value})})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Mn,{id:"field-required",checked:r.required,onCheckedChange:i=>s({...r,required:i})}),o.jsx(Z,{htmlFor:"field-required",children:"Obligatoire ?"})]}),o.jsxs(Zt,{children:[o.jsx(B,{variant:"outline",onClick:n,children:"Annuler"}),o.jsx(B,{onClick:a,className:"bg-green-600 hover:bg-green-700",children:"Enregistrer"})]})]})},coe=({form:e,onSave:t,onCancel:n})=>{const{projectsData:r}=Ce(),[s,a]=m.useState(e?JSON.parse(JSON.stringify(e)):{name:"",fields:[],projectIds:[]}),[i,l]=m.useState(""),[c,u]=m.useState("text"),d=m.useMemo(()=>Object.values(r).map(b=>({value:b.type,label:b.title})),[r]),f=m.useMemo(()=>(s.projectIds||[]).map(b=>d.find(x=>x.value===b)).filter(Boolean),[s.projectIds,d]),p=(b,x,y)=>{const w=[...s.fields];w[b]={...w[b],[x]:y},a(j=>({...j,fields:w}))},h=()=>{if(!i.trim())return;const b={id:`field-${Date.now()}`,label:i,type:c,placeholder:""};a(x=>({...x,fields:[...x.fields||[],b]})),l(""),u("text")},g=b=>{const x=(s.fields||[]).filter((y,w)=>w!==b);a(y=>({...y,fields:x}))},v=()=>{if(!s.name.trim()){K({title:"Nom manquant",description:"Veuillez nommer votre formulaire.",variant:"destructive"});return}const b={...s,id:s.id||`form-${Date.now()}`};t(b)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"form-name",children:"Nom du formulaire (Interne)"}),o.jsx(fe,{id:"form-name",value:s.name,onChange:b=>a(x=>({...x,name:b.target.value}))})]}),o.jsxs("div",{children:[o.jsx(Z,{children:"Projets associés"}),o.jsx(BM,{options:d,selected:f,onChange:b=>a(x=>({...x,projectIds:b.map(y=>y.value)})),placeholder:"Sélectionner des projets...",searchPlaceholder:"Rechercher un projet...",emptyText:"Aucun projet trouvé.",className:"mt-1"})]}),o.jsx("h3",{className:"text-md font-semibold text-gray-700 pt-4 border-t",children:"Champs du formulaire"}),o.jsx("div",{className:"space-y-3",children:(s.fields||[]).map((b,x)=>o.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-2 rounded-md",children:[o.jsx(fe,{value:b.label,onChange:y=>p(x,"label",y.target.value),placeholder:"Nom du champ"}),o.jsxs(mn,{value:b.type,onValueChange:y=>p(x,"type",y),children:[o.jsx(tn,{className:"w-[180px]",children:o.jsx(pn,{})}),o.jsxs(nn,{children:[o.jsx(je,{value:"text",children:"Texte"}),o.jsx(je,{value:"email",children:"Email"}),o.jsx(je,{value:"phone",children:"Téléphone"}),o.jsx(je,{value:"number",children:"Nombre"}),o.jsx(je,{value:"file",children:"Fichier"})]})]}),o.jsx(B,{variant:"ghost",size:"icon",onClick:()=>g(x),children:o.jsx(lr,{className:"h-4 w-4 text-red-500"})})]},b.id))}),o.jsxs("div",{className:"flex items-end gap-2 pt-4 border-t",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsx(Z,{children:"Ajouter un champ"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(fe,{value:i,onChange:b=>l(b.target.value),placeholder:"Nom du nouveau champ"}),o.jsxs(mn,{value:c,onValueChange:u,children:[o.jsx(tn,{className:"w-[180px]",children:o.jsx(pn,{})}),o.jsxs(nn,{children:[o.jsx(je,{value:"text",children:"Texte"}),o.jsx(je,{value:"email",children:"Email"}),o.jsx(je,{value:"phone",children:"Téléphone"}),o.jsx(je,{value:"number",children:"Nombre"}),o.jsx(je,{value:"file",children:"Fichier"})]})]})]})]}),o.jsx(B,{onClick:h,children:o.jsx(et,{className:"h-4 w-4"})})]}),o.jsxs(Zt,{children:[o.jsx(B,{variant:"outline",onClick:n,children:"Annuler"}),o.jsx(B,{onClick:v,className:"bg-green-600 hover:bg-green-700",children:"Enregistrer le formulaire"})]})]})},dO=({project:e,onSave:t,onCancel:n})=>{const[r,s]=m.useState(e?JSON.parse(JSON.stringify(e)):{type:"",title:"",clientTitle:"",icon:"🆕",color:"gradient-blue",steps:[],isPublic:!0}),[a,i]=m.useState(""),[l,c]=m.useState("➡️"),u=(g,v,b)=>{const x=[...r.steps];x[g]={...x[g],[v]:b},s(y=>({...y,steps:x}))},d=()=>{if(!a.trim())return;const g={name:a,status:"pending",icon:l,descriptions:{}};s(v=>({...v,steps:[...v.steps,g]})),i(""),c("➡️")},f=g=>{const v=r.steps.filter((b,x)=>x!==g);s(b=>({...b,steps:v}))},p=g=>{if(!g.destination)return;const v=Array.from(r.steps),[b]=v.splice(g.source.index,1);v.splice(g.destination.index,0,b),s(x=>({...x,steps:v}))},h=()=>{const g={...r,type:r.type||Ms(r.title),id:r.id||Date.now()};if(!g.title){K({title:"Titre manquant",description:"Veuillez donner un titre à votre projet.",variant:"destructive"});return}g.clientTitle||(g.clientTitle=g.title),t(g)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between pb-4 border-b",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Paramètres du Projet"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(wl,{id:"isPublic",checked:r.isPublic,onCheckedChange:g=>s(v=>({...v,isPublic:g}))}),o.jsx(Z,{htmlFor:"isPublic",children:"En ligne"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"project-title",children:"Titre du Projet (Interne)"}),o.jsx(fe,{id:"project-title",value:r.title,onChange:g=>s(v=>({...v,title:g.target.value}))})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"project-client-title",children:"Nom affiché au client"}),o.jsx(fe,{id:"project-client-title",value:r.clientTitle,onChange:g=>s(v=>({...v,clientTitle:g.target.value}))})]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"project-icon",children:"Icône (Emoji)"}),o.jsx(fe,{id:"project-icon",value:r.icon,onChange:g=>s(v=>({...v,icon:g.target.value}))})]})}),o.jsx("h3",{className:"text-md font-semibold text-gray-700 pt-4 border-t",children:"Étapes de la Timeline"}),o.jsx(eO,{onDragEnd:p,children:o.jsx(uO,{droppableId:"steps",children:g=>o.jsxs("div",{...g.droppableProps,ref:g.innerRef,className:"space-y-3",children:[r.steps.map((v,b)=>o.jsx(oO,{draggableId:String(b),index:b,children:x=>o.jsxs("div",{ref:x.innerRef,...x.draggableProps,...x.dragHandleProps,className:"flex items-center gap-2 bg-gray-50 p-2 rounded-md",children:[o.jsx(B0,{className:"h-5 w-5 text-gray-400"}),o.jsx(fe,{value:v.icon,onChange:y=>u(b,"icon",y.target.value),className:"w-16 text-center"}),o.jsx(fe,{value:v.name,onChange:y=>u(b,"name",y.target.value)}),o.jsx(B,{variant:"ghost",size:"icon",onClick:()=>f(b),children:o.jsx(lr,{className:"h-4 w-4 text-red-500"})})]})},b)),g.placeholder]})})}),o.jsxs("div",{className:"flex items-end gap-2 pt-4 border-t",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsx(Z,{children:"Ajouter une étape"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(fe,{value:l,onChange:g=>c(g.target.value),className:"w-16 text-center",placeholder:"➡️"}),o.jsx(fe,{value:a,onChange:g=>i(g.target.value),placeholder:"Nom de la nouvelle étape"})]})]}),o.jsx(B,{onClick:d,children:o.jsx(et,{className:"h-4 w-4"})})]}),o.jsxs(Zt,{children:[o.jsx(B,{variant:"outline",onClick:n,children:"Annuler"}),o.jsx(B,{onClick:h,className:"bg-green-600 hover:bg-green-700",children:"Enregistrer le projet"})]})]})},uoe=({open:e,onOpenChange:t,onSave:n})=>{const{projectsData:r}=Ce(),[s,a]=m.useState(1),[i,l]=m.useState(null),c=p=>{const h=r[p];if(!h){K({title:"Modèle introuvable",description:"Le modèle de projet n'existe plus.",variant:"destructive"});return}const g={...JSON.parse(JSON.stringify(h)),title:`${h.title} (Copie)`,clientTitle:`${h.clientTitle} (Copie)`,type:`${h.type}-copie-${Date.now()}`,isPublic:!0};l(g),a(2)},u=()=>{l({type:"",title:"",clientTitle:"",icon:"🆕",color:"gradient-blue",steps:[{name:"Nouvelle Étape",status:"pending",icon:"➡️",descriptions:{}}],isPublic:!0}),a(2)},d=p=>{n(p),a(1),l(null),t(!1)},f=()=>{a(1),l(null),t(!1)};return o.jsx(Ot,{open:e,onOpenChange:p=>{p?t(!0):f()},children:o.jsxs(Pt,{className:"sm:max-w-2xl",children:[o.jsxs(Et,{children:[o.jsx(Dt,{children:s===1?"Créer un nouveau projet":"Modifier le projet"}),o.jsx(Hn,{children:s===1?"Choisissez un modèle de base ou partez de zéro.":"Personnalisez le titre, l'icône et les étapes de votre nouveau projet."})]}),s===1&&o.jsxs("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[Object.values(r).map(p=>o.jsxs(ee.button,{onClick:()=>c(p.type),className:"p-4 border rounded-lg hover:shadow-lg hover:border-blue-500 transition-all text-center space-y-2",whileHover:{y:-5},children:[o.jsx("span",{className:"text-4xl",children:p.icon}),o.jsx("p",{className:"font-semibold",children:p.title})]},p.type)),o.jsxs(ee.button,{onClick:u,className:"p-4 border border-dashed rounded-lg hover:shadow-lg hover:border-green-500 transition-all text-center space-y-2 flex flex-col items-center justify-center",whileHover:{y:-5},children:[o.jsx(et,{className:"h-10 w-10 text-gray-400 mb-2"}),o.jsx("p",{className:"font-semibold",children:"Partir de zéro"})]})]}),s===2&&i&&o.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:o.jsx(dO,{project:i,onSave:d,onCancel:f})})]})})},doe=({action:e,onChange:t,onDelete:n,forms:r})=>{const s=(a,i)=>{t({...e,[a]:i})};return o.jsxs("div",{className:"p-4 bg-white rounded-lg border space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"space-y-2 flex-grow",children:[o.jsx(Z,{children:"Message à dire"}),o.jsx(bp,{placeholder:"Ex: Bonjour, merci de compléter les informations...",value:e.message,onChange:a=>s("message",a.target.value)})]}),o.jsx(B,{variant:"ghost",size:"icon",onClick:n,className:"ml-2",children:o.jsx(lr,{className:"h-4 w-4 text-red-500"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{children:"Action à associer"}),o.jsxs(mn,{value:e.type,onValueChange:a=>s("type",a),children:[o.jsx(tn,{children:o.jsx(pn,{placeholder:"Choisir une action"})}),o.jsxs(nn,{children:[o.jsx(je,{value:"none",children:"Aucune"}),o.jsx(je,{value:"show_form",children:"Afficher un formulaire"}),o.jsx(je,{value:"start_signature",children:"Lancer une signature"}),o.jsx(je,{value:"request_document",children:"Demander un document"}),o.jsx(je,{value:"open_payment",children:"Ouvrir un paiement"})]})]})]}),o.jsx(vn,{children:e.type==="show_form"&&o.jsxs(ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2 overflow-hidden",children:[o.jsx(Z,{children:"Formulaire à afficher"}),o.jsxs(mn,{value:e.formId,onValueChange:a=>s("formId",a),children:[o.jsx(tn,{children:o.jsx(pn,{placeholder:"Choisir un formulaire"})}),o.jsx(nn,{children:Object.values(r).map(a=>o.jsx(je,{value:a.id,children:a.name},a.id))})]})]})})]})},foe=({open:e,onOpenChange:t,onSave:n,existingPrompt:r})=>{var w;const{projectsData:s,forms:a}=Ce(),[i,l]=m.useState({name:"",tone:"",projectId:null,stepsConfig:{}}),[c,u]=m.useState(null);m.useEffect(()=>{l(r?JSON.parse(JSON.stringify(r)):{name:"",tone:"",projectId:null,stepsConfig:{}})},[r,e]);const d=m.useMemo(()=>Object.values(s).map(j=>({value:j.type,label:j.title})),[s]),f=m.useMemo(()=>{var j;return i.projectId?((j=s[i.projectId])==null?void 0:j.steps)||[]:[]},[i.projectId,s]),p=j=>{l(N=>({...N,projectId:j,stepsConfig:{}})),u(null)},h=j=>{u(c===j?null:j)},g=(j,N,C)=>{const S={...i.stepsConfig};S[j]||(S[j]={actions:[],autoCompleteStep:!1}),S[j].actions[N]=C,l(P=>({...P,stepsConfig:S}))},v=j=>{const N={...i.stepsConfig};N[j]||(N[j]={actions:[],autoCompleteStep:!1}),N[j].actions.push({id:`action-${Date.now()}`,message:"",type:"none"}),l(C=>({...C,stepsConfig:N}))},b=(j,N)=>{const C={...i.stepsConfig};C[j]&&C[j].actions.splice(N,1),l(S=>({...S,stepsConfig:C}))},x=(j,N,C)=>{const S={...i.stepsConfig};S[j]||(S[j]={actions:[],autoCompleteStep:!1}),S[j][N]=C,l(P=>({...P,stepsConfig:S}))},y=()=>{if(!i.name||!i.tone||!i.projectId){K({title:"Champs manquants",description:"Veuillez remplir le nom, le ton et le projet.",variant:"destructive"});return}n({...i,id:(r==null?void 0:r.id)||`prompt-${Date.now()}`}),t(!1)};return o.jsx(Ot,{open:e,onOpenChange:t,children:o.jsxs(Pt,{className:"sm:max-w-3xl",children:[o.jsxs(Et,{children:[o.jsx(Dt,{children:r?"Modifier le prompt":"Créer un nouveau prompt"}),o.jsx(Hn,{children:"Paramétrez votre prompt pour générer des communications personnalisées."})]}),o.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"prompt-name",children:"Nom du prompt"}),o.jsx(fe,{id:"prompt-name",placeholder:"Ex: Relance après RDV",value:i.name,onChange:j=>l(N=>({...N,name:j.target.value}))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"prompt-tone",children:"Ton"}),o.jsxs(mn,{value:i.tone,onValueChange:j=>l(N=>({...N,tone:j})),children:[o.jsx(tn,{id:"prompt-tone",children:o.jsx(pn,{placeholder:"Choisir un ton"})}),o.jsxs(nn,{children:[o.jsx(je,{value:"professionnel",children:"Professionnel"}),o.jsx(je,{value:"detendu",children:"Détendu"}),o.jsx(je,{value:"humain",children:"Humain"})]})]})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"prompt-project",children:"Projet"}),o.jsxs(mn,{value:i.projectId,onValueChange:p,children:[o.jsx(tn,{id:"prompt-project",children:o.jsx(pn,{placeholder:"Choisir un projet"})}),o.jsx(nn,{children:d.map(j=>o.jsx(je,{value:j.value,children:j.label},j.value))})]})]})]}),i.projectId&&o.jsxs(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"pt-4 border-t",children:[o.jsxs("h4",{className:"font-semibold text-gray-700 mb-3",children:['Étapes du projet "',(w=s[i.projectId])==null?void 0:w.title,'"']}),o.jsx("div",{className:"space-y-2",children:f.map((j,N)=>{var C,S;return o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>h(N),className:"w-full flex items-center justify-between gap-3 p-3 bg-gray-50 hover:bg-gray-100 rounded-md transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-lg",children:j.icon}),o.jsx("span",{className:"text-sm font-medium text-gray-800",children:j.name})]}),c===N?o.jsx(An,{className:"h-5 w-5"}):o.jsx(gu,{className:"h-5 w-5"})]}),o.jsx(vn,{children:c===N&&o.jsx(ee.div,{initial:{opacity:0,height:0,marginTop:0},animate:{opacity:1,height:"auto",marginTop:"0.5rem"},exit:{opacity:0,height:0,marginTop:0},className:"pl-8 bg-gray-50/50 rounded-b-md",children:o.jsxs("div",{className:"p-4 space-y-4",children:[(((C=i.stepsConfig[N])==null?void 0:C.actions)||[]).map((P,R)=>o.jsx(doe,{action:P,onChange:E=>g(N,R,E),onDelete:()=>b(N,R),forms:a},P.id)),o.jsxs(B,{variant:"outline",size:"sm",onClick:()=>v(N),className:"w-full border-dashed",children:[o.jsx(et,{className:"h-4 w-4 mr-2"})," Ajouter un message + action"]}),o.jsxs("div",{className:"flex items-center space-x-2 pt-4 border-t mt-4",children:[o.jsx(Mn,{id:`form-complete-step-${N}`,checked:((S=i.stepsConfig[N])==null?void 0:S.autoCompleteStep)||!1,onCheckedChange:P=>x(N,"autoCompleteStep",P)}),o.jsx(Z,{htmlFor:`form-complete-step-${N}`,className:"text-sm text-gray-600",children:"Quand ce formulaire est complété, passer automatiquement cette étape en “Terminée” et activer la suivante."})]})]})})})]},N)})})]})]}),o.jsxs(Zt,{children:[o.jsx(B,{variant:"outline",onClick:()=>t(!1),children:"Annuler"}),o.jsx(B,{onClick:y,className:"bg-green-600 hover:bg-green-700",children:"Enregistrer le prompt"})]})]})})},moe=()=>{const{users:e,updateUsers:t,deleteUser:n,projectsData:r,setProjectsData:s,forms:a,setForms:i,prompts:l,setPrompts:c,formContactConfig:u,setFormContactConfig:d,activeAdminUser:f}=Ce(),[p,h]=m.useState(!1),[g,v]=m.useState(!1),[b,x]=m.useState(!1),[y,w]=m.useState(!1),[j,N]=m.useState(!1),[C,S]=m.useState(null),[P,R]=m.useState(""),[E,D]=m.useState(""),[A,$]=m.useState(""),[I,z]=m.useState({modules:[],users:[]}),[V,k]=m.useState(!1),[T,_]=m.useState(null),[O,M]=m.useState({name:"",logo:null,address:"",city:"",zip:"",country:""}),[F,W]=m.useState([]),[J,ie]=m.useState(null),[H,U]=m.useState(null),[oe,ae]=m.useState(!1),[q,de]=m.useState(""),[ce,Pe]=m.useState({coverImage:"",clientDescription:"",ctaText:""}),ke=m.useRef(null),[Xe,Y]=m.useState({name:"",email:"",phone:"",role:""}),[re,Oe]=m.useState({name:"",email:"",password:"",role:"commercial",manager:""}),[Ke,gt]=m.useState(!1),[br,tr]=m.useState(null),vs=(f==null?void 0:f.role)==="Global Admin",ea=(f==null?void 0:f.role)==="Admin";m.useEffect(()=>{f&&Y({name:f.name||"",email:f.email||"",phone:f.phone||"",role:f.role||""})},[f]);const ta=L=>{if(!L.destination)return;const pe=Array.from(u),[Ee]=pe.splice(L.source.index,1);pe.splice(L.destination.index,0,Ee),d(pe)},Qs=L=>{tr(L),gt(!0)},bn=L=>{let pe;br?pe=u.map(Ee=>Ee.id===L.id?L:Ee):pe=[...u,L],d(pe),gt(!1),tr(null)},X=L=>{const pe=u.filter(Ee=>Ee.id!==L);d(pe)},se=m.useMemo(()=>Object.values(r).map(L=>({value:L.type,label:L.title})),[r]);m.useEffect(()=>{se.length>0&&!q&&de(se[0].value)},[se,q]),m.useEffect(()=>{if(q&&r[q]){const L=r[q];Pe({coverImage:L.coverImage||"",clientDescription:L.clientDescription||"",ctaText:L.ctaText||""})}},[q,r]);const te=(L,pe)=>{Pe(Ee=>({...Ee,[L]:pe}))},me=()=>{if(!q)return;const L={...r[q],...ce},pe={...r,[q]:L};s(pe),K({title:"Modifications enregistrées !",description:`L'affichage du projet "${r[q].title}" a été mis à jour.`,className:"bg-green-500 text-white"})},$e=L=>{const pe=L.target.files[0];if(pe){const Ee=new FileReader;Ee.onloadend=()=>{te("coverImage",Ee.result)},Ee.readAsDataURL(pe)}},ze=L=>{const{name:pe,value:Ee}=L.target;Y(jn=>({...jn,[pe]:Ee}))},Be=()=>{if(!f)return;const L={...f,...Xe},pe={...e,[f.id]:L};t(pe),K({title:"Modifications enregistrées",description:"Vos informations personnelles ont été mises à jour.",className:"bg-green-500 text-white"})},Je=L=>{K({title:`🚧 ${L}`,description:"Cette fonctionnalité n'est pas encore implémentée. Demandez-la dans votre prochain prompt ! 🚀"})},$n=L=>{S(L),$(L.role.toLowerCase()),D(L.manager||"none"),x(!0)},xs=L=>{S(L);const pe=L.role==="Admin"||L.role==="Global Admin",Ee=Object.values(e).filter(no=>no.id!==L.id).map(no=>({value:no.id,label:no.name}));let jn=L.accessRights;if(jn||(jn={modules:["Pipeline","Agenda","Contacts"],users:[]}),pe)z({modules:["Pipeline","Agenda","Contacts"],users:Ee});else{const no=(jn.users||[]).map(gO=>{const Jp=e[gO];return Jp?{value:Jp.id,label:Jp.name}:null}).filter(Boolean);z({modules:jn.modules||["Pipeline","Agenda","Contacts"],users:no})}w(!0)},_n=()=>{if(!C||C.role==="Admin"||C.role==="Global Admin"){w(!1);return}const L={...e};L[C.id]={...C,accessRights:{modules:I.modules,users:I.users.map(pe=>pe.value)}},t(L),K({title:"Droits d'accès modifiés !",description:`Les droits de ${C.name} ont été mis à jour.`,className:"bg-green-500 text-white"}),w(!1),S(null)},Xa=(L,pe)=>{z(Ee=>{const jn=pe?[...Ee.modules,L]:Ee.modules.filter(no=>no!==L);return{...Ee,modules:jn}})},Ja=()=>{if(!C)return;const L={...e};L[C.id]={...C,role:A.charAt(0).toUpperCase()+A.slice(1),manager:E==="none"?"":E},t(L),K({title:"Rôle modifié !",description:`Le rôle de ${C.name} a été mis à jour.`,className:"bg-green-500 text-white"}),x(!1),S(null)},Qa=L=>{n(L.id),K({title:"Utilisateur supprimé",description:`${L.name} a été supprimé et ses contacts ont été réassignés.`,className:"bg-green-500 text-white"})},vt=L=>{const Ee=`https://locasun.io/${Ms(L.name)}`;navigator.clipboard.writeText(Ee),K({title:"Lien copié !",className:"bg-green-500 text-white"})},bt=L=>{const pe={...r,[L.type]:L};s(pe),K({title:"Projet enregistré !",description:`Le projet "${L.title}" a été sauvegardé.`,className:"bg-green-500 text-white"}),_(null)},Rt=(L,pe)=>{const Ee=r[L];if(Ee){const jn={...Ee,isPublic:pe};bt(jn),K({title:`Projet ${pe?"mis en ligne":"mis hors ligne"}`,description:`Le projet "${Ee.title}" est maintenant ${pe?"visible":"caché"} pour les clients.`})}},Ve=L=>{const{[L]:pe,...Ee}=r;s(Ee),K({title:"Projet supprimé !",className:"bg-green-500 text-white"})},We=()=>{if(!O.name){K({title:"Nom manquant",description:"Veuillez nommer votre entreprise.",variant:"destructive"});return}const L={id:`company-${Date.now()}`,...O};W([...F,L]),K({title:"Entreprise créée !",description:`L'entreprise "${L.name}" a été créée. Un espace de travail vierge est prêt.`,className:"bg-green-500 text-white"}),N(!1),M({name:"",logo:null,address:"",city:"",zip:"",country:""})},_e=(L,pe)=>{M(Ee=>({...Ee,[L]:pe}))},wn=L=>{const pe={...a,[L.id]:L};i(pe),K({title:"Formulaire enregistré !",description:`Le formulaire "${L.name}" a été sauvegardé.`,className:"bg-green-500 text-white"}),ie(null)},Zs=L=>{const{[L]:pe,...Ee}=a;i(Ee),K({title:"Formulaire supprimé !",className:"bg-green-500 text-white"})},Ct=L=>{c({...l,[L.id]:L}),K({title:"Prompt enregistré !",description:`Le prompt "${L.name}" a été sauvegardé.`,className:"bg-green-500 text-white"}),U(null),ae(!1)},zr=L=>{const{[L]:pe,...Ee}=l;c(Ee),K({title:"Prompt supprimé !",className:"bg-green-500 text-white"})},Ln=L=>{U(L),ae(!0)},qt=m.useMemo(()=>Object.values(e),[e]),eo=m.useMemo(()=>qt.filter(L=>L.role==="Manager"||L.role==="Admin"),[qt]),to=m.useMemo(()=>[{value:"none",label:"Personne"},...eo.map(L=>({value:L.name,label:L.name}))],[eo]),Ur=m.useMemo(()=>qt.filter(L=>L.id!==(C==null?void 0:C.id)).map(L=>({value:L.id,label:L.name})),[qt,C]),na=m.useMemo(()=>qt.filter(L=>L.name.toLowerCase().includes(P.toLowerCase())||L.email.toLowerCase().includes(P.toLowerCase())).slice(0,5),[qt,P]),ys=(L,pe)=>{Oe(Ee=>({...Ee,[L]:pe}))},pO=()=>{if(!re.name||!re.email||!re.password){K({title:"Champs manquants",description:"Veuillez remplir tous les champs obligatoires.",variant:"destructive"});return}const L=`user-${Date.now()}`,pe={id:L,...re,name:`${re.name}`,role:re.role.charAt(0).toUpperCase()+re.role.slice(1),manager:re.manager==="none"?"":re.manager,accessRights:{modules:["Pipeline","Agenda","Contacts"],users:[]}},Ee={...e,[L]:pe};t(Ee),K({title:"Utilisateur invité !",description:`${re.name} a été ajouté à la liste.`,className:"bg-green-500 text-white"}),v(!1),Oe({name:"",email:"",password:"",role:"commercial",manager:""})},hO={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Wr={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},Za=(C==null?void 0:C.role)==="Admin"||(C==null?void 0:C.role)==="Global Admin";return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
          html {
            scroll-behavior: smooth;
            scroll-padding-top: 100px;
          }
        `}),o.jsxs("div",{className:"flex min-h-screen",children:[o.jsxs("div",{className:"hidden md:block w-60 bg-white shadow-lg rounded-2xl mr-6 p-6 h-fit sticky top-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Navigation"}),o.jsxs("nav",{className:"space-y-2",children:[o.jsx("a",{href:"#info-perso",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:"Info perso"}),o.jsx("a",{href:"#gestion-entreprises",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:"Gestion des Entreprises"}),o.jsx("a",{href:"#gestion-formulaire-contact",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:"Gestion du Formulaire Contact"}),o.jsx("a",{href:"#gestion-projets",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:"Gestion des Projets"}),o.jsx("a",{href:"#gestion-formulaires",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:"Gestion des Formulaires"}),o.jsx("a",{href:"#gestion-affichage-projets",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:"Gestion de l'Affichage des Projets"}),o.jsx("a",{href:"#creation-prompt",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:"Création de Prompt"}),o.jsx("a",{href:"#gestion-utilisateurs",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:"Gestion des utilisateurs"}),o.jsx("a",{href:"#gestion-clients",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:"Gestion des clients"})]})]}),o.jsx("div",{className:"flex-1",children:o.jsxs(ee.div,{className:"max-w-5xl mx-auto space-y-8",variants:hO,initial:"hidden",animate:"visible",children:[o.jsx(ee.h1,{variants:Wr,className:"text-3xl font-bold text-gray-900",children:"Mon Profil"}),o.jsxs(ee.div,{variants:Wr,className:"bg-white p-6 sm:p-8 rounded-2xl shadow-card",id:"info-perso",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Informations personnelles"}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"nom",children:"Nom"}),o.jsx(fe,{id:"nom",name:"name",value:Xe.name,onChange:ze})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"email",children:"Email"}),o.jsx(fe,{id:"email",name:"email",type:"email",value:Xe.email,onChange:ze})]})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"phone",children:"Téléphone"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx(fe,{id:"phone",name:"phone",type:"tel",value:Xe.phone,onChange:ze,className:"pl-10"})]})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"role",children:"Rôle"}),o.jsx(fe,{id:"role",name:"role",value:Xe.role==="Admin"?"Admin":Xe.role==="Global Admin"?"Admin Global (tous les droits)":Xe.role,disabled:!0,className:"bg-gray-100"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-end space-y-2 sm:space-y-0 sm:space-x-4",children:[o.jsxs(Ot,{open:p,onOpenChange:h,children:[o.jsx(ug,{asChild:!0,children:o.jsx(B,{variant:"outline",children:"Changer le mot de passe"})}),o.jsxs(Pt,{children:[o.jsx(Et,{children:o.jsx(Dt,{children:"Changer le mot de passe"})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"old-password",children:"Ancien mot de passe"}),o.jsx(fe,{id:"old-password",type:"password"})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"new-password",children:"Nouveau mot de passe"}),o.jsx(fe,{id:"new-password",type:"password"})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"confirm-password",children:"Confirmation du nouveau mot de passe"}),o.jsx(fe,{id:"confirm-password",type:"password"})]})]}),o.jsx(Zt,{children:o.jsx(B,{onClick:()=>{Je("Validation mot de passe"),h(!1)},className:"bg-green-600 hover:bg-green-700",children:"Valider"})})]})]}),o.jsx(B,{onClick:Be,className:"bg-green-600 hover:bg-green-700",children:"Enregistrer les modifications"})]})]}),(ea||vs)&&o.jsxs(o.Fragment,{children:[vs&&o.jsxs(ee.div,{variants:Wr,className:"bg-white p-6 sm:p-8 rounded-2xl shadow-card",id:"gestion-entreprises",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Gestion des Entreprises"}),o.jsxs(Ot,{open:j,onOpenChange:N,children:[o.jsx(ug,{asChild:!0,children:o.jsxs(B,{className:"bg-purple-600 hover:bg-purple-700 w-full sm:w-auto",children:[o.jsx(et,{className:"mr-2 h-4 w-4"})," Créer une entreprise"]})}),o.jsxs(Pt,{className:"sm:max-w-lg",children:[o.jsx(Et,{children:o.jsx(Dt,{children:"Créer une nouvelle entreprise"})}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Z,{htmlFor:"company-name",className:"text-right",children:"Nom"}),o.jsx(fe,{id:"company-name",className:"col-span-3",value:O.name,onChange:L=>_e("name",L.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Z,{htmlFor:"company-logo",className:"text-right",children:"Logo"}),o.jsx("div",{className:"col-span-3",children:o.jsx(B,{asChild:!0,variant:"outline",children:o.jsxs("label",{htmlFor:"logo-upload",className:"cursor-pointer flex items-center gap-2",children:[o.jsx(Ej,{className:"h-4 w-4"}),o.jsx("span",{children:O.logo?O.logo.name:"Choisir un fichier"}),o.jsx("input",{id:"logo-upload",type:"file",className:"hidden",onChange:L=>_e("logo",L.target.files[0])})]})})})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Z,{htmlFor:"company-address",className:"text-right",children:"Adresse"}),o.jsx(fe,{id:"company-address",className:"col-span-3",value:O.address,onChange:L=>_e("address",L.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Z,{htmlFor:"company-zip",className:"text-right",children:"Code Postal"}),o.jsx(fe,{id:"company-zip",className:"col-span-3",value:O.zip,onChange:L=>_e("zip",L.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Z,{htmlFor:"company-city",className:"text-right",children:"Ville"}),o.jsx(fe,{id:"company-city",className:"col-span-3",value:O.city,onChange:L=>_e("city",L.target.value)})]})]}),o.jsx(Zt,{children:o.jsx(B,{onClick:We,className:"bg-purple-600 hover:bg-purple-700",children:"Créer l'entreprise"})})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[F.map(L=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Tm,{className:"h-6 w-6 text-gray-500"}),o.jsx("span",{className:"font-medium",children:L.name})]}),o.jsx(B,{variant:"outline",size:"sm",onClick:()=>Je("Gestion utilisateurs entreprise"),children:"Gérer les utilisateurs"})]},L.id)),F.length===0&&o.jsx("p",{className:"text-center text-gray-500 py-4",children:"Aucune entreprise créée pour le moment."})]})]}),o.jsxs(ee.div,{variants:Wr,className:"bg-white p-6 sm:p-8 rounded-2xl shadow-card",id:"gestion-formulaire-contact",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"🧩 Gestion du Formulaire Contact"}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Ajoutez, modifiez et réorganisez les champs du formulaire de création de contact."})]}),o.jsxs(B,{onClick:()=>Qs(null),children:[o.jsx(et,{className:"mr-2 h-4 w-4"})," Ajouter un champ"]})]}),o.jsx(eO,{onDragEnd:ta,children:o.jsx(uO,{droppableId:"form-fields",children:L=>o.jsxs("div",{...L.droppableProps,ref:L.innerRef,className:"space-y-3",children:[u.map((pe,Ee)=>o.jsx(oO,{draggableId:pe.id,index:Ee,children:jn=>o.jsxs("div",{ref:jn.innerRef,...jn.draggableProps,className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border",children:[o.jsx("div",{...jn.dragHandleProps,className:"cursor-grab text-gray-400",children:o.jsx(B0,{})}),o.jsxs("div",{className:"flex-grow",children:[o.jsxs("p",{className:"font-medium",children:[pe.name,pe.required&&o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Type: ",pe.type," | Placeholder: ",pe.placeholder||"Aucun"]})]}),o.jsx(B,{variant:"ghost",size:"icon",onClick:()=>Qs(pe),children:o.jsx(Oc,{className:"h-4 w-4"})}),o.jsxs(Ps,{children:[o.jsx(Es,{asChild:!0,children:o.jsx(B,{variant:"ghost",size:"icon",children:o.jsx(lr,{className:"h-4 w-4 text-red-500"})})}),o.jsxs(Jr,{children:[o.jsxs(Qr,{children:[o.jsxs(es,{children:['Supprimer le champ "',pe.name,'" ?']}),o.jsx(ts,{children:"Cette action est irréversible."})]}),o.jsxs(Zr,{children:[o.jsx(rs,{children:"Annuler"}),o.jsx(ns,{onClick:()=>X(pe.id),className:"bg-red-600 hover:bg-red-700",children:"Supprimer"})]})]})]})]})},pe.id)),L.placeholder]})})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs(ee.div,{variants:Wr,className:"bg-white p-6 sm:p-8 rounded-2xl shadow-card",id:"gestion-projets",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Gestion des Projets"}),o.jsxs(B,{onClick:()=>k(!0),className:"bg-blue-600 hover:bg-blue-700 w-full sm:w-auto",children:[o.jsx(et,{className:"mr-2 h-4 w-4"})," Créer un projet"]})]}),o.jsx("div",{className:"space-y-3",children:Object.values(r).map(L=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl",children:L.icon}),o.jsx("span",{className:"font-medium",children:L.title})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(wl,{id:`publish-${L.type}`,checked:L.isPublic,onCheckedChange:pe=>Rt(L.type,pe)}),o.jsx(Z,{htmlFor:`publish-${L.type}`,children:"En ligne"})]}),o.jsx(B,{variant:"outline",size:"sm",onClick:()=>_(L),children:"Modifier"}),o.jsxs(Ps,{children:[o.jsx(Es,{asChild:!0,children:o.jsx(B,{variant:"destructive",size:"icon",children:o.jsx(lr,{className:"h-4 w-4"})})}),o.jsxs(Jr,{children:[o.jsxs(Qr,{children:[o.jsxs(es,{children:['Supprimer "',L.title,'" ?']}),o.jsx(ts,{children:"Cette action est irréversible et supprimera ce modèle de projet."})]}),o.jsxs(Zr,{children:[o.jsx(rs,{children:"Annuler"}),o.jsx(ns,{onClick:()=>Ve(L.type),className:"bg-red-600 hover:bg-red-700",children:"Supprimer"})]})]})]})]})]},L.type))})]}),o.jsxs(ee.div,{variants:Wr,className:"bg-white p-6 sm:p-8 rounded-2xl shadow-card",id:"gestion-formulaires",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Gestion des Formulaires"}),o.jsxs(B,{onClick:()=>ie({name:"",fields:[],projectIds:[]}),className:"bg-teal-600 hover:bg-teal-700 w-full sm:w-auto",children:[o.jsx(et,{className:"mr-2 h-4 w-4"})," Créer un formulaire"]})]}),o.jsx("div",{className:"space-y-3",children:Object.values(a).map(L=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(vu,{className:"h-5 w-5 text-gray-500"}),o.jsx("span",{className:"font-medium",children:L.name})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(B,{variant:"outline",size:"sm",onClick:()=>ie(L),children:"Modifier"}),o.jsxs(Ps,{children:[o.jsx(Es,{asChild:!0,children:o.jsx(B,{variant:"destructive",size:"icon",children:o.jsx(lr,{className:"h-4 w-4"})})}),o.jsxs(Jr,{children:[o.jsxs(Qr,{children:[o.jsxs(es,{children:['Supprimer "',L.name,'" ?']}),o.jsx(ts,{children:"Cette action est irréversible."})]}),o.jsxs(Zr,{children:[o.jsx(rs,{children:"Annuler"}),o.jsx(ns,{onClick:()=>Zs(L.id),className:"bg-red-600 hover:bg-red-700",children:"Supprimer"})]})]})]})]})]},L.id))})]})]}),o.jsxs(ee.div,{variants:Wr,className:"bg-white p-6 sm:p-8 rounded-2xl shadow-card",id:"gestion-affichage-projets",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"🧱 Gestion de l’Affichage des Projets"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"project-display-select",children:"Sélecteur de projet"}),o.jsxs(mn,{value:q,onValueChange:de,children:[o.jsx(tn,{id:"project-display-select",children:o.jsx(pn,{placeholder:"Choisir un projet"})}),o.jsx(nn,{children:se.map(L=>o.jsx(je,{value:L.value,children:L.label},L.value))})]})]}),q&&o.jsx(vn,{children:o.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"space-y-4 pt-4 border-t",children:[o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"project-cover-image",children:"Image de couverture (URL)"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(fe,{id:"project-cover-image",placeholder:"https://exemple.com/image.jpg",value:ce.coverImage,onChange:L=>te("coverImage",L.target.value)}),o.jsx("input",{type:"file",ref:ke,onChange:$e,accept:"image/*",className:"hidden"}),o.jsx(B,{variant:"outline",onClick:()=>ke.current.click(),children:o.jsx(Ej,{className:"h-4 w-4"})})]}),ce.coverImage?o.jsx("div",{className:"mt-2 relative w-full aspect-video rounded-lg overflow-hidden bg-gray-100",children:o.jsx("img",{src:ce.coverImage,alt:"Aperçu",className:"w-full h-full object-cover"})}):o.jsx("div",{className:"mt-2 flex items-center justify-center w-full aspect-video rounded-lg bg-gray-100 border-2 border-dashed",children:o.jsx(dL,{className:"h-10 w-10 text-gray-400"})})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"project-client-description",children:"Description du projet"}),o.jsx(bp,{id:"project-client-description",placeholder:"Courte description visible par le client...",value:ce.clientDescription,onChange:L=>te("clientDescription",L.target.value),rows:4})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"project-cta-text",children:"Texte du bouton (CTA)"}),o.jsx(fe,{id:"project-cta-text",placeholder:"Ex: Ajouter ce projet",value:ce.ctaText,onChange:L=>te("ctaText",L.target.value)})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(B,{onClick:me,className:"bg-green-600 hover:bg-green-700",children:"Enregistrer les modifications"})})]},q)})]})]}),o.jsxs(ee.div,{variants:Wr,className:"bg-white p-6 sm:p-8 rounded-2xl shadow-card",id:"creation-prompt",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Création de Prompt"}),o.jsxs(B,{onClick:()=>Ln(null),className:"bg-indigo-600 hover:bg-indigo-700 w-full sm:w-auto",children:[o.jsx(et,{className:"mr-2 h-4 w-4"})," Créer un nouveau prompt"]})]}),o.jsx("div",{className:"space-y-3",children:Object.values(l).length>0?Object.values(l).map(L=>{var pe;return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(_o,{className:"h-5 w-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:L.name}),o.jsx("p",{className:"text-xs text-gray-500",children:((pe=r[L.projectId])==null?void 0:pe.title)||"Projet inconnu"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(B,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>Ln(L),children:o.jsx(Oc,{className:"h-4 w-4"})}),o.jsxs(Ps,{children:[o.jsx(Es,{asChild:!0,children:o.jsx(B,{variant:"destructive",size:"icon",className:"h-8 w-8",children:o.jsx(lr,{className:"h-4 w-4"})})}),o.jsxs(Jr,{children:[o.jsxs(Qr,{children:[o.jsxs(es,{children:['Supprimer "',L.name,'" ?']}),o.jsx(ts,{children:"Cette action est irréversible."})]}),o.jsxs(Zr,{children:[o.jsx(rs,{children:"Annuler"}),o.jsx(ns,{onClick:()=>zr(L.id),className:"bg-red-600 hover:bg-red-700",children:"Supprimer"})]})]})]})]})]},L.id)}):o.jsxs("div",{className:"text-center text-gray-500 py-4",children:[o.jsx(_o,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("p",{className:"mt-2",children:"Aucun prompt créé. Cliquez sur le bouton pour en ajouter un."})]})})]}),o.jsxs(ee.div,{variants:Wr,className:"bg-white p-6 sm:p-8 rounded-2xl shadow-card",id:"gestion-utilisateurs",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Gestion des utilisateurs"}),o.jsxs(Ot,{open:g,onOpenChange:v,children:[o.jsx(ug,{asChild:!0,children:o.jsx(B,{className:"bg-blue-600 hover:bg-blue-700 w-full sm:w-auto",children:"Inviter un utilisateur"})}),o.jsxs(Pt,{className:"sm:max-w-[425px]",children:[o.jsxs(Et,{children:[o.jsx(Dt,{children:"Inviter un nouvel utilisateur"}),o.jsx(Hn,{children:"Remplissez les informations ci-dessous pour ajouter un nouveau membre à votre équipe."})]}),o.jsxs("div",{className:"grid gap-4 py-4 px-6",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Z,{htmlFor:"invite-nom",className:"text-right col-span-1",children:"Nom"}),o.jsx(fe,{id:"invite-nom",className:"col-span-3",value:re.name,onChange:L=>ys("name",L.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Z,{htmlFor:"invite-email",className:"text-right col-span-1",children:"Email"}),o.jsx(fe,{id:"invite-email",type:"email",className:"col-span-3",value:re.email,onChange:L=>ys("email",L.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Z,{htmlFor:"invite-password",className:"text-right col-span-1",children:"Mot de passe"}),o.jsx(fe,{id:"invite-password",type:"password",className:"col-span-3",value:re.password,onChange:L=>ys("password",L.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Z,{htmlFor:"invite-role",className:"text-right col-span-1",children:"Rôle"}),o.jsxs(mn,{value:re.role,onValueChange:L=>ys("role",L),children:[o.jsx(tn,{id:"invite-role",className:"col-span-3",children:o.jsx(pn,{placeholder:"Commercial"})}),o.jsxs(nn,{children:[o.jsx(je,{value:"admin",children:"Admin"}),o.jsx(je,{value:"manager",children:"Manager"}),o.jsx(je,{value:"commercial",children:"Commercial"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Z,{htmlFor:"invite-manager",className:"text-right col-span-1",children:"Manager"}),o.jsx("div",{className:"col-span-3",children:o.jsx(Yo,{options:to,value:re.manager,onSelect:L=>ys("manager",L),placeholder:"Sélectionner...",searchPlaceholder:"Rechercher un manager...",emptyText:"Aucun manager trouvé."})})]})]}),o.jsx(Zt,{className:"px-6 pb-4",children:o.jsx(B,{onClick:pO,className:"bg-blue-600 hover:bg-blue-700",children:"Inviter"})})]})]})]}),o.jsx("div",{className:"mb-4",children:o.jsx(fe,{type:"text",placeholder:"Rechercher par nom ou email...",value:P,onChange:L=>R(L.target.value),className:"max-w-sm"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[o.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Nom"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Email"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Rôle"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Manager"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Actions"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Droits d'accès"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Lien d'affiliation"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Supprimer"})]})}),o.jsx("tbody",{children:na.map(L=>o.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap",children:L.name}),o.jsx("td",{className:"px-6 py-4",children:L.email}),o.jsx("td",{className:"px-6 py-4",children:L.role}),o.jsx("td",{className:"px-6 py-4",children:L.manager||"N/A"}),o.jsx("td",{className:"px-6 py-4",children:o.jsx(B,{variant:"outline",size:"sm",onClick:()=>$n(L),disabled:L.role==="Admin"||L.role==="Global Admin",children:"Changer le rôle"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx(B,{variant:"outline",size:"sm",onClick:()=>xs(L),children:"Modifier droits"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs(B,{variant:"outline",size:"sm",onClick:()=>vt(L),children:[o.jsx(aL,{className:"h-4 w-4 mr-2"}),"Copier le lien"]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs(Ps,{children:[o.jsx(Es,{asChild:!0,children:o.jsx(B,{variant:"destructive",size:"icon",disabled:L.role==="Admin"||L.role==="Global Admin",children:o.jsx(lr,{className:"h-4 w-4"})})}),o.jsxs(Jr,{children:[o.jsxs(Qr,{children:[o.jsxs(es,{children:["Voulez-vous vraiment supprimer ",L.name," ?"]}),o.jsxs(ts,{children:["Cette action est irréversible. Tous les contacts de cet utilisateur seront réassignés à son manager (",L.manager||"Admin",")."]})]}),o.jsxs(Zr,{children:[o.jsx(rs,{children:"Annuler"}),o.jsx(ns,{onClick:()=>Qa(L),className:"bg-red-600 hover:bg-red-700",children:"Supprimer"})]})]})]})})]},L.id))})]})})]}),o.jsx(Ot,{open:b,onOpenChange:x,children:o.jsxs(Pt,{className:"sm:max-w-[425px]",children:[o.jsxs(Et,{children:[o.jsxs(Dt,{children:["Changer le rôle de ",C==null?void 0:C.name]}),o.jsx(Hn,{children:"Sélectionnez un nouveau rôle et assignez un manager pour cet utilisateur."})]}),o.jsxs("div",{className:"grid gap-4 py-4 px-6",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Z,{htmlFor:"change-role-select",className:"text-right col-span-1",children:"Rôle"}),o.jsxs(mn,{value:A,onValueChange:$,children:[o.jsx(tn,{id:"change-role-select",className:"col-span-3",children:o.jsx(pn,{placeholder:"Sélectionner un rôle"})}),o.jsxs(nn,{children:[o.jsx(je,{value:"admin",children:"Admin"}),o.jsx(je,{value:"manager",children:"Manager"}),o.jsx(je,{value:"commercial",children:"Commercial"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Z,{htmlFor:"change-manager-select",className:"text-right col-span-1",children:"Manager"}),o.jsx("div",{className:"col-span-3",children:o.jsx(Yo,{options:to.filter(L=>L.value!==(C==null?void 0:C.name)),value:E,onSelect:D,placeholder:"Sélectionner...",searchPlaceholder:"Rechercher un manager...",emptyText:"Aucun manager trouvé."})})]})]}),o.jsx(Zt,{className:"px-6 pb-4",children:o.jsx(B,{onClick:Ja,className:"bg-green-600 hover:bg-green-700",children:"Valider"})})]})}),o.jsx(Ot,{open:y,onOpenChange:w,children:o.jsxs(Pt,{className:"sm:max-w-md",children:[o.jsxs(Et,{children:[o.jsxs(Dt,{children:["Droits d’accès de ",C==null?void 0:C.name]}),Za&&o.jsx(Hn,{children:"Les administrateurs ont accès à tout par défaut."})]}),o.jsxs("div",{className:"space-y-6 p-6",children:[o.jsxs("div",{children:[o.jsx(Z,{className:"font-semibold",children:"Modules accessibles"}),o.jsx("div",{className:"mt-2 space-y-2",children:["Pipeline","Agenda","Contacts"].map(L=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Mn,{id:`module-${L}`,checked:(I.modules||[]).includes(L),onCheckedChange:pe=>Xa(L,pe),disabled:Za}),o.jsx(Z,{htmlFor:`module-${L}`,className:Za?"text-gray-500":"",children:L})]},L))})]}),o.jsxs("div",{children:[o.jsx(Z,{className:"font-semibold",children:"Accès aux données d’autres utilisateurs"}),o.jsx(BM,{options:Ur,selected:I.users,onChange:L=>z(pe=>({...pe,users:L})),placeholder:"Sélectionner des utilisateurs...",searchPlaceholder:"Rechercher un utilisateur...",emptyText:"Aucun utilisateur trouvé.",className:"mt-2",disabled:Za,showSelectAll:!Za,selectAllText:"Tout le monde"})]})]}),o.jsxs(Zt,{children:[o.jsx(B,{variant:"outline",onClick:()=>w(!1),children:"Annuler"}),o.jsx(B,{onClick:_n,disabled:Za,children:"Enregistrer"})]})]})}),o.jsxs(ee.div,{variants:Wr,className:"bg-white p-6 sm:p-8 rounded-2xl shadow-card",id:"gestion-clients",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Gestion des clients"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[o.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Nom"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Email"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Projet"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Statut"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Actions"})]})}),o.jsx("tbody",{children:o.jsx("tr",{className:"bg-white",children:o.jsx("td",{colSpan:"5",className:"px-6 py-10 text-center text-gray-400",children:"La gestion des clients sera bientôt disponible ici."})})})]})})]})]}),o.jsx(uoe,{open:V,onOpenChange:k,onSave:bt}),o.jsx(Ot,{open:!!T,onOpenChange:L=>!L&&_(null),children:o.jsxs(Pt,{className:"sm:max-w-2xl",children:[o.jsx(Et,{children:o.jsxs(Dt,{children:['Modifier le projet "',T==null?void 0:T.title,'"']})}),o.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:T&&o.jsx(dO,{project:T,onSave:bt,onCancel:()=>_(null)})})]})}),o.jsx(Ot,{open:!!J,onOpenChange:L=>!L&&ie(null),children:o.jsxs(Pt,{className:"sm:max-w-2xl",children:[o.jsx(Et,{children:o.jsx(Dt,{children:J!=null&&J.id?`Modifier le formulaire "${J.name}"`:"Créer un nouveau formulaire"})}),o.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:J&&o.jsx(coe,{form:J,onSave:wn,onCancel:()=>ie(null)})})]})}),o.jsx(foe,{open:oe,onOpenChange:ae,onSave:Ct,existingPrompt:H}),o.jsx(Ot,{open:Ke,onOpenChange:gt,children:o.jsxs(Pt,{children:[o.jsx(Et,{children:o.jsx(Dt,{children:br?"Modifier le champ":"Ajouter un champ"})}),o.jsx(loe,{field:br,onSave:bn,onCancel:()=>{gt(!1),tr(null)}})]})})]})})]})]})},poe="completed",hoe=({project:e,onSelectProject:t,index:n})=>{const{currentUser:r,getProjectSteps:s}=Ce(),a=r?s(r.id,e.type):e.steps,i=a.filter(f=>f.status===poe).length,l=a.length,c=l>0?Math.round(i/l*100):0,u=a.find(f=>f.status==="current")||a.find(f=>f.status==="pending")||{name:"Terminé"},d=c>0?"Continuer le projet 🚀":"Démarrer le projet 🚀";return o.jsxs(ee.div,{className:"bg-white rounded-2xl shadow-card p-6 flex flex-col justify-between",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:n*.1},children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[o.jsx("div",{className:`w-12 h-12 ${e.color} rounded-xl flex items-center justify-center shadow-soft`,children:o.jsx("span",{className:"text-2xl",children:e.icon})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:e.title}),o.jsx("p",{className:"text-sm text-gray-500",children:u.name})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Progression"}),o.jsxs("span",{className:"font-bold text-green-600",children:[c,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:o.jsx(ee.div,{className:"progress-bar h-2.5 rounded-full",initial:{width:"0%"},animate:{width:`${c}%`},transition:{duration:1,ease:"easeInOut"}})})]}),o.jsx("div",{className:"mt-4",children:o.jsx("div",{className:"flex justify-between items-center text-xs text-gray-400",children:o.jsxs("span",{children:[i," / ",l," étapes"]})})})]}),o.jsx("div",{className:"flex justify-end items-center mt-6",children:o.jsx(B,{onClick:()=>t(e),className:"bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-soft hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:d})})]})},goe=({projects:e=[],onProjectClick:t,onAddProject:n})=>{var c;const{currentUser:r}=Ce(),s=e.length,a=u=>{const d=u.steps.filter(h=>h.status==="completed").length,f=u.steps.length;return{progress:f>0?Math.round(d/f*100):0}},i=e.filter(u=>a(u).progress===100).length,l=s-i;return o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Bonjour ",((c=r==null?void 0:r.name)==null?void 0:c.split(" ")[0])||"Jack"," 👋"]}),(r==null?void 0:r.affiliateName)&&o.jsxs("p",{className:"text-sm text-gray-500 mt-2 flex items-center justify-center",children:[o.jsx(hs,{className:"w-4 h-4 mr-1.5"}),"Suivi par : ",o.jsx("span",{className:"font-medium ml-1",children:r.affiliateName})]})]}),o.jsx(ee.div,{className:"bg-white rounded-2xl shadow-card p-4 sm:p-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Vue d'ensemble"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"hidden sm:flex items-center space-x-4 text-sm font-medium",children:[o.jsxs("span",{className:"flex items-center text-green-600",children:[o.jsx(l2,{className:"h-4 w-4 mr-1.5"}),o.jsxs("span",{children:[i," actif",i>1?"s":""]})]}),o.jsxs("span",{className:"flex items-center text-blue-600",children:[o.jsx(ui,{className:"h-4 w-4 mr-1.5"}),o.jsxs("span",{children:[l," en cours"]})]})]}),o.jsxs(B,{onClick:n,className:"bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-soft hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:[o.jsx(et,{className:"h-5 w-5 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Ajouter un projet"})]})]})]})}),e.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((u,d)=>o.jsx(hoe,{project:u,onSelectProject:()=>t(u),index:d},u.id))}):o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center py-12 bg-gray-50 rounded-2xl",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"Aucun projet pour le moment."}),o.jsx("p",{className:"text-gray-500 mt-2",children:"Commencez par ajouter votre premier projet !"})]})]})},fO="completed",Ix="in_progress",Xl="pending",ao={[fO]:{label:"Terminé",badge:"bg-green-100 text-green-700",icon:"bg-green-500 text-white shadow-soft",text:"text-gray-900",iconOnly:"bg-green-100 text-green-600"},[Ix]:{label:"En cours",badge:"bg-blue-100 text-blue-700",icon:"bg-blue-500 text-white shadow-soft ring-4 ring-blue-200",text:"text-blue-900",iconOnly:"bg-blue-100 text-blue-600"},[Xl]:{label:"À venir",badge:"bg-gray-100 text-gray-500",icon:"bg-gray-100 text-gray-400",text:"text-gray-500",iconOnly:"bg-gray-200 text-gray-500"}},voe=({appointment:e,onClick:t})=>{const n=new Date(e.start),r=e.type==="physical";return o.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-100 to-blue-200 border border-blue-400 rounded-lg p-2.5 shadow-md cursor-pointer hover:from-blue-200 hover:to-blue-300 transition-all duration-200",onClick:()=>t(e),children:o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"font-medium text-blue-900 text-xs leading-tight",children:["Rdv le ",Fe(n,"EEEE dd/MM",{locale:en})," à ",Fe(n,"HH:mm")]}),o.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs font-medium ${r?"bg-blue-600 text-white":"bg-purple-600 text-white"}`,children:r?"Physique":"Visio"})]}),e.description&&o.jsx("p",{className:"text-blue-700 text-xs truncate",children:e.description})]})})},xoe=({form:e,prospectId:t,onFormSubmit:n})=>{const[r,s]=m.useState({}),a=(l,c)=>{s(u=>({...u,[l]:c}))},i=()=>{n(t,e.id,r),K({title:"Réponses enregistrées",description:`Les réponses au formulaire "${e.name}" ont été sauvegardées.`,className:"bg-green-500 text-white"})};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:e.name}),(e.fields||[]).map(l=>o.jsxs("div",{children:[o.jsx(Z,{htmlFor:`${e.id}-${l.id}`,children:l.label}),o.jsx(fe,{id:`${e.id}-${l.id}`,type:l.type,value:r[l.id]||"",onChange:c=>a(l.id,c.target.value),placeholder:l.placeholder||""})]},l.id)),o.jsx(B,{onClick:i,className:"w-full",children:"Soumettre"})]})},yoe=({prospectId:e,projectType:t,currentStepIndex:n})=>{const{getChatMessages:r,addChatMessage:s,currentUser:a,forms:i,updateProspect:l,prospects:c,prompts:u,completeStepAndProceed:d}=Ce(),[f,p]=m.useState(""),[h,g]=m.useState(null),v=r(e,t),b=m.useRef(null),x=m.useRef(null);m.useEffect(()=>{var C;(C=b.current)==null||C.scrollIntoView({behavior:"smooth"})},[v]);const y=()=>{if(!f.trim()&&!h)return;const C={sender:"client",text:f,file:h?{name:h.name,size:h.size}:null};s(e,t,C),p(""),g(null)},w=C=>{C.target.files&&C.target.files[0]&&g(C.target.files[0])},j=()=>{K({title:"🚧 Fonctionnalité non implémentée",description:"Le téléchargement de fichiers n'est pas encore disponible."})},N=(C,S,P)=>{var $;const R=c.find(I=>I.id===C);if(!R)return;const E={...R.formData||{},...P};l({...R,formData:E});const D={sender:"client",text:`A complété le formulaire : ${(($=i[S])==null?void 0:$.name)||"Formulaire"}.`};s(C,t,D),Object.values(u).find(I=>{var V,k;if(I.projectId!==t)return!1;const z=(V=I.stepsConfig)==null?void 0:V[n];return z!=null&&z.autoCompleteStep?(k=z.actions)==null?void 0:k.some(T=>T.type==="show_form"&&T.formId===S):!1})&&(d(e,t,n),K({title:"Étape terminée !",description:"L'étape a été automatiquement marquée comme terminée et la suivante est activée.",className:"bg-green-500 text-white"}))};return o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"space-y-4 h-64 overflow-y-auto pr-2 mb-4 rounded-lg bg-gray-50 p-4 border",children:[v.map((C,S)=>o.jsxs("div",{className:`flex items-end gap-2 ${C.sender==="client"?"justify-end":"justify-start"}`,children:[C.sender==="pro"&&o.jsx("img",{alt:"Charly",className:"w-8 h-8 rounded-full",src:"https://horizons-cdn.hostinger.com/43725989-d002-4543-b65c-278701925e7e/4e3f809791e357819f31c585852d3a99.png"}),o.jsxs("div",{className:`max-w-xs lg:max-w-md p-3 rounded-2xl ${C.sender==="client"?"bg-blue-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:[C.text&&o.jsx("p",{className:"text-sm",children:C.text}),C.file&&o.jsxs("button",{onClick:j,className:"mt-2 flex items-center gap-2 text-sm bg-white/20 p-2 rounded-lg w-full text-left",children:[o.jsx(vu,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:C.file.name}),o.jsx(F0,{className:"w-4 h-4 ml-auto flex-shrink-0"})]}),C.formId&&i[C.formId]&&o.jsx("div",{className:"mt-2 bg-white text-gray-800 p-3 rounded-lg",children:o.jsx(xoe,{form:i[C.formId],prospectId:e,onFormSubmit:N})}),o.jsx("p",{className:`text-xs mt-1 ${C.sender==="client"?"text-blue-200":"text-gray-500"}`,children:Ly(new Date(C.timestamp),{addSuffix:!0,locale:en})})]}),C.sender==="client"&&o.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center font-bold text-white",children:(a==null?void 0:a.name.charAt(0))||"?"})]},S)),o.jsx("div",{ref:b})]}),h&&o.jsxs("div",{className:"mb-2 text-sm text-gray-600 flex items-center gap-2",children:[o.jsx(Ef,{className:"w-4 h-4"}),o.jsx("span",{children:h.name}),o.jsx("button",{onClick:()=>g(null),className:"text-red-500",children:"×"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(fe,{placeholder:"Écrire à Charly...",className:"pr-24 h-12",value:f,onChange:C=>p(C.target.value),onKeyPress:C=>C.key==="Enter"&&y()}),o.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center",children:[o.jsx(B,{variant:"ghost",size:"icon",onClick:()=>x.current.click(),children:o.jsx(Ef,{className:"h-5 w-5 text-gray-500"})}),o.jsx("input",{type:"file",ref:x,onChange:w,className:"hidden"}),o.jsx(B,{onClick:y,size:"icon",className:"bg-green-500 hover:bg-green-600 w-8 h-8",children:o.jsx(z0,{className:"h-4 w-4"})})]})]})]})},boe=({appointment:e,onClose:t})=>{var l,c;if(!e)return null;const{getAdminById:n}=Ce(),r=new Date(e.start),s=e.type==="physical",a=e.assignedUserId?n(e.assignedUserId):null,i=a?{firstName:((l=a.name)==null?void 0:l.split(" ")[0])||"Conseiller",lastName:((c=a.name)==null?void 0:c.split(" ")[1])||"Locasun",phone:a.phone||"+33 1 23 45 67 89",email:a.email||"contact@locasun.com"}:{firstName:"Conseiller",lastName:"Locasun",phone:"+33 1 23 45 67 89",email:"contact@locasun.com"};return o.jsx(vn,{children:o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs(ee.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Détails du rendez-vous"}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Br,{className:"h-5 w-5 text-gray-500"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[s?o.jsx(Ks,{className:"h-5 w-5 text-blue-600"}):o.jsx(h2,{className:"h-5 w-5 text-blue-600"}),o.jsx("h4",{className:"font-semibold text-blue-900",children:s?"Rendez-vous physique":"Rendez-vous en visioconférence"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"font-medium text-gray-900 text-lg",children:Fe(r,"EEEE dd MMMM yyyy",{locale:en})}),o.jsx("p",{className:"text-blue-700 font-medium",children:Fe(r,"HH:mm")})]})]}),e.description&&o.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full"}),o.jsx("h4",{className:"font-semibold text-amber-900",children:"Commentaire"})]}),o.jsx("p",{className:"text-gray-700 leading-relaxed bg-white p-3 rounded border",children:e.description})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[o.jsxs("h4",{className:"font-medium text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(hs,{className:"h-5 w-5 text-gray-600"}),o.jsx("span",{children:"Votre conseiller"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[o.jsxs("p",{className:"font-bold text-gray-900 text-xl",children:[i.firstName," ",i.lastName]}),o.jsx("p",{className:"text-sm text-gray-500",children:"Conseiller Locasun"})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[o.jsx(yt,{className:"h-5 w-5 text-blue-600"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Téléphone"}),o.jsx("p",{className:"font-medium text-gray-900",children:i.phone})]}),o.jsx("a",{href:`tel:${i.phone}`,className:"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"Appeler"})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[o.jsx(Lt,{className:"h-5 w-5 text-green-600"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),o.jsx("p",{className:"font-medium text-gray-900",children:i.email})]}),o.jsx("a",{href:`mailto:${i.email}`,className:"px-3 py-1.5 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors",children:"Écrire"})]})]})]})]}),o.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:o.jsx(B,{onClick:t,className:"w-full",children:"Fermer"})})]})})})},woe=({project:e,onBack:t})=>{var g,v,b;const{currentUser:n,getProjectSteps:r,updateProjectSteps:s,getSharedAppointments:a}=Ce(),[i,l]=m.useState(0),[c,u]=m.useState(null),d=n?r(n.id,e.type):e.steps,f=d.findIndex(x=>x.status===Ix),p=d[f]||d[0],h=n&&p?a(n.id,e.type,p.name):[];return m.useEffect(()=>{const x=d.filter(j=>j.status===fO).length,y=d.length,w=y>0?Math.round(x/y*100):0;l(w)},[d]),o.jsxs(ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[o.jsx(B,{variant:"ghost",size:"icon",onClick:t,className:"rounded-full hover:bg-gray-100 flex-shrink-0",children:o.jsx(Ic,{className:"h-5 w-5"})}),o.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[o.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 ${e.color} rounded-xl flex items-center justify-center shadow-card flex-shrink-0`,children:o.jsx("span",{className:"text-2xl",children:e.icon})}),o.jsxs("div",{className:"overflow-hidden",children:[o.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 truncate",children:e.clientTitle||e.title}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Projet #",e.id]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Progression globale"}),o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Avancement"}),o.jsxs("span",{className:"text-lg font-bold text-green-600",children:[i,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:o.jsx(ee.div,{className:"progress-bar h-3 rounded-full",initial:{width:"0%"},animate:{width:`${i}%`},transition:{duration:1}})})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Suivi détaillé"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-5 top-5 bottom-5 w-0.5 bg-gray-200","aria-hidden":"true"}),o.jsx("div",{className:"space-y-4",children:d.map((x,y)=>{const w=ao[x.status]||ao[Xl],j=x.status===Ix,N=j?h:[];return o.jsxs(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.1},className:"relative",children:[o.jsxs("div",{className:"flex items-center space-x-4 relative",children:[o.jsx("div",{className:"relative z-10",children:o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg ${w.iconOnly}`,children:x.icon})}),o.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[o.jsx("h3",{className:`font-medium ${w.text}`,children:x.name}),o.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full ${w.badge}`,children:w.label})]})]}),j&&N.length>0&&o.jsx("div",{className:"ml-14 mt-3 space-y-2",children:N.map(C=>o.jsx("div",{className:"ml-0",children:o.jsx(voe,{appointment:C,onClick:u})},C.id))})]},y)})})]})]})]}),o.jsx("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-card p-6",children:p&&o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg ${((g=ao[p.status])==null?void 0:g.iconOnly)||ao[Xl].iconOnly}`,children:p.icon}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:p.name})]}),o.jsx("span",{className:`text-xs px-3 py-1 rounded-full ${((v=ao[p.status])==null?void 0:v.badge)||ao[Xl].badge}`,children:((b=ao[p.status])==null?void 0:b.label)||ao[Xl].label})]}),o.jsx(yoe,{prospectId:n.id,projectType:e.type,currentStepIndex:f})]},p.name)})]}),c&&o.jsx(boe,{appointment:c,onClose:()=>u(null)})]})},joe=({isOpen:e,onClose:t})=>{const{addProject:n,userProjects:r,projectsData:s}=Ce(),a=Vt(),i=Object.values(s).filter(c=>c.isPublic&&!r.includes(c.type)).map(c=>({type:c.type,title:c.clientTitle||c.title,icon:c.icon,color:c.color})),l=(c,u)=>{n(c)?(K({title:"Projet ajouté avec succès ! ✅",description:`Le projet "${u}" est maintenant dans votre tableau de bord.`}),t(),a("/dashboard")):K({title:"Projet déjà existant",description:"Ce projet est déjà dans votre tableau de bord.",variant:"destructive"})};return o.jsx(vn,{children:e&&o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),o.jsxs(ee.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-2xl shadow-soft max-w-md w-full mx-4 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Ajouter un projet"}),o.jsx(B,{variant:"ghost",size:"icon",onClick:t,className:"rounded-full hover:bg-gray-100",children:o.jsx(Br,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"Choisissez le type de projet à ajouter :"}),i.length>0?i.map((c,u)=>o.jsxs(ee.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.1},onClick:()=>l(c.type,c.title),className:"w-full flex items-center space-x-4 p-4 rounded-xl border border-gray-200 hover:border-gray-300 hover:bg-gray-50 transition-all duration-200",children:[o.jsx("div",{className:`w-12 h-12 ${c.color} rounded-xl flex items-center justify-center shadow-card`,children:o.jsx("span",{className:"text-2xl",children:c.icon})}),o.jsx("div",{className:"flex-grow text-left",children:o.jsx("span",{className:"font-medium text-gray-900",children:c.title})})]},c.type)):o.jsx("p",{className:"text-gray-500 text-center py-4",children:"Tous les projets disponibles ont déjà été ajoutés."})]})]})]})})};function Noe(){const{userProjects:e,projectsData:t,currentUser:n}=Ce(),r=Vt(),[s,a]=m.useState(null),[i,l]=m.useState(!1),[c,u]=m.useState([]);m.useEffect(()=>{if(!n){u([]);return}if(!e||e.length===0){const p=localStorage.getItem("userProjects");if(!p||JSON.parse(p).length===0){const h=["ACC"];localStorage.setItem("userProjects",JSON.stringify(h));return}}const f=e.map(p=>t[p]).filter(Boolean);u(f)},[e,t,r,n]);const d=f=>{a(f)};return n?!c.length&&e.length>0?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("p",{children:"Chargement..."})}):o.jsxs(o.Fragment,{children:[o.jsx(vn,{mode:"wait",children:s?o.jsx(woe,{project:s,onBack:()=>a(null)},"details"):o.jsx(goe,{projects:c,onProjectClick:d,onAddProject:()=>l(!0)},"dashboard")}),o.jsx(joe,{isOpen:i,onClose:()=>l(!1)})]}):o.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center text-center p-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Bienvenue !"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Connectez-vous pour voir vos projets."}),o.jsx("button",{onClick:()=>r("/"),className:"gradient-blue text-white font-bold py-2 px-4 rounded-lg",children:"Retour à l'accueil"})]})}const Coe=({name:e,date:t,size:n})=>o.jsxs(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-between p-4 bg-white rounded-xl shadow-card hover:shadow-soft transition-shadow",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(vu,{className:"h-6 w-6 text-blue-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:e}),o.jsxs("p",{className:"text-sm text-gray-500",children:[t," - ",n]})]})]}),o.jsx(B,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>K({title:`Téléchargement de "${e}"... (placeholder)`}),children:o.jsx(F0,{className:"h-5 w-5 text-gray-500"})})]}),Soe=()=>{const[e,t]=m.useState(!1),n=i=>{i.preventDefault(),i.stopPropagation(),t(!0)},r=i=>{i.preventDefault(),i.stopPropagation(),t(!1)},s=i=>{i.preventDefault(),i.stopPropagation()},a=i=>{i.preventDefault(),i.stopPropagation(),t(!1),K({title:"Fichier déposé !",description:"La fonctionnalité de téléversement n'est pas encore implémentée. 🚀"})};return o.jsxs("div",{onDragEnter:n,onDragLeave:r,onDragOver:s,onDrop:a,className:`border-2 border-dashed rounded-2xl p-8 text-center transition-colors ${e?"border-green-500 bg-green-50":"border-gray-300 bg-gray-100"}`,children:[o.jsx(pL,{className:`h-12 w-12 mx-auto mb-4 ${e?"text-green-600":"text-gray-400"}`}),o.jsx("p",{className:"font-semibold text-gray-700",children:"Glissez-déposez vos documents ici"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"ou cliquez pour sélectionner des fichiers"}),o.jsx(B,{variant:"outline",className:"mt-4",onClick:()=>K({title:"La sélection de fichiers n'est pas encore implémentée."}),children:"Parcourir"})]})},Poe=()=>{const e=[{name:"Contrat_ACC_Signé.pdf",date:"15 Mars 2024",size:"2.3 MB"},{name:"Devis_Batterie_Virtuelle.pdf",date:"10 Mars 2024",size:"850 KB"},{name:"Facture_Installation_Solaire.pdf",date:"01 Février 2024",size:"1.1 MB"}];return o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Vos Documents"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Retrouvez tous vos contrats, devis et factures."})]}),o.jsx("div",{className:"space-y-4",children:e.map((t,n)=>o.jsx(Coe,{...t},n))}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Téléverser un document"}),o.jsx(Soe,{})]})]})},YC=({title:e,children:t})=>o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-2xl shadow-card",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:e}),o.jsx("div",{className:"space-y-6",children:t})]}),qC=()=>{const e=ms(),{currentUser:t,updateProspect:n}=Ce(),r=e.pathname.includes("/profil"),[s,a]=m.useState({name:"",companyName:"",email:"",phone:"",address:""});m.useEffect(()=>{t&&a({name:t.name||"",companyName:t.companyName||"",email:t.email||"",phone:t.phone||"",address:t.address||""})},[t]);const i=f=>{const{id:p,value:h}=f.target;a(g=>({...g,[p]:h}))},l=()=>{if(!t)return;const f={...t,...s};n(f),K({title:"Profil mis à jour !",description:"Vos informations ont été enregistrées avec succès.",className:"bg-green-100 border-green-300 text-green-800"})},c=()=>{K({title:'Sauvegarde des "Préférences de notifications"...',description:"🚧 This feature isn't implemented yet—but don't worry! You can request it in your next prompt! 🚀"})},u=r?"Mon Profil":"Paramètres",d=r?"Gérez vos informations personnelles et vos préférences.":"Gérez les paramètres de l'application.";return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:u}),o.jsx("p",{className:"text-gray-600 mt-1",children:d})]}),o.jsxs(YC,{title:"Informations Personnelles",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"name",children:"Nom complet"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx(fe,{id:"name",type:"text",placeholder:"Jack Dupont",className:"pl-10",value:s.name,onChange:i})]})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"companyName",children:"Société"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(i2,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx(fe,{id:"companyName",type:"text",placeholder:"Nom de votre société",className:"pl-10",value:s.companyName,onChange:i})]})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"email",children:"Adresse e-mail"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(Lt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx(fe,{id:"email",type:"email",placeholder:"jack.dupont@email.com",className:"pl-10",value:s.email,onChange:i})]})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"phone",children:"Téléphone"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx(fe,{id:"phone",type:"tel",placeholder:"06 12 34 56 78",className:"pl-10",value:s.phone,onChange:i})]})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"address",children:"Adresse"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(Ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx(fe,{id:"address",type:"text",placeholder:"123 Rue de Paris, 75001 Paris",className:"pl-10",value:s.address,onChange:i})]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(B,{onClick:l,className:"w-full sm:w-auto",children:"Enregistrer les modifications"})})]}),o.jsxs(YC,{title:"Préférences de notifications",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Choisissez comment nous pouvons vous contacter pour les mises à jour importantes de vos projets."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50",children:[o.jsx(Mn,{id:"notif-email",defaultChecked:!0}),o.jsxs("div",{className:"grid gap-1.5 leading-none",children:[o.jsx("label",{htmlFor:"notif-email",className:"font-medium cursor-pointer",children:"Par e-mail"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez les notifications directement dans votre boîte de réception."})]})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50",children:[o.jsx(Mn,{id:"notif-sms"}),o.jsxs("div",{className:"grid gap-1.5 leading-none",children:[o.jsx("label",{htmlFor:"notif-sms",className:"font-medium cursor-pointer",children:"Par SMS"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Recevez des alertes rapides sur votre téléphone."})]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(B,{onClick:c,className:"w-full sm:w-auto",children:"Enregistrer les préférences"})})]})]})},Eoe=({project:e})=>{const{addProject:t,userProjects:n}=Ce(),r=Vt(),s=n.includes(e.type),a=()=>{if(s){K({title:"Projet déjà ajouté !",description:"Vous pouvez suivre ce projet dans votre Tableau de bord.",variant:"default"}),r("/dashboard");return}t(e.type)&&(K({title:"Projet ajouté avec succès ! ✅",description:`Le projet "${e.clientTitle}" est maintenant dans votre tableau de bord.`}),r("/dashboard"))};return o.jsxs(ee.div,{className:"bg-white rounded-3xl shadow-soft overflow-hidden flex flex-col",whileHover:{y:-5},children:[o.jsx("div",{className:"h-48 w-full bg-gray-100 flex items-center justify-center",children:e.coverImage?o.jsx("img",{src:e.coverImage,alt:e.clientTitle,className:"w-full h-full object-cover"}):o.jsx(p2,{className:"h-16 w-16 text-gray-300"})}),o.jsxs("div",{className:"p-6 flex-grow flex flex-col",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:e.clientTitle}),o.jsx("p",{className:"text-gray-600 text-sm flex-grow mb-6",children:e.clientDescription||"Ce nouveau projet est disponible. Ajoutez-le à votre tableau de bord pour en savoir plus."}),o.jsx(B,{onClick:a,className:`w-full mt-auto rounded-xl ${s?"bg-gray-300 hover:bg-gray-400":"gradient-green hover:opacity-90"}`,size:"lg",disabled:s,children:s?"Voir le projet":e.ctaText||"👉 Ajouter ce projet"})]})]})},Doe=()=>{const{projectsData:e}=Ce(),t=Object.values(e).filter(n=>n.isPublic);return o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Découvrez nos offres exclusives ⚡"}),o.jsx("p",{className:"text-gray-600 mt-2 max-w-2xl mx-auto",children:"Choisissez l’opportunité qui vous correspond et suivez-la directement dans votre Tableau de bord."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(n=>o.jsx(Eoe,{project:n},n.type))})]})},Rg=({icon:e,title:t,description:n,badgeText:r,delay:s})=>o.jsxs(ee.div,{className:"bg-white border border-[#eef1f4] rounded-2xl shadow-card p-6 flex flex-col",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:s},children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:[e," ",t]}),o.jsx("p",{className:"text-gray-600 flex-grow",children:n}),o.jsx("div",{className:"mt-4",children:o.jsx("span",{className:"inline-block bg-gray-100 text-gray-700 text-xs font-medium px-3 py-1.5 rounded-full",children:r})})]}),Toe=({isOpen:e,onOpenChange:t,loginType:n})=>{const r=Vt(),{setCurrentUser:s,prospects:a}=Ce(),[i,l]=m.useState(""),[c,u]=m.useState(""),d=g=>{if(g.preventDefault(),n==="pro")i==="jack.luc@icloud.com"&&c==="password"?(K({title:"Connexion réussie !",description:"Redirection vers l'espace pro...",className:"bg-green-500 text-white"}),s({id:"user-1",name:"Jack Luc",email:"jack.luc@icloud.com",role:"Admin"}),t(!1),setTimeout(()=>r("/admin"),500)):K({title:"Erreur de connexion",description:"Email ou mot de passe incorrect.",variant:"destructive"});else{const v=a.find(b=>b.email===i);v&&c==="password"?(K({title:"Connexion réussie !",description:"Redirection vers votre espace client...",className:"bg-blue-500 text-white"}),s(v),t(!1),setTimeout(()=>r("/dashboard"),500)):K({title:"Erreur de connexion",description:"Email ou mot de passe incorrect.",variant:"destructive"})}},f=()=>{K({title:"🚧 Bientôt disponible",description:"La récupération de mot de passe n'est pas encore implémentée."})},p=n==="pro"?"Connexion Espace Pro":"Connexion Espace Client",h=n==="pro"?"gradient-green text-white":"gradient-blue text-white";return o.jsx(Ot,{open:e,onOpenChange:t,children:o.jsxs(Pt,{className:"sm:max-w-md",children:[o.jsx(Et,{children:o.jsx(Dt,{className:"text-2xl font-bold text-center",children:p})}),o.jsxs("form",{onSubmit:d,className:"space-y-6 px-4 py-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{htmlFor:"email",children:"Email"}),o.jsx(fe,{id:"email",type:"email",placeholder:"votre@email.com",required:!0,value:i,onChange:g=>l(g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Z,{htmlFor:"password",children:"Mot de passe"}),o.jsx(fe,{id:"password",type:"password",placeholder:"********",required:!0,value:c,onChange:g=>u(g.target.value)})]}),o.jsx(B,{type:"submit",className:`w-full ${h} text-lg py-6`,children:"Se connecter"}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:f,className:"text-sm text-blue-600 hover:underline",children:"Mot de passe oublié ?"})})]})]})})},KC=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState("client"),{slugUser:s}=xE();m.useEffect(()=>{s&&sessionStorage.setItem("affiliateUser",s)},[s]);const a=l=>{r(l),t(!0)},i=s?`/inscription/${s}`:"/inscription";return o.jsxs("div",{className:"bg-gray-50 relative",children:[o.jsx("header",{className:"absolute top-0 right-0 p-4 md:p-6 z-20",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(B,{onClick:()=>a("pro"),className:"gradient-green text-white shadow-soft hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:"Espace Pro"}),o.jsx(B,{onClick:()=>a("client"),className:"gradient-blue text-white shadow-soft hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:"Espace Client"})]})}),o.jsx(Toe,{isOpen:e,onOpenChange:t,loginType:n}),o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center text-center px-4",children:o.jsxs("div",{className:"relative w-full max-w-4xl",children:[o.jsxs(ee.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.7,ease:"easeOut"},className:"relative z-10 space-y-6",children:[o.jsxs(ee.h1,{className:"text-4xl md:text-6xl font-extrabold text-gray-900 leading-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:["Gagnez ",o.jsx("span",{className:"text-green-600",children:"35% "})," sur votre électricité, garantis entre 5 et 10 ans ⚡"]}),o.jsx(ee.h2,{className:"text-4xl md:text-5xl font-extrabold text-gray-800 leading-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},children:"grâce à une centrale solaire à côté de chez vous 🚀"}),o.jsx(ee.p,{className:"max-w-2xl mx-auto text-lg text-gray-600",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5}}),o.jsxs(ee.div,{className:"flex flex-col md:flex-row items-center justify-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.5},children:[o.jsx(qr,{to:i,children:o.jsx(B,{size:"lg",className:"gradient-green text-white px-8 py-6 rounded-2xl shadow-soft hover:shadow-lg transition-all duration-300 transform hover:scale-105 text-lg font-semibold",children:"Je démarre mon projet"})}),o.jsx("a",{href:"#comment-ca-marche",className:"mt-3 md:mt-0 md:ml-4 text-base font-medium text-[#1976D2] hover:underline focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-md",children:"Comment ça marche ?"})]})]}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-blue-200 rounded-full mix-blend-multiply filter blur-2xl opacity-40 animate-blob"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/4 -translate-y-1/4 w-96 h-96 bg-green-200 rounded-full mix-blend-multiply filter blur-2xl opacity-40 animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-3/4 -translate-y-3/4 w-96 h-96 bg-yellow-200 rounded-full mix-blend-multiply filter blur-2xl opacity-40 animate-blob animation-delay-4000"})]})}),o.jsx("section",{id:"comment-ca-marche",className:"py-16 px-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[o.jsx(ee.h2,{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:"Comment ça marche ?"}),o.jsx(ee.p,{className:"max-w-3xl mx-auto text-lg text-gray-600 mb-12",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},children:"Un système simple et transparent qui permet de consommer l’électricité produite par une centrale solaire locale, avec des économies garanties."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsx(Rg,{icon:"☀️",title:"Producteur",description:"Centrale solaire photovoltaïque qui produit de l’électricité verte.",badgeText:"⚡ Production locale d’énergie renouvelable",delay:.3}),o.jsx(Rg,{icon:"🤝",title:"PMO",description:"Association qui gère et répartit l’énergie de manière équitable.",badgeText:"🔒 Gestion transparente et bénéfique pour tous",delay:.4}),o.jsx(Rg,{icon:"🏠",title:"Consommateurs",description:"Particuliers et entreprises qui bénéficient d’une électricité moins chère.",badgeText:"💰 Jusqu’à 40% d’économies sur la facture",delay:.5})]})]})}),o.jsx("style",{jsx:"true",children:`
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
      `})]})},XC=()=>{const e=Vt(),{slugUser:t}=xE(),{projectsData:n,setUserProjects:r,addProspect:s,setCurrentUser:a,users:i}=Ce(),[l,c]=m.useState([]),[u,d]=m.useState({name:"",email:"",phone:"",password:"",company:""}),[f,p]=m.useState({}),[h,g]=m.useState({id:null,name:null}),v=m.useMemo(()=>Object.values(n).filter(j=>j.isPublic).map(j=>({id:j.type,label:j.clientTitle,icon:j.icon})),[n]);m.useEffect(()=>{if(!i||Object.keys(i).length===0)return;const j=t||sessionStorage.getItem("affiliateUser");if(j){const N=i[j];N&&g({id:N.id,name:N.name})}},[t,i]);const b=j=>{c(N=>N.includes(j)?N.filter(C=>C!==j):[...N,j])},x=j=>{const{id:N,value:C}=j.target;d(S=>({...S,[N]:C}))},y=()=>{const j={};return u.name||(j.name="Le nom complet est requis."),u.email?/\S+@\S+\.\S+/.test(u.email)||(j.email="L'adresse e-mail est invalide."):j.email="L'adresse e-mail est requise.",u.phone||(j.phone="Le numéro de téléphone est requis."),u.password?u.password.length<6&&(j.password="Le mot de passe doit contenir au moins 6 caractères."):j.password="Le mot de passe est requis.",p(j),Object.keys(j).length===0},w=j=>{if(j.preventDefault(),y()){const N=[...new Set(l)],C={id:`prospect-${Date.now()}`,name:u.name,email:u.email,phone:u.phone,company:u.company,address:"",tags:N,status:"Intéressé",hasAppointment:!1,ownerId:h.id||"user-1"};s(C),localStorage.setItem("userProjects",JSON.stringify(N)),r(N);const S={id:C.id,name:C.name,email:C.email,phone:C.phone,company:C.company,address:C.address};let P=h.name;!P&&h.id&&i[h.id]&&(P=i[h.id].name),!P&&i["user-1"]&&(P=i["user-1"].name),P||(P="Admin"),a(S,P),sessionStorage.removeItem("affiliateUser"),K({title:"Inscription réussie !",description:"Bienvenue dans votre espace Evatime."}),e("/dashboard")}};return console.log("Affiliation DEBUG:",{affiliateInfo:h}),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:o.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-lg bg-white p-8 rounded-2xl shadow-soft",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 text-center mb-2",children:"Choisissez vos projets"}),o.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Commencez par sélectionner les projets qui vous intéressent."}),o.jsxs("form",{onSubmit:w,className:"space-y-6",children:[o.jsx("div",{className:"space-y-4",children:v.map((j,N)=>o.jsx(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*(N+1)},children:o.jsxs(Z,{htmlFor:j.id,className:`flex items-center space-x-3 p-4 rounded-lg border-2 cursor-pointer transition-all ${l.includes(j.id)?"bg-green-50 border-green-300":"bg-gray-50 border-gray-200 hover:border-gray-300"}`,children:[o.jsx(Mn,{id:j.id,checked:l.includes(j.id),onCheckedChange:()=>b(j.id)}),o.jsxs("span",{className:"text-base font-medium text-gray-800 flex items-center",children:[o.jsx("span",{className:"mr-2",children:j.icon})," ",j.label]})]})},j.id))}),o.jsxs("div",{className:"space-y-4 pt-6 border-t mt-6",children:[o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"name",children:"Nom complet"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx(fe,{id:"name",placeholder:"Jack Dupont",onChange:x,value:u.name,className:"pl-10"})]}),f.name&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.name})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"company",children:"Société (Optionnel)"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(i2,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx(fe,{id:"company",placeholder:"Nom de votre société",onChange:x,value:u.company,className:"pl-10"})]})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"phone",children:"Téléphone"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx(fe,{id:"phone",type:"tel",placeholder:"06 12 34 56 78",onChange:x,value:u.phone,className:"pl-10"})]}),f.phone&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.phone})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"email",children:"Email"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(Lt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx(fe,{id:"email",type:"email",placeholder:"jack.dupont@email.com",onChange:x,value:u.email,className:"pl-10"})]}),f.email&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.email})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"password",children:"Mot de passe"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(f2,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx(fe,{id:"password",type:"password",placeholder:"••••••••",onChange:x,value:u.password,className:"pl-10"})]}),f.password&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.password})]})]}),o.jsx(B,{type:"submit",size:"lg",className:"w-full gradient-green text-white text-base font-semibold py-6 rounded-xl shadow-soft hover:shadow-lg transition-all transform hover:scale-105",children:"Valider et accéder à mon espace"})]})]})})},Aoe=()=>{const e=Vt(),{setUserProjects:t,addProspect:n,setCurrentUser:r}=Ce(),[s,a]=m.useState({company:"",name:"",email:"",phone:"",password:""}),[i,l]=m.useState({}),c=f=>{const{id:p,value:h}=f.target;a(g=>({...g,[p]:h}))},u=()=>{const f={};return s.company||(f.company="Le nom de l'entreprise est requis."),s.name||(f.name="Le nom complet est requis."),s.email?/\S+@\S+\.\S+/.test(s.email)||(f.email="L'adresse e-mail est invalide."):f.email="L'adresse e-mail est requise.",s.phone||(f.phone="Le numéro de téléphone est requis."),s.password?s.password.length<6&&(f.password="Le mot de passe doit contenir au moins 6 caractères."):f.password="Le mot de passe est requis.",l(f),Object.keys(f).length===0},d=f=>{if(f.preventDefault(),u()){const p=["ProducteurPro"],h={id:`prospect-${Date.now()}`,name:s.name,companyName:s.company,email:s.email,phone:s.phone,address:"",tags:p,status:"Intéressé",hasAppointment:!1};n(h),localStorage.setItem("userProjects",JSON.stringify(p)),t&&t(p);const g={id:h.id,name:h.name,email:h.email};localStorage.setItem("currentUser",JSON.stringify(g)),r(g),K({title:"Inscription réussie !",description:"Bienvenue dans votre espace partenaire Evatime."}),e("/dashboard")}};return o.jsx("div",{className:"min-h-screen bg-gray-900 text-white",children:o.jsx("div",{className:"container mx-auto px-4 py-16 lg:py-24",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-24 items-center",children:[o.jsxs(ee.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},className:"space-y-8",children:[o.jsxs("h1",{className:"text-4xl lg:text-6xl font-extrabold tracking-tight",children:["Vendez votre électricité à un tarif ",o.jsx("span",{className:"text-green-400",children:"plus attractif"})," que l'EDF OA."]}),o.jsx("p",{className:"text-lg text-gray-300",children:"Grâce à l'autoconsommation collective (ACC), vous pouvez vendre votre surplus d'énergie directement aux consommateurs locaux, en court-circuitant les tarifs d'obligation d'achat. Augmentez la rentabilité de vos centrales, qu'il s'agisse d'une seule installation ou d'un parc entier."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"bg-green-500/20 p-2 rounded-full",children:o.jsx(iL,{className:"h-5 w-5 text-green-400"})}),o.jsxs("p",{children:[o.jsx("span",{className:"font-bold",children:"Rentabilité Maximale :"})," Obtenez un meilleur prix pour chaque kWh produit."]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"bg-green-500/20 p-2 rounded-full",children:o.jsx(Rr,{className:"h-5 w-5 text-green-400"})}),o.jsxs("p",{children:[o.jsx("span",{className:"font-bold",children:"Circuit Court :"})," Vendez localement et renforcez votre impact territorial."]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"bg-green-500/20 p-2 rounded-full",children:o.jsx(Am,{className:"h-5 w-5 text-green-400"})}),o.jsxs("p",{children:[o.jsx("span",{className:"font-bold",children:"Simplicité Garantie :"})," Notre plateforme gère la complexité administrative pour vous."]})]})]})]}),o.jsxs(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},className:"bg-white/10 backdrop-blur-md p-8 rounded-2xl shadow-2xl border border-white/20",children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-6",children:"Devenez Partenaire Producteur"}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"company",className:"text-gray-300",children:"Nom de l'entreprise"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(Tm,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx(fe,{id:"company",placeholder:"Solar Corp",onChange:c,value:s.company,className:"pl-10 bg-white/10 text-white placeholder-gray-400 border-white/30 focus:ring-green-400 focus:border-green-400"})]}),i.company&&o.jsx("p",{className:"text-red-400 text-xs mt-1",children:i.company})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"name",className:"text-gray-300",children:"Nom complet"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx(fe,{id:"name",placeholder:"Jack Dupont",onChange:c,value:s.name,className:"pl-10 bg-white/10 text-white placeholder-gray-400 border-white/30 focus:ring-green-400 focus:border-green-400"})]}),i.name&&o.jsx("p",{className:"text-red-400 text-xs mt-1",children:i.name})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"phone",className:"text-gray-300",children:"Téléphone"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx(fe,{id:"phone",type:"tel",placeholder:"06 12 34 56 78",onChange:c,value:s.phone,className:"pl-10 bg-white/10 text-white placeholder-gray-400 border-white/30 focus:ring-green-400 focus:border-green-400"})]}),i.phone&&o.jsx("p",{className:"text-red-400 text-xs mt-1",children:i.phone})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"email",className:"text-gray-300",children:"Email"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(Lt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx(fe,{id:"email",type:"email",placeholder:"jack.dupont@email.com",onChange:c,value:s.email,className:"pl-10 bg-white/10 text-white placeholder-gray-400 border-white/30 focus:ring-green-400 focus:border-green-400"})]}),i.email&&o.jsx("p",{className:"text-red-400 text-xs mt-1",children:i.email})]}),o.jsxs("div",{children:[o.jsx(Z,{htmlFor:"password",className:"text-gray-300",children:"Mot de passe"}),o.jsxs("div",{className:"relative mt-1",children:[o.jsx(f2,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx(fe,{id:"password",type:"password",placeholder:"••••••••",onChange:c,value:s.password,className:"pl-10 bg-white/10 text-white placeholder-gray-400 border-white/30 focus:ring-green-400 focus:border-green-400"})]}),i.password&&o.jsx("p",{className:"text-red-400 text-xs mt-1",children:i.password})]}),o.jsx(B,{type:"submit",size:"lg",className:"w-full bg-green-500 hover:bg-green-600 text-gray-900 font-bold py-6 rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:scale-105 mt-4",children:"Je maximise mes revenus"})]})]})]})})})},JC=[{id:"name",name:"Nom*",type:"text",placeholder:"Jean Dupont",required:!0},{id:"companyName",name:"Société",type:"text",placeholder:"Nom de la société (optionnel)",required:!1},{id:"email",name:"Email*",type:"email",placeholder:"jean.dupont@email.com",required:!0},{id:"phone",name:"Téléphone",type:"text",placeholder:"06 12 34 56 78",required:!1},{id:"address",name:"Adresse",type:"text",placeholder:"1 Rue de la Paix, 75002 Paris",required:!1}],mO=G.createContext(),Ce=()=>G.useContext(mO);function koe(){const e=ms(),t=Vt(),n=e.pathname.startsWith("/admin"),[r,s]=m.useState([]),[a,i]=m.useState({}),[l,c]=m.useState([]),[u,d]=m.useState(null),[f,p]=m.useState([]),[h,g]=m.useState({}),[v,b]=m.useState([]),[x,y]=m.useState([]),[w,j]=m.useState({}),[N,C]=m.useState({}),[S,P]=m.useState([]),[R,E]=m.useState({}),[D,A]=m.useState({}),[$,I]=m.useState([]),[z,V]=m.useState(null);m.useEffect(()=>{const X=localStorage.getItem("evatime_projects_data");X?i(JSON.parse(X)):(i(ol),localStorage.setItem("evatime_projects_data",JSON.stringify(ol)));const se=localStorage.getItem("userProjects");if(se){const Ve=JSON.parse(se),We=Ve.filter(_e=>a[_e]);Ve.length!==We.length&&localStorage.setItem("userProjects",JSON.stringify(We)),s(We)}else{const Ve=["ACC"];localStorage.setItem("userProjects",JSON.stringify(Ve)),s(Ve)}const te=localStorage.getItem("evatime_prospects");if(te){const We=JSON.parse(te).map(_e=>{const wn=Array.isArray(_e.tags)?_e.tags:typeof _e.tags=="string"&&_e.tags.trim()?[_e.tags.trim()]:_e.projectType?[_e.projectType]:[];return{..._e,tags:wn}});c(We),localStorage.setItem("evatime_prospects",JSON.stringify(We))}else{const Ve=[{id:"prospect-1",name:"Jean Dupont",email:"jean.dupont@example.com",phone:"01 23 45 67 89",company:"Dupont SA",address:"123 Rue de la Paix, 75001 Paris",ownerId:"user-1",status:"lead",tags:["ACC"]},{id:"prospect-2",name:"Marie Martin",email:"marie.martin@example.com",phone:"09 87 65 43 21",company:"Martin & Co",address:"456 Avenue des Champs, 69000 Lyon",ownerId:"user-1",status:"qualified",tags:["Centrale"]},{id:"prospect-3",name:"Pierre Durand",email:"pierre.durand@example.com",phone:"04 56 78 90 12",company:"Durand Industries",address:"789 Boulevard du Commerce, 13000 Marseille",ownerId:"user-1",status:"opportunity",tags:["Investissement"]}];c(Ve),localStorage.setItem("evatime_prospects",JSON.stringify(Ve))}const me=localStorage.getItem("currentUser"),$e=me?JSON.parse(me):null;d($e),$e&&$e.tags&&Array.isArray($e.tags)&&(s($e.tags),localStorage.setItem("userProjects",JSON.stringify($e.tags)));const ze=localStorage.getItem("evatime_appointments");if(ze){const Ve=JSON.parse(ze).map(We=>({...We,start:new Date(We.start),end:new Date(We.end),status:We.status||"pending"}));p(Ve)}const Be=localStorage.getItem("evatime_project_steps_status");g(Be?JSON.parse(Be):{});const Je=localStorage.getItem("evatime_calls");if(Je)b(JSON.parse(Je));else{const Ve=[{id:"call-overdue-1",name:"Appel commercial urgent",date:"2025-10-10",time:"14:30",contactId:"prospect-1",assignedUserId:"user-1",status:"pending"},{id:"call-overdue-2",name:"Suivi client important",date:"2025-10-11",time:"10:00",contactId:"prospect-2",assignedUserId:"user-1",status:"pending"},{id:"call-today-1",name:"Appel de suivi",date:"2025-10-13",time:"16:00",contactId:"prospect-3",assignedUserId:"user-1",status:"pending"}];b(Ve),localStorage.setItem("evatime_calls",JSON.stringify(Ve))}const $n=localStorage.getItem("evatime_tasks");if($n)y(JSON.parse($n));else{const Ve=[{id:"task-overdue-1",text:"Préparer devis pour client VIP",date:"2025-10-09",contactId:"prospect-1",assignedUserId:"user-1",done:!1},{id:"task-overdue-2",text:"Envoyer documentation technique",date:"2025-10-10",contactId:"prospect-2",assignedUserId:"user-1",done:!1},{id:"task-today-1",text:"Finaliser présentation",date:"2025-10-13",contactId:"prospect-3",assignedUserId:"user-1",done:!1}];y(Ve),localStorage.setItem("evatime_tasks",JSON.stringify(Ve))}const xs=localStorage.getItem("evatime_users");let _n;xs?(_n=JSON.parse(xs),j(_n)):(_n=[{id:"user-1",name:"Jack Luc",email:"jack.luc@icloud.com",role:"Global Admin",manager:"",accessRights:{modules:["Pipeline","Agenda","Contacts"],users:[]}},{id:"user-2",name:"Charly",email:"charly.rosca.ai@gmail.com",role:"Manager",manager:"",accessRights:{modules:["Pipeline","Agenda","Contacts"],users:[]}},{id:"user-3",name:"Lucas",email:"luca23@yopmail.com",role:"Commercial",manager:"Charly",accessRights:{modules:["Pipeline","Agenda","Contacts"],users:[]}},{id:"user-4",name:"Joe",email:"lucjeanjacques@gmail.com",role:"Commercial",manager:"Charly",accessRights:{modules:["Pipeline","Agenda","Contacts"],users:[]}},{id:"user-5",name:"Marie",email:"marie@example.com",role:"Commercial",manager:"Charly",accessRights:{modules:["Pipeline","Agenda","Contacts"],users:[]}},{id:"user-6",name:"Pierre",email:"pierre@example.com",role:"Manager",manager:"",accessRights:{modules:["Pipeline","Agenda","Contacts"],users:[]}}].reduce((We,_e)=>(We[_e.id]=_e,We),{}),j(_n),localStorage.setItem("evatime_users",JSON.stringify(_n)));const Xa=localStorage.getItem("activeAdminUser");if(Xa)V(JSON.parse(Xa));else if(_n&&_n["user-1"]){const Ve=_n["user-1"];V(Ve),localStorage.setItem("activeAdminUser",JSON.stringify(Ve))}const Ja=localStorage.getItem("evatime_chat_messages");C(Ja?JSON.parse(Ja):{});const Qa=localStorage.getItem("evatime_notifications");P(Qa?JSON.parse(Qa):[]);const vt=localStorage.getItem("evatime_forms");E(vt?JSON.parse(vt):{});const bt=localStorage.getItem("evatime_prompts");A(bt?JSON.parse(bt):{});const Rt=localStorage.getItem("evatime_form_contact_config");Rt?I(JSON.parse(Rt)):(I(JC),localStorage.setItem("evatime_form_contact_config",JSON.stringify(JC)))},[]);const k=X=>{i(X),localStorage.setItem("evatime_projects_data",JSON.stringify(X))},T=X=>{E(X),localStorage.setItem("evatime_forms",JSON.stringify(X))},_=X=>{A(X),localStorage.setItem("evatime_prompts",JSON.stringify(X))},O=X=>{I(X),localStorage.setItem("evatime_form_contact_config",JSON.stringify(X))},M=(X,se,te)=>{var ze;const me=`chat_${X}_${se}`,$e={...te,timestamp:new Date().toISOString()};if(C(Be=>{const Je={...Be};return Je[me]||(Je[me]=[]),Je[me].push($e),localStorage.setItem("evatime_chat_messages",JSON.stringify(Je)),Je}),te.file&&te.sender==="client"){const Be=`prospect_${X}_project_${se}`,Je=localStorage.getItem(Be),$n=Je?JSON.parse(Je):{};se==="ACC"&&!$n.ribFile&&($n.ribFile=te.file.name,localStorage.setItem(Be,JSON.stringify($n)))}if(te.sender==="client"){const Be=l.find(Je=>Je.id===X);if(Be){const Je={id:Date.now(),prospectId:X,projectType:se,prospectName:Be.name,projectName:((ze=a[se])==null?void 0:ze.title)||se,read:!1,timestamp:new Date().toISOString()};P($n=>{const xs=[Je,...$n];return localStorage.setItem("evatime_notifications",JSON.stringify(xs)),xs})}}},F=X=>{P(se=>{const te=se.map(me=>me.id===X?{...me,read:!0}:me);return localStorage.setItem("evatime_notifications",JSON.stringify(te)),te})},W=(X,se)=>{const te=`chat_${X}_${se}`;return N[te]||[]},J=(X,se,te)=>f.filter(me=>me.share===!0&&me.contactId===X&&me.projectId===se&&me.step===te),ie=X=>{j(X),localStorage.setItem("evatime_users",JSON.stringify(X))},H=X=>{const se=w[X];if(!se)return;let te="user-1";if(se.manager){const ze=Object.values(w).find(Be=>Be.name===se.manager);ze&&(te=ze.id)}const me=l.map(ze=>ze.ownerId===X?{...ze,ownerId:te}:ze);c(me),localStorage.setItem("evatime_prospects",JSON.stringify(me));const $e={...w};delete $e[X],ie($e)},U=X=>{p(se=>{const te=[...se,{...X,status:"pending"}];return localStorage.setItem("evatime_appointments",JSON.stringify(te)),te})},oe=X=>{p(se=>{const te=se.map(me=>me.id===X.id?X:me);return localStorage.setItem("evatime_appointments",JSON.stringify(te)),te})},ae=X=>{p(se=>{const te=se.filter(me=>me.id!==X);return localStorage.setItem("evatime_appointments",JSON.stringify(te)),te})},q=X=>{b(se=>{const te=[...se,{...X,status:"pending"}];return localStorage.setItem("evatime_calls",JSON.stringify(te)),te})},de=X=>{b(se=>{const te=se.map(me=>me.id===X.id?X:me);return localStorage.setItem("evatime_calls",JSON.stringify(te)),te})},ce=X=>{b(se=>{const te=se.filter(me=>me.id!==X);return localStorage.setItem("evatime_calls",JSON.stringify(te)),te})},Pe=X=>{y(se=>{const te=[...se,{...X,done:!1}];return localStorage.setItem("evatime_tasks",JSON.stringify(te)),te})},ke=X=>{y(se=>{const te=se.map(me=>me.id===X.id?X:me);return localStorage.setItem("evatime_tasks",JSON.stringify(te)),te})},Xe=X=>{y(se=>{const te=se.filter(me=>me.id!==X);return localStorage.setItem("evatime_tasks",JSON.stringify(te)),te})},Y=(X,se,te)=>{const me=`prospect_${X}_project_${se}`;g($e=>{const ze={...$e,[me]:te};return localStorage.setItem("evatime_project_steps_status",JSON.stringify(ze)),ze})},re=(X,se)=>{var ze;const te=`prospect_${X}_project_${se}`,me=h[te],$e=(ze=a[se])==null?void 0:ze.steps;if(me)return me;if($e){const Be=JSON.parse(JSON.stringify($e));return Object.keys(h).includes(te)||Be.length>0&&(Be[0].status="in_progress"),Y(X,se,Be),Be}return[]},ta={userProjects:r,setUserProjects:s,addProject:X=>{var te;if(r.includes(X))return!1;const se=[...r,X];if(s(se),localStorage.setItem("userProjects",JSON.stringify(se)),u){c($e=>{const ze=$e.map(Be=>{if(Be.id===u.id){if(Be.tags.includes(X))return Be;const Je=[...Be.tags,X];return{...Be,tags:Je}}return Be});return localStorage.setItem("evatime_prospects",JSON.stringify(ze)),ze});const me=(te=a[X])==null?void 0:te.steps;if(me&&me.length>0){const $e=JSON.parse(JSON.stringify(me));$e[0].status="in_progress",Y(u.id,X,$e)}}return!0},projectsData:a,setProjectsData:k,prospects:l,setProspects:c,addProspect:X=>{c(se=>{const te=[X,...se];return localStorage.setItem("evatime_prospects",JSON.stringify(te)),te})},updateProspect:X=>{c(se=>{const te=se.map(me=>me.id===X.id?X:me);return localStorage.setItem("evatime_prospects",JSON.stringify(te)),te}),u&&u.id===X.id&&(d(X),localStorage.setItem("currentUser",JSON.stringify(X)),X.tags&&(s(X.tags),localStorage.setItem("userProjects",JSON.stringify(X.tags))))},currentUser:u,setCurrentUser:(X,se)=>{const te=X?{...X,affiliateName:se}:null;d(te),te?(localStorage.setItem("currentUser",JSON.stringify(te)),te.tags&&Array.isArray(te.tags)&&(s(te.tags),localStorage.setItem("userProjects",JSON.stringify(te.tags)))):(localStorage.removeItem("currentUser"),t("/"))},appointments:f,addAppointment:U,updateAppointment:oe,deleteAppointment:ae,getSharedAppointments:J,getProjectSteps:re,updateProjectSteps:Y,completeStepAndProceed:(X,se,te)=>{const me=re(X,se);if(te<0||te>=me.length)return;const $e=JSON.parse(JSON.stringify(me));$e[te].status="completed",te+1<$e.length&&($e[te+1].status="in_progress"),Y(X,se,$e)},calls:v,addCall:q,updateCall:de,deleteCall:ce,tasks:x,addTask:Pe,updateTask:ke,deleteTask:Xe,users:w,updateUsers:ie,deleteUser:H,getAdminById:X=>w[X]||null,chatMessages:N,addChatMessage:M,getChatMessages:W,notifications:S,markNotificationAsRead:F,forms:R,setForms:T,prompts:D,setPrompts:_,formContactConfig:$,setFormContactConfig:O,activeAdminUser:z,switchActiveAdminUser:X=>{const se=w[X];se&&(V(se),localStorage.setItem("activeAdminUser",JSON.stringify(se)),K({title:`Connecté en tant que ${se.name}`,description:`Vous naviguez maintenant avec le profil de ${se.name}.`,className:"bg-blue-600 text-white"}))}},Qs=()=>e.pathname==="/"?"Evatime - Économisez sur votre électricité":e.pathname.startsWith("/inscription")?"Evatime - Démarrez votre projet":e.pathname==="/producteurs"?"Evatime - Vendez mieux votre électricité":e.pathname.startsWith("/dashboard/offres")?"Evatime - Nos Offres Exclusives":e.pathname.startsWith("/dashboard/profil")?"Evatime - Votre Profil":e.pathname.startsWith("/dashboard")?"Evatime - Votre Espace Client":e.pathname.startsWith("/admin/profil")?"Evatime Pro - Mon Profil":e.pathname.startsWith("/admin/charly")?"Evatime Pro - Charly AI":n?"Evatime Pro - Espace Admin":"Evatime",bn=()=>e.pathname==="/"?"Dépensez 35 % de moins sur votre électricité, garanti 10 ans.":e.pathname.startsWith("/inscription")?"Choisissez vos projets et rejoignez Evatime.":e.pathname==="/producteurs"?"Optimisez la rentabilité de vos centrales solaires avec l'autoconsommation collective.":e.pathname.startsWith("/dashboard/offres")?"Découvrez nos offres pour l'autonomie énergétique, la production solaire et l'investissement.":e.pathname.startsWith("/dashboard/profil")?"Gérez vos informations personnelles et vos préférences.":e.pathname.startsWith("/dashboard")?"Suivez l'avancement de vos projets énergétiques ACC, solaire, et plus.":e.pathname.startsWith("/admin/profil")?"Gérez vos informations, utilisateurs et clients.":e.pathname.startsWith("/admin/charly")?"Gérez vos campagnes et scripts avec votre assistant IA Charly.":n?"Gérez vos prospects, projets et agenda avec Evatime Pro.":"La solution pour vos projets énergétiques.";return o.jsxs(mO.Provider,{value:ta,children:[o.jsxs(Rv,{children:[o.jsx("title",{children:Qs()}),o.jsx("meta",{name:"description",content:bn()}),o.jsx("meta",{property:"og:title",content:Qs()}),o.jsx("meta",{property:"og:description",content:bn()})]}),o.jsxs(k5,{children:[o.jsx(Ie,{path:"/",element:o.jsx(KC,{})}),o.jsx(Ie,{path:"/:slugUser",element:o.jsx(KC,{})}),o.jsx(Ie,{path:"/inscription",element:o.jsx(XC,{})}),o.jsx(Ie,{path:"/inscription/:slugUser",element:o.jsx(XC,{})}),o.jsx(Ie,{path:"/producteurs",element:o.jsx(Aoe,{})}),o.jsxs(Ie,{path:"/dashboard",element:o.jsx(FW,{}),children:[o.jsx(Ie,{index:!0,element:o.jsx(Noe,{})}),o.jsx(Ie,{path:"documents",element:o.jsx(Poe,{})}),o.jsx(Ie,{path:"profil",element:o.jsx(qC,{})}),o.jsx(Ie,{path:"offres",element:o.jsx(Doe,{})})]}),o.jsxs(Ie,{path:"/admin",element:o.jsx(_W,{}),children:[o.jsx(Ie,{index:!0,element:o.jsx(qd,{})}),o.jsx(Ie,{path:"pipeline",element:o.jsx(qd,{})}),o.jsx(Ie,{path:"pipeline-switcher",element:o.jsx(XQ,{})}),o.jsx(Ie,{path:"agenda",element:o.jsx(EQ,{})}),o.jsx(Ie,{path:"contacts",element:o.jsx(oZ,{})}),o.jsx(Ie,{path:"charly",element:o.jsx(hZ,{})}),o.jsx(Ie,{path:"profil",element:o.jsx(moe,{})}),o.jsx(Ie,{path:"parametres",element:o.jsx(qC,{})}),o.jsx(Ie,{path:"test",element:o.jsx(BQ,{})}),o.jsx(Ie,{path:"progressive",element:o.jsx(VQ,{})}),o.jsx(Ie,{path:"clean",element:o.jsx(WQ,{})}),o.jsx(Ie,{path:"original",element:o.jsx(AR,{})}),o.jsx(Ie,{path:"contacts-original",element:o.jsx(fZ,{})}),o.jsx(Ie,{path:"contacts-safe",element:o.jsx(eZ,{})}),o.jsx(Ie,{path:"contacts-ultra",element:o.jsx(tZ,{})}),o.jsx(Ie,{path:"final",element:o.jsx(qd,{})}),o.jsx(Ie,{path:"ultra",element:o.jsx(JQ,{})}),o.jsx(Ie,{path:"simple",element:o.jsx(aZ,{})}),o.jsx(Ie,{path:"fixed-pipeline",element:o.jsx(_Q,{})}),o.jsx(Ie,{path:"working-pipeline",element:o.jsx(lZ,{})}),o.jsx(Ie,{path:"safe-pipeline",element:o.jsx(iZ,{})}),o.jsx(Ie,{path:"diagnostic",element:o.jsx(cZ,{})})]})]}),o.jsx(jL,{})]})}Mg.createRoot(document.getElementById("root")).render(o.jsx(G.StrictMode,{children:o.jsx(L5,{children:o.jsx(koe,{})})}));
